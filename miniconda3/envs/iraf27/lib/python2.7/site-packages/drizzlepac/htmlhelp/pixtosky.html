

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pixtosky: Coordinate transformation to sky coordinates &mdash; DrizzlePac 2.2.6 (2018-11-02 15:37:13 -0400) documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/stsci.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/stsci.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="DrizzlePac 2.2.6 (2018-11-02 15:37:13 -0400) documentation" href="index.html"/>
        <link rel="next" title="skytopix: Coordinate transformation from sky coordinates" href="skytopix.html"/>
        <link rel="prev" title="pixtopix: Coordinate transformation to/from drizzled images" href="pixtopix.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
            <a href="index.html" class="icon icon-home"> DrizzlePac
            
            <img src="_static/stsci_pri_combo_mark_white.png" class="logo" />
          </a>

          
            
            
              <div class="version">
                2.2.6
              </div>
            
          
          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
  
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="astrodrizzle.html">Primary User Interface: AstroDrizzle()</a></li>
<li class="toctree-l1"><a class="reference internal" href="imageobject.html">imageObject Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="process.html">Step 1: Process Input</a></li>
<li class="toctree-l1"><a class="reference internal" href="static.html">Step 2: Generate a Static Mask</a></li>
<li class="toctree-l1"><a class="reference internal" href="sky.html">Step 3: Subtracting the Sky</a></li>
<li class="toctree-l1"><a class="reference internal" href="adrizzle.html">Step 4 and 8: Drizzling the Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="median.html">Step 5: Create a Median Image</a></li>
<li class="toctree-l1"><a class="reference internal" href="ablot.html">Step 6: Blotting the Median Image</a></li>
<li class="toctree-l1"><a class="reference internal" href="drizcr.html">Step 7: Cosmic-ray identification</a></li>
<li class="toctree-l1"><a class="reference internal" href="util.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="tweakback.html">Tweakback</a></li>
<li class="toctree-l1"><a class="reference internal" href="LICENSE.html">LICENSE</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="CHANGELOG.html">DrizzlePac Release Notes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tweakreg.html">TWEAKREG: Alignment of Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="refimagefindpars.html">Refmagefindpars: Source finding parameters for the reference image</a></li>
<li class="toctree-l1"><a class="reference internal" href="imagefindpars.html">Imagefindpars: Source finding parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="image.html">Image Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="catalogs.html">Classes to manage Catalogs and WCS’s</a></li>
<li class="toctree-l1"><a class="reference internal" href="wcscorr.html">Functions to Manage WCS Table Extension</a></li>
<li class="toctree-l1"><a class="reference internal" href="wcscorr.html#functions-to-manage-legacy-opus-wcs-keywords-in-the-wcs-table">Functions to Manage Legacy OPUS WCS Keywords in the WCS Table</a></li>
<li class="toctree-l1"><a class="reference internal" href="tweakutils.html">TWEAKUTILS: Utility Functions for Tweakreg</a></li>
<li class="toctree-l1"><a class="reference internal" href="updatehdr.html">UPDATEHDR: Functions for Updating WCS with New Solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="mapreg.html">Region mapping for TweakReg</a></li>
<li class="toctree-l1"><a class="reference internal" href="photeq.html">Photometric equalization for AstroDrizzle</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="pixtopix.html">pixtopix: Coordinate transformation to/from drizzled images</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">pixtosky: Coordinate transformation to sky coordinates</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#optional-parameters">Optional Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#returns">Returns</a></li>
<li class="toctree-l2"><a class="reference internal" href="#notes">Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#see-also">See Also</a></li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="skytopix.html">skytopix: Coordinate transformation from sky coordinates</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="updatenpol.html">Updatenpol</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="runastrodriz.html">Running Astrodriz</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">DrizzlePac</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>pixtosky: Coordinate transformation to sky coordinates</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/pixtosky.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pixtosky-coordinate-transformation-to-sky-coordinates">
<span id="pixtosky"></span><h1>pixtosky: Coordinate transformation to sky coordinates<a class="headerlink" href="#pixtosky-coordinate-transformation-to-sky-coordinates" title="Permalink to this headline">¶</a></h1>
<p>This task allows a user to perform coordinate transformations
with the full WCS and distortion model on source positions
from an input image to sky coordinates.  This task serves as
a replacement for the IRAF.STSDAS task <code class="xref py py-obj docutils literal notranslate"><span class="pre">xy2rd</span></code>, albeit with the
added capability of understanding the full distortion model
provided in the headers of images updated for use with astrodrizzle and
tweakreg.</p>
<span class="target" id="module-drizzlepac.pixtosky"></span><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">pixtosky</span></code> transforms pixel positions given as X,Y values into
positions on the sky based on the WCS information and any recognized
distortion keywords from the input image header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Authors:</th><td class="field-body">Warren Hack</td>
</tr>
<tr class="field-even field"><th class="field-name">License:</th><td class="field-body"><a class="reference external" href="http://www.stsci.edu/resources/software_hardware/pyraf/LICENSE">http://www.stsci.edu/resources/software_hardware/pyraf/LICENSE</a></td>
</tr>
</tbody>
</table>
<div class="section" id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="docutils">
<dt>input <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>full filename with path of input image, an extension name
[‘sci’,1] should be provided if input is a multi-extension
FITS file.</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="optional-parameters">
<h2>Optional Parameters<a class="headerlink" href="#optional-parameters" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="docutils">
<dt>x <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span></dt>
<dd>X position from input image</dd>
<dt>y <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span></dt>
<dd>Y position from input image</dd>
<dt>coords <span class="classifier-delimiter">:</span> <span class="classifier">str, deprecated</span></dt>
<dd>[DEPRECATED] full filename with path of file with x,y coordinates
Filename given here will be <em>ignored</em> if a file has been specified
in <code class="xref py py-obj docutils literal notranslate"><span class="pre">coordfile</span></code> parameter.</dd>
<dt>coordfile <span class="classifier-delimiter">:</span> <span class="classifier">str, optional</span></dt>
<dd>full filename with path of file with x,y coordinates</dd>
<dt>colnames <span class="classifier-delimiter">:</span> <span class="classifier">str, optional</span></dt>
<dd>comma separated list of column names from ‘coords’ files
containing x,y coordinates, respectively. Will default to
first two columns if None are specified. Column names for ASCII
files will use ‘c1’,’c2’,… convention.</dd>
<dt>separator <span class="classifier-delimiter">:</span> <span class="classifier">str, optional</span></dt>
<dd>non-blank separator used as the column delimiter in the coords file</dd>
<dt>hms <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional  (Default: False)</span></dt>
<dd>Produce output in <code class="docutils literal notranslate"><span class="pre">HH:MM:SS.S</span></code> format instead of decimal
degrees?</dd>
<dt>precision <span class="classifier-delimiter">:</span> <span class="classifier">int, optional</span></dt>
<dd>Number of floating-point digits in output values</dd>
<dt>output <span class="classifier-delimiter">:</span> <span class="classifier">str, optional</span></dt>
<dd>Name of output file with results, if desired</dd>
<dt>verbose <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default: False)</span></dt>
<dd>Print out full list of transformation results</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="returns">
<h2>Returns<a class="headerlink" href="#returns" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="docutils">
<dt>ra <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Right Ascension of pixel. If more than 1 input value, then it will be a
numpy array.</dd>
<dt>dec <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Declination of pixel. If more than 1 input value, then it will be a
numpy array.</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<p>This task performs a full distortion-correction coordinate transformation
based on all WCS keywords and any recognized distortion keywords from the
input image header. The transformation recognizes the conventions for
describing distortion implemented as part of the SIP and Paper IV conventions
used with <code class="xref py py-obj docutils literal notranslate"><span class="pre">AstroDrizzle</span></code>.  Input images can be updated to use these conventions
through the use of the <code class="xref py py-obj docutils literal notranslate"><span class="pre">updatewcs</span></code> module the STWCS package.</p>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">stwcs</span></code></p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>This task can be run from either the TEAL GUI or from the Python
command-line. These examples illustrate the syntax that can be used
to run the task in a couple of common modes.</p>
<ol class="arabic">
<li><p class="first">Run the task using the TEAL GUI under PyRAF:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">drizzlepac</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">epar</span> <span class="n">pixtosky</span>
</pre></div>
</div>
</li>
<li><p class="first">Convert a single X,Y position (100,100) from an calibrated ACS image
(<code class="docutils literal notranslate"><span class="pre">j8bt06nyq_flt.fits</span></code>) into an undistorted sky position (RA,Dec)
without using the TEAL GUI:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">drizzlepac</span> <span class="k">import</span> <span class="n">pixtosky</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">pixtosky</span><span class="o">.</span><span class="n">xy2rd</span><span class="p">(</span><span class="s2">&quot;j8bt06nyq_flt.fits[sci,1]&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Convert a list of X,Y positions from the file <code class="docutils literal notranslate"><span class="pre">'xyfile.dat'</span></code> for a
calibrated ACS image (<code class="docutils literal notranslate"><span class="pre">j8bt06nyq_flt.fits</span></code>) into undistorted sky
positions and write out the result to the file ‘radec.dat’
without using the TEAL GUI:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">pixtosky</span><span class="o">.</span><span class="n">xy2rd</span><span class="p">(</span><span class="s2">&quot;j8bt06nyq_flt.fits[sci,1]&quot;</span><span class="p">,</span> <span class="n">coordfile</span><span class="o">=</span><span class="s2">&quot;xyfile.dat&quot;</span><span class="p">,</span>
<span class="gp">... </span>      <span class="n">output</span><span class="o">=</span><span class="s2">&quot;radec.dat&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">The set of X,Y positions from <code class="docutils literal notranslate"><span class="pre">'input_flt.fits[sci,1]'</span></code> stored as
the 3rd and 4th columns from the ASCII file <code class="docutils literal notranslate"><span class="pre">'xy_sci1.dat'</span></code>
will be transformed and written out to <code class="docutils literal notranslate"><span class="pre">'radec_sci1.dat'</span></code> using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">drizzlepac</span> <span class="k">import</span> <span class="n">pixtosky</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">pixtosky</span><span class="o">.</span><span class="n">xy2rd</span><span class="p">(</span><span class="s2">&quot;input_flt.fits[sci,1]&quot;</span><span class="p">,</span> <span class="n">coordfile</span><span class="o">=</span><span class="s1">&#39;xy_sci1.dat&#39;</span><span class="p">,</span>
<span class="gp">... </span>                     <span class="n">colnames</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;c3&#39;</span><span class="p">,</span><span class="s1">&#39;c4&#39;</span><span class="p">],</span> <span class="n">output</span><span class="o">=</span><span class="s2">&quot;radec_sci1.dat&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
</div>
<dl class="function">
<dt id="drizzlepac.pixtosky.xy2rd">
<code class="descclassname">drizzlepac.pixtosky.</code><code class="descname">xy2rd</code><span class="sig-paren">(</span><em>input</em>, <em>x=None</em>, <em>y=None</em>, <em>coords=None</em>, <em>coordfile=None</em>, <em>colnames=None</em>, <em>separator=None</em>, <em>hms=True</em>, <em>precision=6</em>, <em>output=None</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/pixtosky.html#xy2rd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.pixtosky.xy2rd" title="Permalink to this definition">¶</a></dt>
<dd><p>Primary interface to perform coordinate transformations from
pixel to sky coordinates using STWCS and full distortion models
read from the input image header.</p>
</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="skytopix.html" class="btn btn-neutral float-right" title="skytopix: Coordinate transformation from sky coordinates" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pixtopix.html" class="btn btn-neutral" title="pixtopix: Coordinate transformation to/from drizzled images" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Warren Hack, Nadia Dencheva, Chris Sontag, Megan Sosey, Michael Droettboom, Mihai Cara.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.2.6 (2018-11-02 15:37:13 -0400)',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>