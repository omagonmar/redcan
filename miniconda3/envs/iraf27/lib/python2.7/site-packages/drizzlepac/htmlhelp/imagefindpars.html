

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Imagefindpars: Source finding parameters &mdash; DrizzlePac 2.2.6 (2018-11-02 15:37:13 -0400) documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/stsci.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/stsci.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="DrizzlePac 2.2.6 (2018-11-02 15:37:13 -0400) documentation" href="index.html"/>
        <link rel="next" title="Image Class" href="image.html"/>
        <link rel="prev" title="Refmagefindpars: Source finding parameters for the reference image" href="refimagefindpars.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
            <a href="index.html" class="icon icon-home"> DrizzlePac
            
            <img src="_static/stsci_pri_combo_mark_white.png" class="logo" />
          </a>

          
            
            
              <div class="version">
                2.2.6
              </div>
            
          
          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
  
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="astrodrizzle.html">Primary User Interface: AstroDrizzle()</a></li>
<li class="toctree-l1"><a class="reference internal" href="imageobject.html">imageObject Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="process.html">Step 1: Process Input</a></li>
<li class="toctree-l1"><a class="reference internal" href="static.html">Step 2: Generate a Static Mask</a></li>
<li class="toctree-l1"><a class="reference internal" href="sky.html">Step 3: Subtracting the Sky</a></li>
<li class="toctree-l1"><a class="reference internal" href="adrizzle.html">Step 4 and 8: Drizzling the Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="median.html">Step 5: Create a Median Image</a></li>
<li class="toctree-l1"><a class="reference internal" href="ablot.html">Step 6: Blotting the Median Image</a></li>
<li class="toctree-l1"><a class="reference internal" href="drizcr.html">Step 7: Cosmic-ray identification</a></li>
<li class="toctree-l1"><a class="reference internal" href="util.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="tweakback.html">Tweakback</a></li>
<li class="toctree-l1"><a class="reference internal" href="LICENSE.html">LICENSE</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="CHANGELOG.html">DrizzlePac Release Notes</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tweakreg.html">TWEAKREG: Alignment of Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="refimagefindpars.html">Refmagefindpars: Source finding parameters for the reference image</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Imagefindpars: Source finding parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="image.html">Image Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="catalogs.html">Classes to manage Catalogs and WCS’s</a></li>
<li class="toctree-l1"><a class="reference internal" href="wcscorr.html">Functions to Manage WCS Table Extension</a></li>
<li class="toctree-l1"><a class="reference internal" href="wcscorr.html#functions-to-manage-legacy-opus-wcs-keywords-in-the-wcs-table">Functions to Manage Legacy OPUS WCS Keywords in the WCS Table</a></li>
<li class="toctree-l1"><a class="reference internal" href="tweakutils.html">TWEAKUTILS: Utility Functions for Tweakreg</a></li>
<li class="toctree-l1"><a class="reference internal" href="updatehdr.html">UPDATEHDR: Functions for Updating WCS with New Solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="mapreg.html">Region mapping for TweakReg</a></li>
<li class="toctree-l1"><a class="reference internal" href="photeq.html">Photometric equalization for AstroDrizzle</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="pixtopix.html">pixtopix: Coordinate transformation to/from drizzled images</a></li>
<li class="toctree-l1"><a class="reference internal" href="pixtosky.html">pixtosky: Coordinate transformation to sky coordinates</a></li>
<li class="toctree-l1"><a class="reference internal" href="skytopix.html">skytopix: Coordinate transformation from sky coordinates</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="updatenpol.html">Updatenpol</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="runastrodriz.html">Running Astrodriz</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">DrizzlePac</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Imagefindpars: Source finding parameters</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/imagefindpars.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="imagefindpars-source-finding-parameters">
<span id="imagefindpars"></span><h1>Imagefindpars: Source finding parameters<a class="headerlink" href="#imagefindpars-source-finding-parameters" title="Permalink to this headline">¶</a></h1>
<p>This interface provides a mechanism for setting the parameters used by the built-in source finding algorithm based on the published algorithms used by DAOFIND.</p>
<span class="target" id="module-drizzlepac.imagefindpars"></span><p>These parameters control the operation of the algorithm that extracts
sources from the image as called by <a class="reference internal" href="tweakreg.html#tweakreg"><span class="std std-ref">TWEAKREG: Alignment of Images</span></a>.
The algorithm implemented follows the concepts defined
by <code class="docutils literal notranslate"><span class="pre">DAOFIND</span></code> (without actually using any <code class="docutils literal notranslate"><span class="pre">DAOFIND</span></code> code).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Attributes:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>computesig</strong>: bool (Default = True)</dt>
<dd><p class="first">This parameter controls whether or not to automatically compute a
sigma value to be used for object identification. If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>,
then the value computed will override any user input for
the parameter <code class="docutils literal notranslate"><span class="pre">skysigma</span></code>. The automatic sigma value gets
computed from each input exposure as:</p>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">\sigma = \sqrt{2\left|mode\right|}

</tt>)</p>
<p>latex exited with error
[stdout]
This is pdfTeXk, Version 3.141592-1.40.3 (Web2C 7.5.6)
 %&amp;-line parsing enabled.
entering extended mode
(./math.tex
LaTeX2e &lt;2005/12/01&gt;
Babel &lt;v3.8h&gt; and hyphenation patterns for english, usenglishmax, dumylang, noh
yphenation, arabic, basque, bulgarian, coptic, welsh, czech, slovak, german, ng
erman, danish, esperanto, spanish, catalan, galician, estonian, farsi, finnish,
 french, greek, monogreek, ancientgreek, croatian, hungarian, interlingua, ibyc
us, indonesian, icelandic, italian, latin, mongolian, dutch, norsk, polish, por
tuguese, pinyin, romanian, russian, slovenian, uppersorbian, serbian, swedish, 
turkish, ukenglish, ukrainian, loaded.
(/usr/share/texmf/tex/latex/base/article.cls
Document Class: article 2005/09/16 v1.4f Standard LaTeX document class
(/usr/share/texmf/tex/latex/base/size12.clo))
(/usr/share/texmf/tex/latex/base/inputenc.sty
(/usr/share/texmf/tex/latex/ucs/utf8x.def))
(/usr/share/texmf/tex/latex/ucs/ucs.sty
(/usr/share/texmf/tex/latex/ucs/data/uni-global.def))
(/usr/share/texmf/tex/latex/amsmath/amsmath.sty
For additional information on amsmath, use the `?' option.
(/usr/share/texmf/tex/latex/amsmath/amstext.sty
(/usr/share/texmf/tex/latex/amsmath/amsgen.sty))
(/usr/share/texmf/tex/latex/amsmath/amsbsy.sty)
(/usr/share/texmf/tex/latex/amsmath/amsopn.sty))
(/usr/share/texmf/tex/latex/amscls/amsthm.sty)
(/usr/share/texmf/tex/latex/amsfonts/amssymb.sty
(/usr/share/texmf/tex/latex/amsfonts/amsfonts.sty))

! LaTeX Error: File `anyfontsize.sty' not found.

Type X to quit or &lt;RETURN&gt; to proceed,
or enter new name. (Default extension: sty)

Enter file name: 
! Emergency stop.
&lt;read *&gt; 
         
l.9 \usepackage
               {bm}^^M
No pages of output.
Transcript written on math.log.
</p>
</div>
<p class="last">This single value will then be used for object identification
for all input exposures.</p>
</dd>
<dt><strong>skysigma</strong>: float (Default = 0.0)</dt>
<dd><p class="first last">The standard deviation of the sky pixels. This value will only be
used if computesig is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
<dt><strong>conv_width</strong>: float (Default = 3.5)</dt>
<dd><p class="first last">The convolution kernel width in pixels. Recommended values
(~2x the PSF FWHM): ACS/WFC &amp; WFC3/UVIS ~3.5 pix and
WFC3/IR ~2.5 pix.</p>
</dd>
<dt><strong>peakmin</strong>: float, None (Default = None)</dt>
<dd><p class="first last">This parameter allows the user to select only those sources whose
peak value (in the units of the input image) is greater than this
value.</p>
</dd>
<dt><strong>peakmax</strong>: float, None  (Default = None)</dt>
<dd><p class="first last">This parameter allows the user to select only those sources
whose peak value (in the units of the input image) is less than
this value.</p>
</dd>
<dt><strong>threshold</strong>: float (Default = 4.0)</dt>
<dd><p class="first last">The object detection threshold above the local background in units
of sigma.</p>
</dd>
<dt><strong>nsigma</strong>: float (Default = 1.5)</dt>
<dd><p class="first last">The semi-major axis of the Gaussian convolution kernel used to
compute the density enhancement and mean density images in
Gaussian sigma.</p>
</dd>
<dt><strong>ratio</strong>: float (Default = 1.0)</dt>
<dd><p class="first last">The ratio of the sigma of the Gaussian convolution kernel along
the minor axis direction to the sigma along the major axis direction.
For a circularly-symmetric kernel use ratio = 1.0.</p>
</dd>
<dt><strong>theta</strong>: float (Default = 0.0)</dt>
<dd><p class="first last">The position angle (degrees) of the major axis of the Gaussian
convolution kernel. Theta is measured counter-clockwise from
the x axis.</p>
</dd>
<dt><strong>fluxmin</strong>: float, None (Default = None)</dt>
<dd><p class="first last">This parameter allows the user to select only those sources whose
total flux (in the units of the input image) is greater than
this value.</p>
</dd>
<dt><strong>fluxmax</strong>: float, None (Default = None)</dt>
<dd><p class="first last">This parameter allows the user to select only those sources whose
total flux (in the units of the input image) is less than this value.</p>
</dd>
<dt><strong>dqbits</strong>: int, str, None, optional (Default = None)</dt>
<dd><p class="first">Integer sum of all the DQ bit values from the input image’s DQ array
that should be considered “good” when building masks for source
finding. For example, if pixels in the DQ array can be combinations
of 1, 2, 4, and 8 flags and one wants to consider DQ “defects”
having flags 2 and 4 as being acceptable for source finding,
then <code class="xref py py-obj docutils literal notranslate"><span class="pre">dqbits</span></code> should be set to 2+4=6. Then a DQ pixel having values
2,4, or 6 will be considered a good pixel, while a DQ pixel with
a value, e.g., 1+2=3, 4+8=12, etc. will be flagged as a “bad” pixel.</p>
<p>Alternatively, one can enter a comma- or ‘+’-separated list of
integer bit flags that should be added to obtain the final “good”
bits. For example, both <code class="docutils literal notranslate"><span class="pre">4,8</span></code> and <code class="docutils literal notranslate"><span class="pre">4+8</span></code> are equivalent to
setting <code class="xref py py-obj docutils literal notranslate"><span class="pre">dqbits</span></code> to 12.</p>
<div class="line-block">
<div class="line">Setting <code class="xref py py-obj docutils literal notranslate"><span class="pre">dqbits</span></code> to 0 will make <em>all</em> non-zero pixels in the DQ
mask to be considered “bad” pixels, and the corresponding image
pixels will not be used for source finding.</div>
</div>
<div class="line-block">
<div class="line">The default value of <a class="reference external" href="https://docs.python.org/2/library/constants.html#None" title="(in Python v2.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> will turn off the use of image’s DQ
array for source finding.</div>
</div>
<div class="last line-block">
<div class="line">In order to reverse the meaning of the <code class="xref py py-obj docutils literal notranslate"><span class="pre">dqbits</span></code>
parameter from indicating values of the “good” DQ flags
to indicating the “bad” DQ flags, prepend ‘~’ to the string
value. For example, in order not to use pixels with
DQ flags 4 and 8 for source finding and to consider
as “good” all other pixels (regardless of their DQ flag),
set <code class="xref py py-obj docutils literal notranslate"><span class="pre">dqbits</span></code> to <code class="docutils literal notranslate"><span class="pre">~4+8</span></code>, or <code class="docutils literal notranslate"><span class="pre">~4,8</span></code>. To obtain the
same effect with an <a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> input value (except for 0),
enter -(4+8+1)=-9. Following this convention,
a <code class="xref py py-obj docutils literal notranslate"><span class="pre">dqbits</span></code> string value of <code class="docutils literal notranslate"><span class="pre">'~0'</span></code> would be equivalent to
setting <code class="docutils literal notranslate"><span class="pre">dqbits=None</span></code>.</div>
</div>
</dd>
<dt><strong>use_sharp_round</strong>: bool (Default = False)</dt>
<dd><p class="first last">This parameter controls whether or not to enable selection of sources
based on their sharpness and roundness statistics.</p>
</dd>
<dt><strong>sharplo</strong>: float (Default = 0.2)</dt>
<dd><p class="first last"><code class="docutils literal notranslate"><span class="pre">sharplo</span></code> and <code class="docutils literal notranslate"><span class="pre">sharphi</span></code> are designed to eliminate brightness
maxima that are due to bad pixels rather than to astronomical objects.
Only sources with sharpness above the <code class="docutils literal notranslate"><span class="pre">sharplo</span></code> value will be
selected.</p>
</dd>
<dt><strong>sharphi</strong>: float (Default = 1.0)</dt>
<dd><p class="first last"><code class="docutils literal notranslate"><span class="pre">sharplo</span></code> and <code class="docutils literal notranslate"><span class="pre">sharphi</span></code> are designed to eliminate brightness
maxima that are due to bad pixels rather than to astronomical objects.
Only sources with sharpness below the <code class="docutils literal notranslate"><span class="pre">sharphi</span></code> value will be
selected.</p>
</dd>
<dt><strong>roundlo</strong>: float (Default = -1.0)</dt>
<dd><p class="first last"><code class="docutils literal notranslate"><span class="pre">roundlo</span></code> and <code class="docutils literal notranslate"><span class="pre">roundhi</span></code> are designed to eliminate brightness
maxima that are due to bad rows or columns, rather than to
astronomical objects. Only sources with roundness above the
<code class="docutils literal notranslate"><span class="pre">roundlo</span></code> value will be selected.</p>
</dd>
<dt><strong>roundhi</strong>: float (Default = 1.0)</dt>
<dd><p class="first last"><code class="docutils literal notranslate"><span class="pre">roundlo</span></code> and <code class="docutils literal notranslate"><span class="pre">roundhi</span></code> are designed to eliminate brightness
maxima that are due to bad rows or columns, rather than to
astronomical objects. Only sources with roundness below the
<code class="docutils literal notranslate"><span class="pre">roundhi</span></code> value will be selected.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="drizzlepac.imagefindpars.getHelpAsString">
<code class="descclassname">drizzlepac.imagefindpars.</code><code class="descname">getHelpAsString</code><span class="sig-paren">(</span><em>docstring=False</em>, <em>show_ver=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/imagefindpars.html#getHelpAsString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.imagefindpars.getHelpAsString" title="Permalink to this definition">¶</a></dt>
<dd><p>return useful help from a file in the script directory called
__taskname__.help</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.imagefindpars.help">
<code class="descclassname">drizzlepac.imagefindpars.</code><code class="descname">help</code><span class="sig-paren">(</span><em>file=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/imagefindpars.html#help"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.imagefindpars.help" title="Permalink to this definition">¶</a></dt>
<dd><p>Print out syntax help for running astrodrizzle</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>file</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str (Default = None)</span></dt>
<dd><p class="first last">If given, write out help to the filename specified by this parameter
Any previously existing file with this name will be deleted before
writing out the help.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="image.html" class="btn btn-neutral float-right" title="Image Class" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="refimagefindpars.html" class="btn btn-neutral" title="Refmagefindpars: Source finding parameters for the reference image" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Warren Hack, Nadia Dencheva, Chris Sontag, Megan Sosey, Michael Droettboom, Mihai Cara.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.2.6 (2018-11-02 15:37:13 -0400)',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>