#$Header: /home/pros/xray/xtiming/doc/RCS/fold.hlp,v 11.0 1997/11/06 16:44:10 prosb Exp $
#$Log: fold.hlp,v $
#Revision 11.0  1997/11/06 16:44:10  prosb
#General Release 2.5
#
#Revision 9.0  1995/11/16 19:33:03  prosb
#General Release 2.4
#
#Revision 8.0  1994/06/27  17:38:38  prosb
#General Release 2.3.1
#
#Revision 7.0  93/12/27  19:00:00  prosb
#General Release 2.3
#
#Revision 6.1  93/12/21  12:24:16  janet
#*** empty log message ***
#
#Revision 6.0  93/05/24  16:55:45  prosb
#General Release 2.2
#
#Revision 5.0  92/10/29  22:47:57  prosb
#General Release 2.1
#
#Revision 4.2  92/10/21  17:33:43  janet
#krm updates for fds.
#
#Revision 4.0  92/04/27  15:31:18  prosb
#General Release 2.0:  April 1992
#
#Revision 3.2  92/04/24  12:08:36  janet
#revised for apr 92 release.
#
#Revision 3.1  91/09/25  11:12:40  janet
#updated with example 3 using time filter.  Added feature eith iraf 2.9.3.
#
#Revision 3.0  91/08/02  02:00:38  prosb
#General Release 1.1
#
#Revision 2.1  91/07/03  14:34:19  prosb
#xray.xtiming 7/3/91
#
#Revision 2.0  91/03/06  22:52:54  pros
#General Release 1.0
#
.help fold Dec93 xray.xtiming
.ih
NAME
fold - Fold time data at a given period and compute the count rates.
.ih
USAGE
fold source_file background_file out_table fold_period bins
.ih
DESCRIPTION
Task \fIFOLD\fR superimposes a time series upon itself with respect to
a specified period.  It is useful in the analysis of data containing 
or suspected of containing periodic signals.  

The precursor task is TIMSORT which selects and sorts the QPOE file in 
time order.  TIMPRINT will display the output file and FLDPLOT will plot 
the data.  Corrections are not yet being applied for Fractional Spatial 
Exposure.
.ih
PARAMETERS
.ls source_file (auto string) =		prompt = Input Source Timing File

Required input in time ordered QPOE format.  The file is created by
running TIMSORT on a specified source region.  The file may be
specified by supplying the rootname and a "_sti.qp" extension will be
appended by the task before looking for the file.  For example input
"i6757" is interpreted as "i6757_sti.qp".
.le
.ls background_file = "NONE"	prompt = Input Background Timing File

Optional input in time ordered QPOE format.  The file is created by
running TIMSORT on a specified background region.  The file may be
specified by supplying the rootname and a "_bti.qp" extension will be
appended by the task before looking for the file.  For example input
"i6757" becomes "i6757_bti.qp".  Enter "none" to skip this parameter.
.le
.ls out_table =		prompt = root name for output file [root_fld.tab]

Required Output filename.  The file is written in table format.  The
file may be specified by supplying the rootname and a "_ltc.tab"
extension will be appended.  For example input "i6757" becomes
"i6757_ltc.tab".  Each row in the table represents 1 bin of folded
data. The column titles and definitions are as follows:

.nf
	ctrt ----------- count rate
	err ------------ count rate error
        exp ------------ exposure
	src ------------ source counts
        bkgd ----------- background counts
	net ------------ net counts (src - bkgd)
	neterr --------- net error

.fi
A table file header is also written.  It consists of parameters copied
from the input QPOE file and parameters recorded from running this
task.
.le
.ls fold_period =		prompt = Fold Period in Seconds

Period upon which to fold the data specified in seconds.
.le
.ls bins =			prompt = Number of Bins

The number of data bins.
.le
.ls (pdot = 0.0) [double]

The period rate of change.  When pdot = 0.0 the period is constant. 
.le
.ls (save_two = yes) [boolean]

Write the fold output data to the table twice.  This is useful as input
into \fIFLDPLOT\fR so that the plot of the folded lightcurve shows the period
plotted twice.
.le
.ls (display = 1) [int]

The display level.  A few of the parameters and computed time
intervals are displayed to the user for those who like to see that
things are happening.
.le
.ls (clobber = no) [boolean]

Boolean flag specifying whether or not the table file can be
overwritten if it already exists.
.le
.ls (get_gintvs = yes) [boolean]

Boolean flag specifying whether to filter the input events through the
good time intervals stored in the QPOE file.  It useful to turn this
parameter off when analyzing lab data where good intervals are not
applicable or in a file without the intervals.
.le
.ls (bk_norm_fact = 1.) [real]

Background Normalization factor.  This is an extra fudge factor that
can be used to adjust the ratio of source to background area.
.le
.ih
EXAMPLES
.nf
Type `help timfilter` and `help timsort` for information concerning
input files.
.fi
1. Fold data in snr_sti.qp at a period of 3.49 seconds into 20 bins.
.nf

	xt> fold
	Input Source Timing File: snr_sti.qp
	Input Background Timing File (NONE):
	root name for output file [root_fld.tab]: .
	Fold Period in Seconds: 3.49
	Number of Bins: 20

	Creating Fold file : ./snr_fld.tab

.fi
2. Fold net of snr_sti.qp and snr_bit.qp data at a period of 3.49 
seconds into 20 bins.
.nf

	xt> fold
	Input Source Timing File: snr_sti.qp	
	Input Background Timing File (NONE): snr_bti.qp
	root name for output file [root_fld.tab]: net
	Fold Period in Seconds: 3.49
	Number of Bins: 20

	Creating Fold file : ./net_fld.tab

.fi
3. Fold data in GTI#3 of snr_sti.qp at a period of 3.49 seconds 
into 16 bins.  Set get_gintvs=no because we are using a time filter
for the third GTI.
.nf
	xt> fold
	Input Source Timing File: snr_sti.qp[time=(79492987.0:79494011.0)]
	Input Background Timing File (NONE):
	root name for output file [root_fld.tab]: snr3
	Fold Period in Seconds: 3.49
	Number of Bins: 16
	
	Creating Fold file : snr3_fld.tab
	
.fi
.ih
TIME REQUIREMENTS
.ih
BUGS
No Corrections are being applied for Fractional Spatial Exposure.
.ih
SEE ALSO
Documentation on errors (\fIhelp explain_errors\fR) 
for a description of the error calculations implemented in PROS.

Documentation on region filtering (\fIhelp regions\fR) for a
description of the spatial filter user interface.

Documentation on QPOE filtering (\fIhelp qpoe\fR) for a description of
the QPOE filter user interface.

Documentation on file extensions (\fIhelp extensions\fR) for a
description of PROS file extensions.

Documentation on coordinates (\fIhelp coords\fR) for a description of
PROS coordinate conventions.
.endhelp
