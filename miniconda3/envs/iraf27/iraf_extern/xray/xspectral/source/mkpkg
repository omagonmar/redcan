#$Header: /home/pros/xray/xspectral/source/RCS/mkpkg,v 11.0 1997/11/06 16:42:44 prosb Exp $
#$Log: mkpkg,v $
#Revision 11.0  1997/11/06 16:42:44  prosb
#General Release 2.5
#
#Revision 9.1  1997/03/27 21:36:54  prosb
#JCC(3/27/97) - Rename flxd_do.x to flux_density.x
#
#Revision 9.0  1995/11/16  19:30:10  prosb
#General Release 2.4
#
#Revision 8.0  1994/06/27  17:32:41  prosb
#General Release 2.3.1
#
#Revision 7.0  93/12/27  18:56:15  prosb
#General Release 2.3
#
#Revision 6.6  93/12/21  01:45:52  dennis
#Added dstables.o dependencies on rhri.h and def.h, for new routine 
#get_respfile().
#
#Revision 6.5  93/12/17  23:17:35  dennis
#Added dstables.o dependency on <ctype.h>, used in interpreting file names.
#
#Revision 6.4  93/11/19  14:43:57  mo
#no changes
#
#Revision 6.3  93/10/22  20:02:50  dennis
#Add routines for DSRI's HEPC1 and LEPC1 instruments; 
#Add dependencies on <missions.h> entailed by <spectral.h>; 
#Correct omissions in some dependency lists.
#
#Revision 6.2  93/09/25  03:53:01  dennis
#No change.  (Changed temporarily to enable recompiling without making 
#the xc command line too long; we can't recompile all of these at once.)
#
#Revision 6.0  93/05/24  16:50:59  prosb
#General Release 2.2
#
#Revision 5.0  92/10/29  22:44:57  prosb
#General Release 2.1
#
#Revision 4.0  92/04/27  18:15:57  prosb
#General Release 2.0:  April 1992
#
#Revision 3.4  92/03/06  10:43:38  prosb
#jso - added rhri_fold for qpspec upgrade.
#
#Revision 3.3  92/03/05  13:17:36  orszak
#jso - moved qpspec to own directory.
#
#Revision 3.2  91/10/02  09:18:15  mo
#MC	10/2/91		Fix the missing $endif for the 'parser' stuff
#
#Revision 3.1  91/09/27  15:11:31  mo
#MC	9/27/91		Add conditional to rerun yyacc, if the output.x
#			doesn't exist ( as well as being too old. )
#
#Revision 3.0  91/08/02  01:58:31  prosb
#General Release 1.1
#
#Revision 2.3  91/07/19  14:54:17  orszak
#jso - changed flux to xflux and moved z_to_distance to extra
#
#Revision 2.2  91/07/12  16:19:18  prosb
#jso - addition:  fixes xyacc when called froom above
#
#Revision 2.1  91/07/12  16:18:34  prosb
#jso - made spectral.h system wide and fixed xyacc so it did something
#
#Revision 2.0  91/03/06  23:05:03  pros
#General Release 1.0
#
# Make the source subdirectory of the spectral control package.

update:
 
$iffile (obsparse.x )
    $ifnewer (obsparse.yy, obsparse.x)
        $ifeq (HOSTID, unix)
            $echo "obsparse.x is out of date; rebuilding with XYACC:"
            !(rm -f obsparse.x; xyacc obsparse.yy;sed "s/yyparse/obs_yyparse/g" < ytab.x > obsparse.x;rm -f ytab.x)
        $else
            $echo "obsparse.x is out of date; rebuild with XYACC"
        $endif
    $endif
$else
        $ifeq (HOSTID, unix)
            $echo "obsparse.x is missing; rebuilding with XYACC:"
            !(rm -f obsparse.x; xyacc obsparse.yy;sed "s/yyparse/obs_yyparse/g" < ytab.x > obsparse.x;rm -f ytab.x)
        $else
            $echo "obsparse.x is missing; rebuild with XYACC"
	$endif
$endif

$iffile (modparse.x)
    $ifnewer (modparse.yy, modparse.x)
        $ifeq (HOSTID, unix)
            $echo "modparse.x is out of date; rebuilding with XYACC:"
	    # note that this yacc creates the ytab.h file!!!!
            !(rm -f modparse.x; xyacc -d modparse.yy;sed "s/yyparse/mod_yyparse/g" < ytab.x > modparse.x;rm -f ytab.x)
        $else
            $echo "modparse.x is out of date; rebuild with XYACC"
        $endif
    $endif
$else
        $ifeq (HOSTID, unix)
            $echo "modparse.x is missing; rebuilding with XYACC:"
	    # note that this yacc creates the ytab.h file!!!!
            !(rm -f modparse.x; xyacc -d modparse.yy;sed "s/yyparse/mod_yyparse/g" < ytab.x > modparse.x;rm -f ytab.x)
        $else
            $echo "modparse.x is missing; rebuild with XYACC"
	$endif
$endif

$checkout libpkg.a ../
$update libpkg.a
$checkin libpkg.a ../
$exit
 
libpkg.a:
	absorption.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	apply_times.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	asc_bal_histo.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	bal_histo.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	bal_plot.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	bin_energy.x

	cgaunt.x

	chisq.x			<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	cnvphotspect.x

	const_fp.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	contour.f

	ct_chans.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	ct_params.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	debug_print.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	def_fold.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h> \
				def.h \
				<mach.h>
	dschannels.x

	dsdisp.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	dsebounds.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	dsstack.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	dstables.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>		<ctype.h> \
				pspc.h		rhri.h \
				hepc1.h		lepc1.h		def.h

	emission_conv.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	filter.x

	fit.x			<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h> \
				nag.com

	flux_do.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h> \
				flux.h		intermed.h

	flux_plot.x

	fluxtab.x		flux.h

	flux_density.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h> \
				flux.h		intermed.h

	free_params.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	gaunt.f

	get_axis_info.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	get_pred.x

	getbinflags.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	grid_fit.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	grid_plot.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	help_models.x

	hepc1_fold.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h> \
				hepc1.h \
				<mach.h>

	hri_coma.x

	hri_fold.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h> \
				<mach.h>

	intermed.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h> \
				intermed.h

	interpolate.x

	ipc_fold.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h> \
				<mach.h>

	lepc1_fold.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h> \
				lepc1.h \
				<mach.h>

	match_name.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	matrix.x

	modacts.x		modparse.h	modparse.com

	model_stack.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

        logerror.x

	models.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	modlex.x		modparse.h	modparse.com

	modlinks.x		modparse.h	modparse.com

	modparse.x		modparse.h	modparse.com

	modsubs.x		modparse.h	modparse.com

	mpc_fold.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	normalization.x	 	<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	obsparse.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h> \
				obsparse.h	obsparse.com

	output_fit.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	pha_energy.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	photon_plot.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h> \
				photon_plot.h	photon_plot.com

	photon_task.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h> \
				photon_plot.h

	photoncolon.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	plot_utils.x

	plt_hist.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	pspc_fold.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h> \
				pspc.h \
				<mach.h>

	rhri_fold.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h> \
				pspc.h		rhri.h \
				<mach.h>

	raymond.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	rd_absorption.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	rebin.x			<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	redshift.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	show_models.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	simplex.x

	single_fit.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	spline.x

	telescope.x		<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h>

	xflux.x			<spectral.h>	<qpoe.h>	<missions.h> \
				<einstein.h>	<rosat.h>	<astrod.h> \
				<axaf.h>	<srg.h> \
				flux.h		intermed.h
	;
