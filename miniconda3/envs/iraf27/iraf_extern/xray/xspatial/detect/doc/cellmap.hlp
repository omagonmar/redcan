#$Header:
#$Log:
#
.help cellmap Dec93 xray.xspatial.detect
.ih
NAME
cellmap --  copies a qpoe file and creates a detect cell size resolution image
.ih
USAGE
cellmap 
.ih
DESCRIPTION

CELLMAP copies a qpoe file and creates an image with a specified cell
size.  Each image pixel represent 1/3 of the detect cell in size.  If,
after blocking the image size is > 512x512 pixels the image is subsectioned 
and the center 512x512 image is written out.

Cellsizes common to the Telescope and instrument are offered as detect cell
choices.

.ih
PARAMETERS
.ls qpoe = ""       		prompt = Input xray Qpoe

Required Input qpoe filename at full resolution.  
.le

.ls image = ""       		prompt = Output xray Image

Required Output image file name.
.le

.ls rh_cellsize = ""         	prompt = ROSAT HRI Cellsize in arcsecs - 
.nf                                      
                                 9 | 12 | 24 | 36 | 48          
.fi
Cellsizes for ROSAT HRI qpoe.  
.le

.ls rp_cellsize = ""         	prompt = ROSAT PSPC Cellsize in arcsecs - 
.nf                                      
				 30[h/b]| 45[s]| 60[s/h/b]| 120[s/h/b]
.fi
Cellsizes for ROSAT PSPC qpoe.
.le

.ls eh_cellsize = "" 		prompt = Einstein HRI Cellsize in arcsecs - 
.nf                                      
			         12 | 24 | 48
.fi
Cellsizes for Einstein HRI qpoe.
.le

.ls ei_cellsize = "" 		prompt = Einstein IPC Cellsize in arcsecs -
.nf			              	 
				 144 [h/b]| 240 [s]
.fi
Cellsizes for Einstein IPC qpoe.
.le

.ls eband = ""			prompt = Energy Band (soft|hard|broad)
.le

Energy band.  Prompted when instrument is PSPC or IPC.  Choice of Soft, 
hard, or broad.  The PI filter appropriate to the band choice is appended 
to the qpoe filename.  PI bands must be respecified when running BEPOS.
.le

.ls (query = yes) [boolean]			
.le

Indicates whether the task is being run from the cl or ldetect.  If yes,
the auto params are queried, if no, they will be passed from the preceeding
task.  (Not a user-param).
.le

.ls (clobber = no) [boolean]

Boolean flag specifying whether or not the output Table file can be
overwritten, if it already exists.
.le

.ih
EXAMPLES
1.  Run CELLMAP on ROSAT HRI data at 12" detect cell size resolution.
    The blocked data is > 512, so the center 512x512 image is saved.
.nf

de> cellmap
Input xray Qpoe: xdata$rh110267.qp
Output xray image : harlac12
ROSAT HRI Cellsize in arcsecs - 6|9|12|24|36|48: 12

xdata$rh110267.qp[bl=8][256:767,256:767] -> harlac12.imh
add harlac12.imh,cellsize = 12
harlac12.imh updated
xdata$rh110267.qp
.fi

2.  Run CELLMAP on ROSAT PSPC data at 30" detect cell size resolution,
    and broad energy band.  The blocked data is > 512, so the center 
    512x512 image is saved.

.nf

de> cellmap
Input xray Qpoe (xdata$rh110267.qp): xdata$rp110590.qp
Output xray image  (harlac12): .
ROSAT PSPC Cellsize in arcsecs - 30 [h/b]| 45 [s]| 60 [s/h/b]| 120 [s/h/b]: 30
Energy Band (soft|hard|broad) (broad):

xdata$rp110590.qp[bl=20,pi=11:235][128:639,128:639] -> ./rp110590.imh
add ./rp110590.imh,cellsize = 30
./rp110590.imh updated
.fi
.ih
TIME REQUIREMENTS
.ih
BUGS
.ih
SEE ALSO
Documentation on running ldetect (a detect task  which  runs  the  5
detect tasks in sequence). (\fIhelp ldetect\fR)

Documentation giving an overview of the detect package and run order of
tasks. (\fIhelp using_detect\fR)

Documentation on the detect algorithms and philosophy along with limitations
in (\fIhelp explain_detect\fR).

.endhelp

