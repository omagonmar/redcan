\O=NOAO/IRAF V2.8EXPORT dmw@cfa246.harvard.edu Mon 22:07:36 08-Jan-90
\T=gterm34
\G=gterm
\n\{%8000
                    PROS Timing Analysis
Tasks in the PROS XRAY timing package will be demonstrated
by analyzing the X-ray pulsar in the SNR CTB 109. \}\n
cd\simdir\n
\{%500
        [First load the relevant packages.]\}\n
noao\n
#proto\n
xray\n
xtiming\n
\{%500
        [Now unlearn parameters for all tasks to be used.]\}\n
unlearn\stprint\n
unlearn\skeytab\n
unlearn\sdelete\n
unlearn\sfft\n
unlearn\sfold\n
unlearn\sltcurv\n
unlearn\speriod\n
unlearn\stimplot\s\n
unlearn\stimsort\n
\{%500
        [Delete files made in previous run of the demo.]\}\n
imdel\sdemo_*snr*.imh\n
delete\sdemo_*snr*\n
\{%500
        [Now we are ready to begin.]\}\n
\{%500
        [Timing Analysis for pulsar in CTB 109]\}\n
\{%500
        [Time-sort the event list for CTB 109 ...]\}\n
timsort\n
"xdata$snr.qp"\n
demosnr_sti.qp\n
"circle\s502\s513\s24"\n
none\n
\{%500
        [Make a light curve for CTB 109 ...]\}\n
ltcurv\n
demosnr_sti.qp\n
none\n
demosnr_ltc.tab\n
100\n
\{%500
        [Plot the light curve.]\}\n
timplot\secolumn="err"\snum_plots=3\sx_units="seconds"\n
demosnr_ltc.tab\n
ctrt\n
q01+&\r\{%8000\}
\{%500
        [Timing Analysis Section 1 Data of CTB 109]\}\n
\{%500
        [Select and time-sort the Section 1 Data ...]\}\n
timsort\n
"xdata$snr.qp[time=(:79488898.01)]"\n
demosnr_sti1.qp\n
"circle\s502\s513\s24"\n
none\n
\{%500
        [Make a light curve with small bins for the Section 1 Data ...]\}\n
ltcurv\n
demosnr_sti1.qp\n
none\n
demosnr_ltc1.tab\n
0\n
.5\n
\{%500
        [Plot the light curve ...]\}\n
timplot\sx_units="seconds"\sy_tics=2\snum_plots=10\n
demosnr_ltc1.tab\n
ctrt\n
q01+&\r\{%8000\}
\{%500
        [Run FFT on Section 1 Data ...]\}\n
fft\sfftcoeff+\n
demosnr_ltc1.tab\n
demosnr_1\n
src\n
\{%500
        [Plot the FFT Power Spectrum ...]\}\n
timplot\sx_units="freq"\sy_range="1\s30"\n
demosnr_1_fft.tab\n
power\n
q01+&\r\{%8000\}
\{%500
        [Run Period Search on Section 1 Data ...]\}\n
period\n
demosnr_sti1.qp\n
none\n
demosnr_per1\n
3.47\n
3.51\n
.01\n
16\n
\{%500
        [Plot the Chisq ...]\}\n
timplot\n
demosnr_per1_chi.tab\n
chisq\n
q01+&\r\{%8000\}
keypar\sdemosnr_per1_fld.tab\sBINLEN\n
x=real(keypar.value)\n
keypar\sdemosnr_per1_fld.tab\sNUMBINS\n
y=int(keypar.value)*x\n
\n
print\s("Plot\sof\sFold\sabout\sbest\sPeriod\s=\s",\sy,\s"\sseconds")\n
\n
timplot\secolumn="err"\sx_units="seconds"\n
demosnr_per1_fld.tab\n
ctrt\n
q01+&\r\{%8000\}
\{%500
        [Timing Analysis Section 2 Data of CTB 109]\}\n
\{%500
        [Select and time-sort the Section 2 Data ...]\}\n
timsort\n
"xdata$snr.qp[time=(79490598.01:79491098.01)]"\n
demosnr_sti2.qp\n
"circle\s502\s513\s24"\n
none\n
\{%500
        [Make a light curve with small bins for the Section 2 Data ...]\}\n
ltcurv\n
demosnr_sti2.qp\n
none\n
demosnr_ltc2.tab\n
0\n
.5\n
\{%500
        [Plot the light curve ...]\}\n
timplot\sx_units="seconds"\sy_tics=2\snum_plots=10\n
demosnr_ltc2.tab\n
ctrt\n
q01+&\r\{%8000\}
\{%500
        [Run FFT on Section 2 Data ...]\}\n
fft\sfftcoeff+\n
demosnr_ltc2.tab\n
demosnr_2\n
src\n
\{%500
        [Plot the FFT Power Spectrum ...]\}\n
timplot\sx_units="freq"\sy_range="1\s30"\n
demosnr_2_fft.tab\n
power\n
q01+&\r\{%8000\}
\{%500
        [Run Period Search on Section 2 Data ...]\}\n
period\n
demosnr_sti2.qp\n
none\n
demosnr_per2\n
3.47\n
3.51\n
.01\n
16\n
\{%500
        [Plot the Chisq ...]\}\n
timplot\n
demosnr_per2_chi.tab\n
chisq\n
q01+&\r\{%8000\}
keypar\sdemosnr_per2_fld.tab\sBINLEN\n
x=real(keypar.value)\n
keypar\sdemosnr_per2_fld.tab\sNUMBINS\n
y=int(keypar.value)*x\n
\n
print\s("Plot\sof\sFold\sabout\sbest\sPeriod\s=\s",\sy,\s"\sseconds")\n
\n
timplot\secolumn="err"\sx_units="seconds"\n
demosnr_per2_fld.tab\n
ctrt\n
q01+&\r\{%8000\}
\{%500
        [Timing Analysis Section 3 Data of CTB 109]\}\n
\{%500
        [Select and time-sort the Section 3 data ...]\}\n
timsort\n
"xdata$snr.qp[time=(79492398.01:)]"\n
demosnr_sti3.qp\n
"circle\s502\s513\s24"\n
none\n
\{%500
        [Make a light curve with small bins for the Section 3 Data ...]\}\n
ltcurv\n
demosnr_sti3.qp\n
none\n
demosnr_ltc3.tab\n
0\n
.5\n
\{%500
        [Plot the light curve ...]\}\n
timplot\sx_units="seconds"\sy_tics=2\snum_plots=10\n
demosnr_ltc3.tab\n
ctrt\n
q01+&\r\{%8000\}
\{%500
        [Run FFT on Section 3 Data ...]\}\n
fft\sfftcoeff+\n
demosnr_ltc3.tab\n
demosnr_3\n
src\n
\{%500
        [Plot the FFT Power data ...]\}\n
timplot\sx_units="freq"\sy_range="1\s30"\n
demosnr_3_fft.tab\n
power\n
q01+&\r\{%8000\}
\{%500
        [Run Period Search on Section 3 Data ...]\}\n
period\n
demosnr_sti3.qp\n
none\n
demosnr_per3\n
3.47\n
3.51\n
.01\n
16\n
\{%500
        [Plot the Chisq ...]\}\n
timplot\n
demosnr_per3_chi.tab\n
chisq\n
q01+&\r\{%8000\}
keypar\sdemosnr_per3_fld.tab\sBINLEN\n
x=real(keypar.value)\n
keypar\sdemosnr_per3_fld.tab\sNUMBINS\n
y=int(keypar.value)*x\n
\n
print\s("Plot\sof\sFold\sabout\sbest\sPeriod\s=\s",\sy,\s"\sseconds")\n
\n
timplot\secolumn="err"\sx_units="seconds"\n
demosnr_per3_fld.tab\n
ctrt\n
q01+&\r\{%8000\}
delete\stemp*\n
\sbye\n
\sbye\n
\sbye\n
#\sbye\n
#cd\shome\n
