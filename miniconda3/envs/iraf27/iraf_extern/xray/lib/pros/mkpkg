#$Header: /home/pros/xray/lib/pros/RCS/mkpkg,v 11.7 2003/02/06 21:00:47 prosb Exp $
#$Log: mkpkg,v $
#Revision 11.7  2003/02/06 21:00:47  prosb
#added macosx to mkpkg to build math.f
#
#Revision 11.6  1999/09/21 15:10:44  prosb
#JCC(6/30) - add new code date_convert.x for y2k
#
#Revision 11.5  1998/05/11 21:03:06  prosb
#JCC - add a new code 'math.f' for linux; use ifeq to check 'MACH'.
#
#Revision 11.0  1997/11/06 16:20:38  prosb
#General Release 2.5
#
#Revision 9.0  1995/11/16 18:27:56  prosb
#General Release 2.4
#
#Revision 8.0  1994/06/27  13:46:34  prosb
#General Release 2.3.1
#
#Revision 7.1  94/02/23  09:33:17  prosb
#Added several routines to pros library
#(im_cts.x, im_tools.gx, strfilter.x)
#
#Revision 7.0  93/12/27  18:09:56  prosb
#General Release 2.3
#
#Revision 6.1  93/12/22  17:27:41  mo
#Add routines and dependencies
#
#Revision 6.0  93/05/24  15:45:05  prosb
#General Release 2.2
#
#Revision 5.5  93/05/20  19:22:11  dennis
#Removed dependency of mskopen.o on <imhdr.h>, replaced it with dependency
#on <plio.h> (to get correct dimensions of mask).
#
#Revision 5.4  93/05/19  17:12:38  mo
#MC	update dependencies, combine 2 source files
#
#Revision 5.3  93/04/26  23:55:07  dennis
#Regions system rewrite.
#
#Revision 5.0  92/10/29  21:17:00  prosb
#General Release 2.1
#
#Revision 4.2  92/10/23  16:58:56  mo
#ADd new derfunc.x
#
#Revision 4.1  92/09/02  02:36:32  dennis
#Added new dependency on <regparse.h>, for files mskopen.x, plhead.x, 
#and tbhead.x -- to get new symbolic constants SZ_REGOUTPUTLINE and 
#SZ_2PATHNAMESPLUS
#
#Revision 4.0  92/04/27  13:49:06  prosb
#General Release 2.0:  April 1992
#
#Revision 3.2  92/04/24  15:09:56  mo
#MC	4/24/92	Fix editor typo that kept rebuilding the same directory
#
#Revision 3.1  92/01/20  16:48:14  mo
#MC	1/20/92		Move the 'filtered' version of times.x from
#			timing lib to here, plus output_gtis.x
#
#Revision 3.0  91/08/02  01:00:51  wendy
#General
#
#Revision 2.1  91/03/22  14:36:30  pros
#MC	3/22/91		Remove the code to keep copies in the x
#			subdirectory except for gx files.
#			Update the dependency list
#
#Revision 2.0  91/03/07  00:07:10  pros
#General Release 1.0
#
# misc pros routines

update:
$checkout libpros.a ..
$update   libpros.a
$checkin  libpros.a ..
$exit
 
tfiles:
	$set	GA   = "$$generic -k -p x/"
	# Each of the following generic files is expanded for each of the
	# datatypes listed in the -t flag.
	$ifolder (x/dispbufs.x, dispbuf.gx ) $(GA) -t silrdx dispbuf.gx $endif
	$ifolder (x/mskg2ss.x, mskg2s.gx ) $(GA) -t silrdx mskg2s.gx $endif
	$ifolder (x/collapses.x, collapse.gx ) $(GA) -t silrdx collapse.gx $endif
	$ifolder (x/expands.x, expand.gx ) $(GA) -t silrdx expand.gx $endif
	$ifolder (x/im_toolsl.x, im_tools.gx ) $(GA) -t silrd im_tools.gx $endif
	;

libpros.a:
	$ifeq (USE_GENERIC, yes) $call tfiles $endif
#	$set XFLAGS = "$(XVFLAGS)"
	@x
        $ifeq (MACH, linux, redhat, freebsd, macosx) math.f  $endif
        asp.x           <qpoe.h> <math.h> <mach.h>
        bal.x           <qpoe.h> <einstein.h> <math.h> <qpset.h>
        cvt.x		<qpoe.h>
        date_convert.x
        derfunc.x      
        dg.x            <mach.h>
        dispqphead.x    <qpoe.h> <math.h> <wfits.h> <missions.h>
        error.x
        fits_cards.x 	<imhdr.h> <wfits.h> wfits.com <tbset.h>
        fits_params.x 	<time.h> <wfits.h>
        fits_wpixels.x	<fset.h>
        fitsput.x	<wfits.h>
        fnames.x        <ext.h> <ctype.h>
	getanyline.x
        getimblk.x      <error.h> <imhdr.h>
        getplims.x
        gti.x           <qpoe.h> <rosat.h>
	headstr.x	<qpoe.h> <missions.h>
	im_cts.x	<imhdr.h> <regparse.h>
        im_tools_gen.x  <imhdr.h> <ercode.h>
	miistruct.x	<mach.h>
        missions.x      <missions.h>
        mskcnts.x       <pmset.h> <error.h>
        mskdisp.x
        mskopen.x       <plhead.h> <plio.h> <pmset.h> <plset.h> <regparse.h> \
			<regions.h>
        newimcopy.x     <error.h> <imhdr.h>
        onesigma.x
        nxhead.x         <qpoe.h> <missions.h> <wfits.h> <math.h> <xhead.com>
        plhead.x        <plhead.h> <regparse.h> <mach.h> <ctype.h>
        parsewcs.x      <precess.h> <qpoe.h> <ctype.h> <math.h>
        qpmask.x        <qpoe.h> <qpset.h> <qpioset.h>
	qpaxlen.x	<qpoe.h> <imhdr.h> <math.h>
	qpwcs.x 	<qpoe.h> <imhdr.h> <math.h>
        skypix.x
#	strclr.x
	strfilter.x     <ercode.h>
	stutil.x	<ctype.h>
        tbhead.x        <plhead.h> <regparse.h> <ctype.h>
        tgr.x           <qpoe.h> <einstein.h> <math.h> <qpset.h>
        time.x          <clk.h> <mach.h> <qpoe.h> <bary.h>
        times.x         <qpoe.h> <fset.h> <fio.h> <mach.h> <printf.h> 
        tsh.x           <qpoe.h> <rosat.h> <math.h> <qpset.h>
        tsi.x           <qpoe.h> <rosat.h> <math.h> <qpset.h>
        tsidisubs.x     
        vax.x		<mach.h>
        xarea.x
        xcmask.x        <qpset.h> <qpioset.h>
        xhead.x         <qpoe.h> <missions.h> <wfits.h> <math.h> <xhead.com>
        xhist.x         <qpset.h>
        xmask.x         <plhead.h> <qpset.h>
        ;
