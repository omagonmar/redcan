        
-----------------------------------------------------------------------------
	---  Release Notes for SAO/PROS Patch 2.3.1 -- June 1994  ---
-----------------------------------------------------------------------------

I) Setting up to use the XRAY package
   ----------------------------------

   required packages:			
      IRAF V2.10.1 or higher 		    
	(iraf.noao.edu -or- 140.252.1.1)   
      TABLES 1.3.1 
        (stsci.edu -or- 130.167.1.2)
      PROS 2.3
        (sao-ftp.harvard.edu -or- 128.103.42.3)

   optional packages:
      EUV (cea-ftp.cea.berkeley.edu -or- 128.32.154.12)

   >>> Users must rerun the "mkiraf" task and answer 'yes' to the  <<<
   >>> 're-initialize uparm?' option before running.		   <<<


II) New TASKS in this release (PROS 2.3.1)
    --------------------------------------

   QPCALC (xproto) ->  This task runs on QPOES and is based on the 
        TCALC task in iraf.tables.  It evaluates an arbitrary expression 
        that includes event-attribute  names, constants, and operators, and 
        creates a specified event-attribute in the QPOE --- or overwrites 
        an existing  event-attribute if the specified name already exists.  
        Variables in the expression are event-attribute names in either case.  

   HXFLUX (xspectral) -> New task to compute the flux of a ROSAT HRI 
     	observation from an input QPOE.  It runs qpspec, fit, and xflux
     	in a macro task.

   ECD2PROS (xdataio.eincdrom) -> This task will retrieve Einstein data 
        from any of the CD-ROM archives (including the new IPC unscreened 
     	archive).  This task replaces the now obsolete tasks qp_get and 
     	fits_get.

   EFITS2QP (xdataio) -> New task to convert any Einstein FITS file 
        (containing BINTABLE extensions) to an RDF IRAF/PROS QPOE file.

   ECDINFO (xdataio.eincdrom) -> This task retrieves information about a 
        particular Einstein observation and displays the observation title, 
        livetime, field center, etc.

   EINDATADEMO (xdataio.eincdrom) -> Demo task for Einstein screened and
	unscreened data.  Optional Einstein distributed data files 
        installation required.


III) Major modifications to existing TASKS in this release (PROS 2.3.1)
     ------------------------------------------------------------------

   RARC2PROS, RFITS2PROS, UPQPOERDF (xdataio) -> These tasks have been updated 
     	to run QPGAPMAP when the input data are ROSAT/HRI.  The detector 
     	coordinates (DETX/DETY) are computed by applying the gapmap to the 
     	Raw coordinates (RAWX/Y) and they are added to the event-list.

   QPSPEC (xspectral) -> This task was updated to eliminate any restrictions 
        on the geometry of source regions.  Removed the 'extended' task 
	parameter.  Updated the region descriptor processing to provide prompt 
        feedback about syntactic or semantic errors in region descriptors 
        provided to qpspec.  

        Replaced particle_bkgd.tab to match Plucinsky et al paper, 
        updated ros_pi_offar.ieee to maintain consistency with PROSCON v2.3.  
        Added bal26.0tab.

   QPLINTRAN (ximages) -> This task was updated to allow re-dimensioning and 
        re-blocking when making QPOE-> QPOE conversions (already implemented 
        in QPOE -> IMAGE conversions)

   QPGAPMAP (xdataio) -> This task was updated to write the recentered 
	optical axis coordinates in the output QPOE header. 

   APPLY_BARY (xtiming.timcor) -> An intermittent crash error was fixed,  
        RA/DEC no longer read from command line (read from correction table 
        header), rationalized warning messages and time units.   

        Replaced scc_to_utc table with latest version from MPE.  

   IMCONTOUR/TVIMCONTOUR (xplot) -> Fixed source display error.  Sometimes 
        a source was missing when plotting an ascii source list. Now all 
        sources are displayed.


IV) PROS Packages and Tasks
    -----------------------

   The xray package contains the following sub-packages and tasks
      (note that:
         * denotes a new task,
         + major modifications made to a task,
         $ task has been given a new name,
         - task has been moved from one package to another):

   package     tasks           description
   ---------   ------------    ------------------------------------------
   xdataio     * efits2qp      convert Einstein FITS event list to qpoe    
               + fits2qp       fixed alignment problem for ASCA SIS data
			       fixed memory problems for IRIX port
               + rfits2pros    added upqpoerdf 
	       + rarc2pros     added upqpoerdf 
	       + qp2fits       updated to write new rdf keywords tlmin/tlmax
	       + upqpoerdf     added call to qpgapmap when ROSAT/HRI data
               - qpgapmap      added update to recenter optical axis position 
			         in the output qpoe header
   eincdrom
	       * ecd2pros      reads data from eincdroms data to disk
	       * ecdinfo       retrieves info on an Einstein observation
	       * eindatademo   demo of Einstein screened and unscreened data
   xspatial                

   detect      + lbmap         updated soft/hard/broad limit of pha 

   xtiming     + fft           fixed totcnts to avoid accumulated round-off 
			         errors

   timcor      + apply_bary    updated screen display, read ra/dec from
			         input table headers, debugged intermittent 
                                 segv error.

   xspectral   * hxflux        computes the flux from a ROSAT/HRI QPOE
               + qpspec        offaxis angle update, accept ASCA data, 
			         eliminated restrictions on source regions, 
			         added prompt feedback to regions errors

   xplot       + imcontour/
	         tvimcontour   fixed source display when ascii input
               + tabplot       updated for compatibility with TABLES 1.3.1

   ximages     + qplintran     added 2 new parameters (xdim,ydim) to allow 
			         specifying the output QPOE dimension

   xproto      * qpcalc        qpoe calculator

   xlocal      (tasks supported locally, i.e., at SAO) 
               + mpc.mpcspec   updated to write RDF-style spectral tables
   ---------   ------------    ------------------------------------------
                        

V) Test Data Files 
   ---------------

     The test data files in xdata$ are upgraded to RDF format with task 
     UPQPOERDF as part of this installation.  See Section VII below for
     information on other existing QPOE files. 


VI) Calibration Data Files
     ----------------------

     The file ros_pi_offar.ieee in the data directory xspectraldata, 
     used by QPSPEC, has been modified to replace zero values of effective 
     area in the first seven pi channels with ones.  The change was 
     necessitated by modifications in PROSCON v. 2.3, which now requires 
     256-channel spectra as input. 

     Changed comments and table values in xspectraldata$particle_bkgd.tab 
     to match the final published version of the Plucinsky et al paper.  
     This file had been based on a preprint; both variable names and values 
     had changed in the final paper.

     The most recent scc_to_utc.tab file from MPE is included.

     Added the Einstein IPC response matrix for the BAL value of 26.0, 
     bal26.0tab, used by xspectral.fit. 

VII) PROS User's Guide (PUG)
     -----------------------

     The PROS USERS GUIDE has been revised from the June '93 (PROS vs 2.2) 
     edition.  It now corresponds to the current PROS release, 2.3.1 and 
     will be available as an html version accessable via xmosaic as well 
     as the conventional ftp latex and postscript editions.  A forthcoming 
     H&P will provide the details.


VIII) Some answers to related IRAF/PROS Frequently Asked Questions (FAQs):
      --------------------------------------------------------------------

   1) Now that PROS has been updated to support RDF, are my existing QPOE 
      files compatible?
   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
   PROS supports data in both old (REV0) and new (RDF) format, but will 
   always write files in RDF.  The PROS ROSAT FITS readers (rfits2pros,
   rarc2pros) will do any required conversions automatically.  However, any 
   EXISTING PROS QPOE files (on disk pre PROS2.3 - dec93), must be converted 
   manually by the user, with the task UPQPOERDF.

        > xdataio
        > upqpoerdf

   2) How can I verify old results before moving to the new poisson error 
      calculations in PROS? 
   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
   Poisson error approximations are the default in PROS 2.3 (Dec 93).  
   Some user's may want to run with gaussian errors to verify old results 
   before moving to the new default.  The following procedure will change
   the QPOE header keyword POISSERR from T (true for POISSON errors) to 
   F (false for GAUSSIAN errors).  

   a) verify current value
        > imhead rh110267.qp long+ | match POISSERR
              POISSERR=                    T

   b) change T to F (Note the value is boolean, so DO NOT use quotes)
        > qphedit rh110267.qp POISSERR F
        rh110267.qp,POISSERR (T -> F): y
        rh110267.qp,POISSERR: T -> F
        continue ? (yes): 
        rh110267.qp updated

   b) verify update
        > imhead rh110267.qp long+ | match POISSERR
              POISSERR=                    F

   Also, see 'help explain_errors' for a description of error calculations.

   3) The syntax used to specify detector coordinates is cumbersome, is there
      a better method?
   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
   IRAF 'key' syntax has been updated to use real event-attribute names:

        New syntax -> key=(detx,dety)    
        
        Old syntax -> key=(s16,s18)        ... obscure and cumbersome

   i.e. the following example will display a map using detector coords  

        > xdisplay foo.qp[key=(detx,dety)] 

   4) How can I access recent PROS documents?
   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
   In the IRAF/XRAY package:

     Type 'help revisions' in XRAY to display these notes.
     Type 'help pros' for an overview of PROS help documents. 


**************************************************************************
Internet - hotseat@cfa.harvard.edu      HOTSEAT     MS-3
DECnet   - CFA::HOTSEAT (6699::HOTSEAT) Center for Astrophysics
UUCP     - ...!harvard!cfa!hotseat      60 Garden St. Cambridge MA 02138 USA
BITNET   - hotseat@cfa                  tel: (617) 495-7134  FAX: 495-7356
**************************************************************************

* to access our anonymous ftp service:
    o   ftp -i sao-ftp.harvard.edu              # IP address: 128.103.42.3
        [Name: anonymous]
        [Password: <yourusername@yoursite>]

   ftp> cd pub/pros/Hints
