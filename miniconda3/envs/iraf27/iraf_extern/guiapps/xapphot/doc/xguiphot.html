<html>
<head>
<title> Xguiphot Help Summary </title>
</head>
<body>

<h1> Welcome to Xguiphot</h1>

Xguiphot is a new IRAF multi-aperture photometry tool for measuring the
brightness of astronomical objects. In interactive mode Xguiphot communicates
with the user through a graphical user interface. In non-interactive
mode Xguiphot can be driven by an existing object list or by an object
list generated automatically at run-time. The Xguiphot GUI is based on the
same widget server technology, object manager library, and messaging facilities
employed by the IRAF XGterm graphics terminal emulator and XImtool display
server. Xguiphot is an extension of an earlier and much simpler prototype
written to aid development of the IRAF GUI facilities.
<p>

The new scientific capabilities and GUI facilities are summarized
in the <a href="#intro">Introduction</a> section. Detailed help on various
topics can be found by searching the <a href="#toc">Table of Contents</a>.
<p>

Xguiphot is still under development. If you have comments, bug reports,
or specific suggestions for improvement please contact the author
at <i>davis@noao.edu</i> or the iraf help desk at <i>iraf@noao.edu</i>.
<p>
<hr>

<h1><a name=toc>Table of Contents</a></h1>
<ol>
<li><a href="#intro">Introduction to Xguiphot</a></li>

<li><a href="#system">Xguiphot System Requirements</a></li>

<li><a href="#xcheck">Before Starting Xguiphot</a></li>

<li><a href="#basics">Xguiphot Basics</a></li>
    <ol>
    <li><a href="#bload">Loading the Xapphot Package</a></li>
    <li><a href="#bhelp">On-Line Help</a></li>
    <li><a href="#btpars">Editing the Xguiphot Parameters</a></li>
    <li><a href="#bimages">The Input Images</a></li>
    <li><a href="#bobjects">The Input Objects Files</a></li>
    <li><a href="#bresults">The Output Results Files </a></li>
    <li><a href="#brobjects">The Output Objects Files</a></li>
    <li><a href="#blogresults">Output Results File Logging</a></li>
    <li><a href="#bpsets">The Xguiphot Parameter Sets</a></li>
    <li><a href="#bepsets">Editing the Xguiphot Parameter Sets</a></li>
    <li><a href="#bupsets">Updating the Xguiphot Parameter Sets</a></li>
    <li><a href="#binter">Interactive Mode</a></li>
    <li><a href="#bguifile">The GUI File</a></li>
    <li><a href="#bbatch">Non-Interactive Mode</a></li>
    </ol>

<li><a href="#parsets">The Xguiphot Parameter Sets</a></li>
    <ol>
    <li><a href="#impars">The Impars Parameter Set</a></li>
    <li><a href="#dispars">The Dispars Parameter Set</a></li>
    <li><a href="#findpars">The Findpars Parameter Set</a></li>
    <li><a href="#omarkpars">The Omarkpars Parameter Set</a></li>
    <li><a href="#cenpars">The Cenpars Parameter Set</a></li>
    <li><a href="#skypars">The Skypars Parameter Set</a></li>
    <li><a href="#photpars">The Photpars Parameter Set</a></li>
    <li><a href="#cplotpars">The Cplotpars Parameter Set</a></li>
    <li><a href="#splotpars">The Splotpars Parameter Set</a></li>
    </ol>

<li><a href="#guirun">Running Xguiphot with the GUI</a></li>
    <ol>
    <li><a href="#xstart">Starting Xguiphot</a></li>
    <li><a href="#xquit">Quitting Xguiphot</a></li>
    <li><a href="#xhelp">Getting On-Line Help</a></li>

    <li><a href="#xcurdir">Dealing with Directories</a></li>

    <li><a href="#ximages">Dealing with Images</a></li>
	<ol>
        <li><a href="#ximdir">Setting the Image Directory</a></li>
        <li><a href="#ximtemplate">Setting the Image Template</a></li>
        <li><a href="#xbimlist">Browsing the Image List</a></li>
        <li><a href="#xbheaders">Browsing the Image Headers</a></li>
        <li><a href="#ximdisplay">Interacting with the Image Display</a></li>
        <li><a href="#xedispars">Setting the Dispars Parameters</a></li>
        <li><a href="#xhwhmpsf">Estimating the Hwhm of the Psf</a></li>
        <li><a href="#xedimpars">Setting the Impars Parameters</a></li>
	</ol>

    <li><a href="#xobjects">Dealing with Objects Files</a></li>
	<ol>
        <li><a href="#xodir">Setting the Objects File Directory</a></li>
        <li><a href="#xotemplate">Setting the Objects File Template</a></li>
        <li><a href="#xboflist">Browsing the Objects File List</a></li>
	</ol>

    <li><a href="#xolists">Dealing with Object Lists</a></li>
        <ol>
        <li><a href="#xrfmklist">Creating Objects Lists From Objects
	     Files</a></li>
        <li><a href="#xamklist">Creating Objects Lists Automatically</a></li>
        <li><a href="#xedfindpars">Setting the Findpars Parameters</a></li>
        <li><a href="#xdgmklist">Creating Objects Lists with the Image
	     Cursor</a></li>
        <li><a href="#xdmmklist">Creating Objects Lists with the Photometry
	     Marker</a></li>
        <li><a href="#xviewlist">Viewing the Objects List</a></li>
        <li><a href="#xedomarkpars">Setting the Omarkpars Parameters</a></li>
        <li><a href="#xbolist">Browsing the Objects List</a></li>
        <li><a href="#xdulist">Deleting and Undeleting Objects from the
	     Objects List</a></li>
        <li><a href="#xaddlist">Adding Objects to the Objects List</a></li>
        <li><a href="#xsavelist">Saving the Objects List</a></li>
        </ol>

    <li><a href="#xresults">Dealing with Results Files</a></li>
	<ol>
        <li><a href="#xrdir">Setting the Results File Directory</a></li>
        <li><a href="#xrtemplate">Setting the Results File Template</a></li>
        <li><a href="#xlogresults">Logging the Results</a></li>
	</ol>

    <li><a href="#xphot">Doing Photometry</a></li>
	<ol>
        <li><a href="#xxedimpars">Setting the Impars Parameters</a></li>
        <li><a href="#xedcenpars">Setting the Cenpars Parameters</a></li>
        <li><a href="#xedskypars">Setting the Skypars Parameters</a></li>
        <li><a href="#xedphotpars">Setting the Photpars Parameters</a></li>
        <li><a href="#xcmeasure">Measuring Objects with the Image
	     Cursor</a></li>
        <li><a href="#xpmmeasure">Measuring Objects Through the Photometry
	     Marker</a></li>
        <li><a href="#xdmeasure">Detecting and Measuring Objects
	     Automatically</a></li>
        <li><a href="#xomeasure">Measuring Objects in the Objects List</a></li>
        <li><a href="#xommeasure">Measuring Objects Through the Object List
	     Marker</a></li>
	</ol>

    <li><a href="#xrview">Viewing the Results</a></li>
	<ol>
        <li><a href="#xrstatusline">The Status Line</a></li>
        <li><a href="#xrgoverlay">The Graphics Overlay</a></li>
        <li><a href="#xrptable">The Quick-Look Photometry Table</a></li>
        <li><a href="#xrplots">The Quick-Look Photometry Plots</a></li>
	</ol>

    </ol>

<li><a href="#gui">The Xguiphot Default GUI</a></li>
    <ol>
    <li><a href="#guipanel">The Xguiphot Control Panel</a></li>
    <li><a href="#gmenus">The Main Menus and Commands</a></li>
	<ol>
	<li><a href="#gfmenu">The Files Menu</a></li>
	<li><a href="#gimenu">The Images Menu</a></li>
	<li><a href="#glmenu">The Lists Menu</a></li>
	<li><a href="#gemenu">The Edit Menu</a></li>
	<li><a href="#gpmenu">The Phot Menu</a></li>
	<li><a href="#grmenu">The Results Menu</a></li>
	<li><a href="#gpsmenu">The Psets Menu</a></li>
	<li><a href="#ghelp">The Help Command</a></li>
	<li><a href="#gquit">The Quit Command</a></li>
	</ol>
    <li><a href="#gimwindow">The Image Display Window</a></li>
	<ol>
	<li><a href="#gfmarker">The Files Marker</a></li>
	<li><a href="#gcmarker">The Coordinates Marker</a></li>
	<li><a href="#gimstatmarker">The Status Line </a></li>
	<li><a href="#gimcursor">The Image Display Cursor</a></li>
	<li><a href="#gmousemenu">The Image Display Menu</a></li>
        <li><a href="#gkeycmds">The Xguiphot Keystroke Commands</a></li>
	<li><a href="#gcurkeycmds">The Cursor Mode Keystroke Commands</a></li>
        <li><a href="#gcoloncmds">The Xguiphot Colon Commands</a></li>
        <li><a href="#gcurcoloncmds">The Cursor Mode Colon Commands</a></li>
	<li><a href="#gobjmarker">The Object List Marker</a></li>
	<li><a href="#gphotmarker">The Photometry Marker</a></li>
	</ol>
    <li><a href="#panels">The Control Panels</a></li>
        <ol>
        <li><a href="#hpanel">The Help Panel</a></li>
        <li><a href="#fpanel">The Files Panel</a></li>
        <li><a href="#hdrpanel">The Image Header Panel</a></li>
        <li><a href="#pedpanel">The Pset Editing Panel</a></li>
        <li><a href="#modfitpanel">The Model Fitting Panel</a></li>
        <li><a href="#lpanel">The Object List Panel</a></li>
        <li><a href="#ptpanel">The Photometry Table Panel</a></li>
        <li><a href="#pgpanel">The Photometry Plots Panel</a></li>
        </ol>
    </ol>

<li><a href="#appendices">Appendices</a></li>
    <ol>
    <li><a href="#aoformats">The Objects File Format</a></li>
    <li><a href="#amoments">The Moment Analysis Computation</a></li>
    <li><a href="#amags">The Magnitude Computation</a></li>
    <li><a href="#amagerrs">The Magnitude Error Computation</a></li>
    <li><a href="#aguilimits">Limitations of the Current GUI</a></li>
    </ol>
</ol>
<p>
<hr>

<h1><a name=intro>Introduction to Xguiphot</a></h1>

Xguiphot is a new IRAF task for doing multi-aperture moment analysis and
fractional pixel aperture photometry through circular, elliptical,
rectangular, or polygonal object apertures, and sky analysis through
annular or offset circular, elliptical, rectangular, or polygonal sky apertures.
<p>

In interactive mode a GUI
provides facilities for: selecting and displaying images and object files;
creating, viewing and editing object lists; setting, reviewing, editing and
saving parameter sets; selecting objects to measure from the image display or
the object list using the image cursor, and / or object markers;
displaying the results in both text table and graphical form; and browsing
the on-line documentation. In non-interactive mode Xguiphot can be driven
from an existing object file or from an object list generated at runtime.
<p>
<hr>

<h1><a name=system>Xguiphot System Requirements</a></h1>

Xguiphot is currently installed in the external add-on package Xapphot.
To run Xguiphot you must have IRAF version 2.11.?, X11IRAF version ?.?,
and the external add-on package  Xapphot, installed on your system.
<p>
<hr>

<h1><a name=xcheck>Before Running Xguiphot</a></h1>

Before starting Xguiphot users should ask themselves the following 
questions and take appropriate action if the answers are unsatisfactory.
<p>

<dl>

<dt><b>Have the images to be analyzed been correctly reduced ?</b>
<dd>Problems with flat-fielding, variable pixel scales, etc. can impact
Xguiphot photometry. Tasks in the IRAF ccdred package can be used to
do the CCD reductions.
<p>

<dt><b>Are the effective gain and readout noise of the images known ?</b>
<dd>Have the gain and readout noise been corrected to reflect any image
combining, scaling, etc. operations ? Are the gain and readout noise present 
and correct in the image headers ? Xguiphot uses the effective gain and
readout noise to estimate the magnitude errors.
<p>

<dt><b>Are the effective exposure times of the images known ?</b>
<dd>Have these been corrected for shutter errors ? for the effect
of any image combining operations ? Are the effective exposure times
present and correct in the image headers ? Are the exposure times all
in the same units ? Xguiphot uses the exposure times to normalize the
computed magnitudes.
<p>

<dt><b>Are the effective airmass, filter, and time of observation of the
images known ?</b>
<dd>Has the airmass and time of observation been corrected
to mid-exposure ? Are these quantities present and correct in the image
headers ? 
</dl>

The IRAF hselect, hedit, and setairmass tasks can be used to view the
current image headers, edit in any missing information, and correct erroneous
information.
<p>

For more information on issues that may affect the accuracy of the photometry
Consult the Data Requirements section of the IRAF xguiphot help page.
<p>
<hr>

<h1><a name=basics>Xguiphot Basics</a></h1>
<p>

<h2><a name=bload>Loading the Xapphot Package</a></h2>

The Xguiphot task is located in the external add-on package Xapphot. The 
Xapphot package must be loaded before the Xguiphot task can be run.
To load the Xapphot package type the package name as shown below.
<PRE>

<b>cl&gt; xapphot</b>

</PRE>
Xguiphot is the only compiled task in the xapphot package. The remaining tasks
are parameter set tasks.

<h2><a name=bhelp>On-Line Help</a></h2>

On-line help for all the Xapphot tasks is available via the usual builtin
IRAF help facilities as shown below. These help pages contain information
not available in the on-line GUI documentation. To obtain a one line
description of each Xapphot task type help followed by the package name
as shown below.
<PRE>

<b>xa&gt; help xapphot</b>

</PRE>

To view the help page for a particular task on the terminal type phelp
followed by the task name as shown below.

<PRE>

<b>xa&gt; phelp xguiphot</b>

</PRE>

Help text, in this case the xguiphot tutorial, can also be piped to
the local printer as shown below
<PRE>

<b>xa&gt; help xgtutor1 | lprint</b>
<b>xa&gt; help xgtutor2 | lprint</b>

</PRE>
The on-line GUI documentation can be found in the HTML document
<i>xapphot$doc/xguiphot.html</i>. This document can be viewed and
printed with any standard web browser.
<p>

<h2><a name=btpars>Editing the Xguiphot Parameters</a></h2>

The Xguiphot task parameters specifying the input and output file names, the
parameter sets, and the task mode of operation can be edited before GUI
startup using the standard IRAF parameter editing utilities.
To edit the Xguiphot task parameters type epar followed by the task name
as shown below.

<PRE>

<b>xa&gt; epar xguiphot</b>

</PRE>

To edit an Xguiphot parameter move the cursor to the line specifying the
desired parameter name, enter the new value followed by
a carriage return. When editing is complete type ":wq" to exit
the epar task and update the parameters.
Techniques for editing the <i>impars, dispars, findpars, omarkpars, cenpars,
skypars, photpars, cplotpars</i>, and <i>splotpars</i> parameter set parameters
are described in the <a href="#bepsets">Editing the Xguiphot Parameter Sets</a>
section.
<p>
<hr>

<h2><a name=bimages>The Input Images</a></h2>

The Xguiphot <i>images</i> parameter specifies the input images to be
analyzed. 
<i>Images</i> may be a null list, e.g. "", a single image, e.g.
"m51", a list of images, e.g. "m51b,m51v,m51r",
an image template, e.g. "m51*", or an image list, e.g. "@imlist"
where imlist is a file containing a list of images one image per line
as shown below.
<PRE>

<b>xa&gt; type imlist</b>
m51b
m51v
m51r

</PRE>
The default value of <i>images</i> is "*" which will select all images of any
type in the current directory. <i>Images</i> may include a directory
specification, e.g. "may31/*" or "mydata$*.fits", where mydata$ is an
IRAF environment variable defined by the user specifying the desired path name.
<p>

The root image name, i.e. the image name stripped of directory and section
information, is used to set up the default input object and output results
file naming conventions. For example the root image name for the image file
/u2/davis/m51b.imh[200:400,200:400] is "m51b.imh" so by default Xguiphot
will search for an objects file called "m51b.imh.obj.#" and create an
output file called "m51b.imh.mag.#" where "#" is latest and next available
version number respectively.
<p>

Xguiphot can analyze images in multi-extension files, e.g. m51b.fits[3]
specifies the image in the third extension of the FITS file
m51b.fits and m51b.hhh[2/4] specifies the second image in the four image
GEIS file m51b.hhh.  In the latter two cases the root image names
are "m51b.fits3" and "m51b.hhh2" respectively. The square brackets
around the extension numbers are removed to avoid problems with
special characters in file names.
<p>

In general users should try and keep their image names as short as possible.
Although this is not always convenient they should also,
if possible, avoid appending the ".imh", ".hhh", or ".fits" extensions to
their input image names, as these extensions automatically become part of
the default input and output file names.
<p>
<hr>


<h2><a name=bobjects>The Input Objects Files</a></h2>

The Xguiphot <i>objects</i> parameter specifies the input objects files. 
<i>Objects</i> may be a null list, e.g. "", a single file, e.g.
"m51xy", a list of files, e.g. "m51bxy,m51vxy,m51rxy",
a file template, e.g. "m51*xy", or an object file list, e.g. "@objlist"
where objlist is a file containing a list of objects files one file per line
as shown below.
<PRE>

<b>xa&gt; type objlist</b>
m51bxy
m51vxy
m51rxy

</PRE>
By default Xguiphot attempts to match the input images and objects files
one to one. If the number of objects files is greater than zero but
less than the number of images then
the last objects file will be used for all the "extra" images. In
interactive mode the user can override the default image and object
file matching behavior.
<p>

Xguiphot supports a default input file name convention. If <i>objects</i>
is "default", then for each image Xguiphot searches for a file
called "root.obj.version", where root is the root image name described
<a href="#bimages">above</a>, "obj" is extension identifying the file
as an objects file, and version is the latest version, e.g.
"m51b.obj.2" or "m51b.fits.obj.3".
<p>

The simplest object file is a text file containing the x and y coordinates
of the objects to be measured, one object per line with the x and y
coordinates in columns one and two respectively. A portion of a simple
object file is shown below.
<p>

<PRE>
xa&gt; type objfile
  31.23    80.61
 102.42   305.73
 518.11  1021.89
</PRE>

Xguiphot also supports a more complex objects file format capable of
describing circular, elliptical, rectangular, and polygonal object and
sky apertures, and either concentric or offset sky apertures. Detailed
information about the object file format can be found in the
<a href="#aoformats">Objects File Format</a> section of the appendices.
A portion of a more complex objects file is shown below.
<p>

<PRE>
507.000 445.000
442.482 409.575 circle 9.59 ; circle 17.10 23.69
266.589 60.769 ellipse 18.69 0.4706 0.0 ; ellipse 24.91 31.56 0.4706 0.0
258.633 259.180 ellipse 65.06 0.8243 29.465 ; 442.482 460.780  rectangle 0.00 47
.14 0.6940 3.877
</PRE>
<p>

If the object or sky geometry is absent or undefined, i.e. equal to INDEF
in the input objects file, then the default object and sky geometries
are defined by the default values in the <a href="#photpars">photpars</a> and
<a href="#skypars">skypars</a> parameter sets.
<p>
<hr>

<h2><a name=bresults>The Output Results Files</a></h2>

The Xguiphot <i>results</i> parameter specifies the output results files. 
<i>Results</i> may be a null list, e.g. "", a single file, e.g.
"m51mag", a list of files, e.g. "m51bmag,m51vmag,m51mag",
a file template, e.g. "m51*mag", or a file list, e.g. "@maglist"
where maglist is a file containing a list of results files one file per line
as shown below.
<PRE>

<b>cl&gt; type maglist</b>
m51bmag
m51vmag
m51rmag

</PRE>
By default Xguiphot attempts to match the input images and results files
one to one.  If the number of results files is greater than zero but
less than the number of images then the last results file will
contain the results for all the "extra" images in addition to the results
for the one it matches.
In interactive mode the user can override the default image and results
file matching behavior.
<p>

Xguiphot supports a default output file name convention. If <i>results</i>
is "default", then for each input image, Xguiphot creates a file
called "root.mag.version", where root is the root image name described
<a href="#bimages">above</a>, "mag" is an extension identifying the file
as a results file, and version is the next available version number, e.g.
"m51b.mag.1" or "m51b.fits.mag.2".
<p>

<h2><a name=brobjects>The Output Objects Files</a></h2>

The Xguiphot <i>robjects</i> parameter specifies the output objects
files. The output objects files contain the object description for
each object whose photometry was written to the results files.
Writing to the output objects files is currently disabled. User should
leave the <i>robjects</i> parameter set to "".
<p>

<h2><a name=blogresults>Output Results File Logging</a></h2>

In non-interactive mode results logging is always enabled although the
user can disable it by setting the <i>results</i> parameter to "".
In interactive mode results logging is disabled by default. The user
must explicitly set the <i>logresults</i> parameter to "yes" to enable
logging.  This allows the user time set the parameters and make a few
experimental measurements before beginning serious work.
<p>
<hr>

<h2><a name=bpsets>The Xguiphot Parameter Sets</a></h2>

The Xguiphot parameters have been grouped together into 9 parameter sets:
impars, dispars, findpars, omarkpars, cenpars, skypars, photpars,
cplotpars, and splotpars.
Five of these parameter sets impars, findpars, cenpars, skypars, and photpars
control the Xguiphot science algorithm parameters. <a href="#impars">Impars</a>
defines the image
data dependent parameters such as <i>hwhmpsf</i>, the half-width at
half-maximum of the PSF, <i>imindata</i> and <i>imaxdata</i>, the good
data limits, <i>igain</i> and <i>ireadnoise</i>, the gain and readout
noise of the detector, and <i>ietime</i> the exposure time.
<a href="#findpars">Findpars</a>
defines the automatic object detection algorithm parameters such
as the detection threshold <i>fthreshold</i> and the minimum separation
<i>fsepmin</i>. The object centering, sky fitting, and photometry
algorithms are defined by the <a href="#cenpars">cenpars</a>,
<a href="#skypars">skypars</a>, and <a href="#photpars">photpars</a> parameter
sets respectively.
Two parameters sets <a href="#dispars">dispars</a> and
<a href="#omarkpars">omarkpars</a> control the image display and
object list marking algorithms respectively.
Two additional parameters sets <a href="#cplotpars">cplotpars</a> and
<a href="#splotpars">splotpars</a> control the object and sky region
display algorithms respectively.
<p>

<h2><a name=bepsets>Editing the Xguiphot Parameter Sets</a></h2>

The Xguiphot parameter sets can be edited before GUI startup in the same
manner as the Xguiphot task level parameters.
To edit a parameter set type epar followed by the parameter set name
or type the parameter set name, and edit the
impars parameters in the usual way as shown below.
<PRE>

<b>xa&gt; epar impars</b>

<b>xa&gt; impars</b>

</PRE>

Parameter sets can also be edited from within the main task editor. To edit
the impars parameter set while editing the Xguiphot task parameters type
"epar xguiphot".  Move the cursor to the impars line and type ":e".
The menu for impars will appear ready for editing. Edit the
parameters and type ":wq" to quit and update the impars parameters.
Epar will return to the Xguiphot parameter
menu after which other parameter sets or task parameters can be edited.

<h2><a name=bupsets>Updating the Xguiphot Parameter Sets</a></h2>

By default Xguiphot does not update the default parameter set files in the users
<i>uparm$</i> directory when it terminates. Users who wish to
automatically update their pset files on task termination should
set the <i>update</i> parameter to "yes". If <i>update</i> is "no",
it is still possible to force parameters set updates in interactive mode.
However users should be aware that if <i>update</i> = "yes" previous
internal updates may be overwritten at task termination.
<p>
<hr>

<h2><a name=binter>Interactive Mode</a></h2>

In interactive mode the user can issue instructions to the Xguiphot task
as it is running.
If the <a href="#bguifile">guifile</a> parameter is defined then these
instructions will be in the form of:

<ul>
<li>mouse button clicks</li>
<li>text entry</li>
<li>task specific keystroke commands</li>
<li>task specific colon commands</li>
<li>IRAF cursor mode keystroke commands</li>
<li>IRAF cursor mode colon commands</li>
</ul>

For example in order to redisplay the current image with a log10 instead
of a linear transformation using the GUI, the user would

<ul>
<li>press the Images menu button</li>
<li>select the "Dispars pset ..." item</li> 
<li>move to the ztransform entry box in the Dispars panel</li>
<li>press the left mouse button to bring up the ztransform menu</li>
<li>select the "log" item</li>
<li>press the Apply button</li>
<li>press the Display button to redisplay the image</li>
</ul>

Users familiar with the equivalent task specific keystroke and colon commands
could accomplish the same task by typing ":ztransform log" CR command followed
by an "i" keystroke command in the image display window.
<p>

If the <a href="#bguifile">guifile</a> is undefined the user can still
run Xguiphot interactively. However only keystroke and colon commands
will be available, only a single graphics window will be available for
displaying the image, the object and sky regions, and the results, and
certain functions like windowing the image display will be unavailable.
This mode of running Xguiphot is not discussed in this document. More
information about it can be found in the regular Xguiphot help page.
<p>

<h2><a name=bguifile>The GUI File</a></h2>

The default GUI file is a text file which describes the widget tree hierarchy
and specifies its layout and appearance on the screen, defines the procedures
to be executed when the user interacts with the GUI, and defines the GUI
parameters and call-backs through which the client Xguiphot task sends messages
to the GUI.
<p>

Since the GUI file is a text file which is read at runtime, an individual
user or site can customize the GUI to local taste. The default GUI is stored
in the file "xapphot$gui/xguiphot.gui".
<p>

<h2><a name=bbatch>Non-interactive Mode</a></h2>

In non-interactive mode Xguiphot reads the input images and objects files,
reads the default parameter set files, performs the analysis, and writes
the output files without any interaction with the user.  If the user does
not specify the input objects files then the automatic object detection
algorithm generates the input object list. This mode of running
Xguiphot is not discussed further in this document. More information about
it can be found in the regular Xguiphot help page.
<p>
<hr>

<h1><a name=parsets>The Xguiphot Parameter Sets</a></h1>

The nine Xguiphot parameter sets: <a href="#impars">impars</a>,
<a href="#dispars">dispars</a>, <a href="#findpars">findpars</a>,
<a href="#omarkpars">omarkpars</a>, <a href="#cenpars">cenpars</a>,
<a href="#skypars">skypars</a>, <a href="#photpars">photpars</a>,
<a href="#splotpars">splotpars</a>, and <a href="#cplotpars">cplotpars</a>
are described below in the order they appear in the Xguiphot task
parameter file. This order corresponds to the order in which
a user normally encounters and edits them in a typical interactive Xguiphot
session.
<p>

<h2><a name=impars>The Impars Parameter Set</a></h2>

The impars parameters define the image data dependent parameters.
Impars parameters are functions of the telescope and instrument
optics, the detector noise and linearity range, and the observing
conditions. Impars should be checked and edited before any photometric
measurements are made.
<p>

<dl>
<dt><b>iscale = 1.0 (units per pixel)</b>
<dd>The scale of the image e.g. 0.46 arc-seconds per pixel.
Most Xguiphot length parameters are defined in units of iscale,
pixels if iscale = 1.0, arc-seconds etc. otherwise. Xguiphot users
should leave iscale set to 1.0 unless they need to compare their aperture
photometry directly with results in the literature.
<p>

<dt><b>ihwhmpsf = 1.0 (scale units)</b>
<dd>The half-width at half-maximum of the PSF in scale units, e.g. 2.0 pixels
or 0.92 arc-seconds if iscale = 0.46 arc-seconds per pixel. Xguiphot users
should set ihwhmpsf accurately in order to optimize the performance of
the object detection algorithm and the "gauss1d" and "ofilter1d" centering
algorithms.
<p>

<dt><b>iemission = yes</b>
<dd>Are the objects to be measured emission objects, iemission = "yes", or
absorption objects, iemission = no ? Most Xguiphot users should leave
iemission set to "yes".
<p>

<dt><b>iskysigma = INDEF (ADU)</b>
<dd>The default standard deviation of the sky pixels in ADU. Users should set
iskysigma to a realistic value if they plan to set the centering algorithm
<i>cthreshold</i> parameter or use the sky fitting algorithms "zero" or
"constant".
<p>

<dt><b>imindata = INDEF (ADU)</b>
<dd>The minimum good pixel value.  Xguiphot users should set this parameter
if they wish, to remove low bad data from the object detection
analysis, to remove low bad data from the sky analysis,
or if they wish to flag objects with low bad data in the centering
and photometry
apertures. To avoid biasing the sky estimates Xguiphot users should exercise
care in setting imindata for image sets with varying average background levels.
<p>

<dt><b>imaxdata = INDEF (ADU)</b>
<dd>The maximum good pixel value.  Xguiphot users should set this parameter
if they wish, to remove high bad data from the
object detection analysis, to remove high bad data from the sky
pixel analysis, or to flag saturated objects or objects with high bad data
in their centering and photometry apertures.
<p>

<dt><b>inoisemodel = "poisson"</b>
<dd>The noise model used to estimate the the Xguiphot magnitude errors.
Currently the only option is:
<dl>
<dt><b>poisson</b>
<dd>Poisson statistics in the object and the sky background as well as
readout noise are used to estimate the error in the object magnitude
measurement.
</dl>
Xguiphot users should be aware that the parameters <i>ikgain</i> or
<i>igain</i> and <i>ikreadnoise</i> or <i>ireadnoise</i> must be correctly
set in order to compute the valid magnitude error estimates.
<p>

<dt><b>ikgain = "GAIN"</b>
<dd>The image header keyword defining the gain value whose units are assumed
to be electrons per ADU. If ikgain is undefined or  does not exist then
the gain defaults to the value of igain.
<p>

<dt><b>ikreadnoise = "RDNOISE"</b>
<dd>The image header keyword defining the readout noise value whose
units are assumed to be electrons.  If ikreadnoise is undefined or does not
exist the readout noise defaults to the value of ireadnoise.
<p>

<dt><b>igain = 1.0</b>
<dd>The default gain in electrons per ADU if ikgain does not exist.  Xguiphot
users should set the ikgain or igain parameter before making measurements in
order to insure that the magnitude error estimates are valid.
<p>

<dt><b>ireadnoise = 0.0</b>
<dd>The default readout noise in electrons if ikreadnoise does not exist.
Xguiphot users should set ikreadnoise or ireadnoise before making measurements
in order to insure that the magnitude error estimates are valid.
<p>

<dt><b>ikexptime = "EXPTIME"</b>
<dd>The image header exposure time keyword. The time units are arbitrary but
must be consistent for any list of images whose magnitudes are to be compared.
The computed magnitudes are normalized to 1 timeunit.  Xguiphot users
should set this parameter in order to normalize the magnitude scale and
simplify future reduction steps. If ikexptime is undefined or does not
exist the exposure defaults to the value of ietime.
<p>

<dt><b>ikairmass = "AIRMASS"</b>
<dd>The image header airmass keyword.  This parameter does not affect the
Xguiphot computations in any way, but the airmass values stored in the
output files can simplify future reductions steps.  If ikairmass is undefined
or does not exist the exposure defaults to the value of iairmass.
<p>

<dt><b>ikfilter = "FILTERS"</b>
<dd>The image header filter id keyword.  This parameter does not affect the
Xguiphot computations in any way, but the filter id values stored in the output
files can simplify future reductions steps.  If ikfilter is undefined
or does not exist the exposure defaults to the value of ifilter.
<p>

<dt><b>ikobstime = "UT"</b>
<dd>The image header time of observation keyword.  This parameter
does not affect the computations in any way, but the time of observation
values stored in the output files can simplify future reductions steps.
If ikobstime is undefined or does not exist the exposure defaults to
the value of iobstime.
<p>

<dt><b>ietime = 1.0</b>
<dd>The default exposure time for the image in arbitrary units if ikexptime
does not exist.  The computed magnitudes are normalized to 1 timeunit.
<p>

<dt><b>xairmass = INDEF</b>
<dd>The default value of the airmass if ikairmass is undefined.
<p>

<dt><b>ifilter = "INDEF"</b>
<dd>The default value of the filter id string if ikfilter is undefined.
<p>

<dt><b>iotime = "INDEF"</b>
<dd>The default value of the time of observation string if ikitime is undefined.
<p>
</dl>
<hr>

<h2><a name=dispars>The Dispars Parameter Set</a></h2>

The dispars parameters control the Xguiphot image display algorithms.
These parameters are used to map the image to the display window in both
position and intensity. The current image display algorithms are based on
but not identical to the algorithms used by the IRAF display task.
<p>

<dl>
<dt><b>derase = yes</b>
<dd>Erase the screen before displaying the image ?
<p>

<dt><b>dfill = yes</b>
<dd>Interpolate the image to fit the display window ?
<p>

<dt><b>dxviewport = 1.0, dyviewport = 1.0</b>
<dd>The horizontal and vertical sizes of the display window in viewport or
normalized coordinates.
<p>

<dt><b>xmag = 1.0, ymag = 1.0</b>
<dd>The horizontal and vertical image magnifications used when dfill =
"no".  Magnifications greater than 1 map image pixels into more than 1
display pixel and magnifications less than 1 map more than 1 image pixel
into a display pixel.
<p>

<dt><b>dztransform = "linear"</b>
<dd>The algorithm used to transform the image intensity levels to the display
levels.  The choices are:
<p>

<dl>
<dt><b>"linear"</b>
<dd>Map the minimum and maximum image intensities linearly to the minimum and
maximum display levels.
<p>

<dt><b>"log"</b>
<dd>Map the minimum and maximum image intensities linearly to the range 1 to
1000, take the logarithm (base 10), and then map the logarithms to the display
range.
<p>

<dt><b>"none"</b>
<dd>Apply no mapping of the image intensities.
For most image displays, values exceeding
the maximum display value are truncated by masking the highest bits.
This corresponds to applying a modulus operation to the intensity values
and produces "wrap-around" in the display levels.
<p>

<dt><b>"user"</b>
<dd>Use the look-up table of image intensities and  corresponding
display intensities in the file specified by dlutfile.
<p>
</dl>

<dt><b>dzlimits = "median"</b>
<dd>The algorithm used to determine the minimum and maximum image intensities
to map to the minimum and maximum display intensities. The choices are:
<p>

<dl>
<dt><b>"median"</b>
<dd>Compute the image intensity limits using an automatic mapping algorithm
and the parameters dznsample and dzcontrast.
<p>

<dt><b>"image"</b>
<dd>Use the minimum and maximum values in the image header or by subsampling the
entire image.
<p>

<dt><b>"user"</b>
<dd>Use the values dz1 and dz2 supplied by the user. If dz1 and dz2
are INDEF then dzlimits defaults to the "median" algorithm.
<p>
</dl>

<dt><b>dzcontrast = 0.25</b>
<dd>The contrast factor for the dzlimits = "median" algorithm.
If a value of zero is given then the minimum and maximum of the
intensity sample is used.
<p>

<dt><b>dznsample = 5</b>
<dd>The number of sample lines for the dzlimits = "median" algorithm.
<p>

<dt><b>dz1 = INDEF (ADU), z2 = INDEF (ADU)</b>
<dd>The minimum and maximum image intensity to be mapped to the minimum
and maximum display levels if dzlimits = "user".
<p>

<dt><b>dlutfile = ""</b>
<dd>The name of the text file containing the look-up table for the
dztransform = "user" algorithm.
The table should contain two columns per line; column 1 contains the
intensity, column 2 the desired greyscale output.
<p>

<dt><b>drepeat = no</b>
<dd>Use the previous intensity transformation if defined ?
<p>
</dl>
<hr>

<h2><a name=findpars>The Findpars Parameter Set</a></h2>

The findpars parameters along with the <a href="#impars">impars</a> parameters
<i>ihwhmpsf</i>, <i>imindata</i>, and <i>imaxfata</i> control the Xguiphot
object detection algorithm. The current algorithm is optimized for
detecting stellar objects.
<p>

<dl>
<dt><b>fthreshold = 320 (ADU)</b>
<dd>The detection threshold above local background in ADU.
<p>

<dt><b>fradius = 2.5 (ihwhmpsf)</b>
<dd>The fitting radius in units of ihwhmpsf. Fradius defines the size
of the Gaussian kernel used to compute the density enhancement image, and
the size of the image region used to compute the roundness and sharpness
statistics.
<p>

<dt><b>fsepmin = 1.0 (ihwhmpsf)</b>
<dd>The minimum separation for detected objects in units of ihwhmpsf.
<p>

<dt><b>fnpixmin = 5</b>
<dd>The minimum area of the detected objects in pixels.
<p>

<dt><b>froundlo = 0.0,  froundhi = 0.2</b>
<dd>The minimum and maximum ellipticity values of the detected objects, where
ellipticity is defined as 1 - b / a, and a and b are the semi-major and
semi-minor axis lengths respectively.
<p>

<dt><b>fsharplo = 0.5, fsharphi = 2.0</b>
<dd>The minimum and maximum sharpness values of the detected objects, where
sharpness is defined to be the ratio of the estimated object size to the
ihwhmpsf parameter value.
<p>
</dl>
<hr>

<h2><a name=omarkpars>The Omarkpars Parameter Set</a></h2>

The omarkpars parameters control the object marking algorithms.
The default mark size
<i>osizemark</i> and object matching tolerance <i>otolerance</i> parameters
scale with the image scale defined by the <a href="#impars">impars</a>
<i>iscale</i> parameter.
<p>

<dl>
<dt><b>objmark = yes</b>
<dd>Enable object list marking on the image display ?
<p>

<dt><b>ocharmark = "plus"</b>
<dd>The mark to be drawn. The options are: "point", "box",
"cross", "plus", "circle", "diamond", and "shape". If the "shape"
option is selected, the object and sky regions are outlined on the
image display.
<p>

<dt><b>onumber = no</b>
<dd>Number the marked objects ?
<p>

<dt><b>opcolormark = "green"</b>
<dd>The color of the marked object region. The options are "red", "blue",
"green", and "yellow".
<p>

<dt><b>oscolormark = "blue"</b>
<dd>The color of the marked sky region. The options are "red", "blue",
"green", and "yellow".
<p>

<dt><b>osizemark = 5.0 (iscale units)</b>
<dd>The object mark half-width in scale units if ocharmark is not
equal to "shape". If osizemark is INDEF the half-width is set to the
impars ihwhmpsf parameter.
<p>

<dt><b>otolerance = 5.0 (iscale units)</b>
<dd>The position matching tolerance for selecting an object from the object
list with the image cursor.
<p>
</dl>
<hr>

<h2><a name=cenpars>The Cenpars Parameter Set</a></h2>

The cenpars parameters control the action of the centering
algorithms.  The default values should produce reasonable results in
most cases.  Some of the centering parameters scale with the image data
dependent <a href="#impars">impars</a> parameters <i>iscale</i> and
<i>iskysigma</i>.
<p>

<dl>
<dt><b>calgorithm = "centroid1d"</b>
<dd>The centering algorithm. The centering algorithm options are:
<dl>
<dt><b>none</b>
<dd>Set the object centers to the initial centers.
<p>
<dt><b>centroid1d</b>
<dd>Set the object centers to the the intensity weighted means
of the marginal profiles in x and y.  This is the recommended algorithm
for Xguiphot users.
<p>
<dt><b>gauss1d</b>
<dd>Set the object centers by fitting a Gaussian of fixed hwhmpsf to
the marginal profiles in x and y using non-linear least squares techniques.
Hwhmpsf is set to the value of the impars ihwhmpsf parameter.
<p>
<dt><b>ofilter1d</b>
<dd>Set the object centers using optimal filtering techniques,
a triangular weighting function of half width equal to hwhmpsf, and the
marginal distributions in x and y.  Hwhmpsf is set to the value of
the impars ihwhmpsf parameter.
<p>
</dl>

<dt><b>cradius = 3.5  (iscale units)</b>
<dd>The radius of the image subraster used for object centering in units of the
impars iscale parameter. Cradius should be big enough to include most
of the core of the object, but small enough to remain unbiased
by noise.
<p>

<dt><b>cthreshold = INDEF (iskysigma units)</b>
<dd>Only points cthreshold * iskysigma above (emission features) or below
(absorption features) the data minimum or maximum respectively are used
by the centering algorithms. Xguiphot users should leave cthreshold set
to INDEF which invokes the default thresholding technique
appropriate for each centering algorithm.  Setting cthreshold to 0.0 turns off
thresholding altogether for all the centering algorithms.
<p>

<dt><b>cminsnratio = 3.0</b>
<dd>The minimum signal to noise ratio for object centering. If the estimated
signal to noise ratio is less than cminsnratio the computed center is
returned with an error flag.
<p>

<dt><b>cmaxiter = 10</b>
<dd>The maximum number of centering algorithm iterations.
<p>

<dt><b>cxyshift = 5.0  (iscale units)</b>
<dd>The maximum permissible shift of the center with respect to the initial
coordinates in units of the impars iscale parameter.  If the shift computed
by the centering algorithms is larger than cxyshift, the computed center
is returned with an error flag.
<p>

<dt><b>ctrmark = no</b>
<dd>Mark the computed object centers on the image display ?
<p>

<dt><b>ccharmak = "plus"</b>
<dd>The character used to mark the object centers. The options are "point",
"box", "cross", "plus", "circle", and "diamond".
<p>

<dt><b>ccolormark = "red"</b>
<dd>The center mark color. The options are "red", "blue", "green" and "yellow".
<p>

<dt><b>csizemark = 5.0 (iscale units)</b>
<dd>The size of the center mark in units of the impars iscale parameter.
If csizemark is undefined the mark size defaults to 2.0 * cradius.
<p>
</dl>
<hr>

<h2><a name=skypars>The Skypars Parameter Set</a></h2>

The skypars parameters control the action of the sky fitting
algorithms.  The default values have been chosen for efficiency and to
give reasonable results in the majority of cases.  Several of the sky
fitting parameters scale with the image scale defined by the
<a href="#impars">impars</a> <i>iscale</i> parameter and the computed
standard deviation of the sky pixels <i>sigma</i>. Data outside
the good data range defined by the <a href="#impars">impars</a> parameters
<i>imindata</i> and <i>imaxdata</i> are rejected from the sky pixel
distribution before the sky is fit.
<p>

<dl>
<dt><b>smode = "concentric"</b>
<dd>The default sky measurement mode. The options are:
<p>

<dl>
<dt><b>concentric</b>
<dd>Measure the sky in a region concentric with the object.
<p>
<dt><b>offset</b>
<dd>Measure the sky in a region offset from the object.
<p>
</dl>

<dt><b>sgeometry = "circle"</b>
<dd>The default geometry of the sky region. The options are "circle",
"ellipse", "rectangle", and "polygon".
<p>

<dt><b>srannulus = 20.0  (iscale units)</b>
<dd>The inner semi-major axis of the annular sky fitting region in units of the
impars iscale parameter. Srannulus may be 0.0. If the sky region is a concentric
polygon the inner "axis" of the user defined polygon is pushed outward by
srannulus pixels; if it is an offset polygon srannulus is ignored.
<p>

<dt><b>swannulus = 5.0  (iscale units)</b>
<dd>The width of the annular sky fitting region in units of the impars iscale
parameter.
<p>

<dt><b>saxratio = 1.0</b>
<dd>The default ratio of the minor to major axis of the sky region. This
parameter does not apply to polygons.
<p>

<dt><b>posangle = 0.0 (degrees)</b>
<dd>The default position angle of the sky region in degrees counter-clockwise
from the positive x axis. This parameter does not apply to polygons.
<p>

<dt><b>salgorithm = "hcentroid"</b>
<dd>The sky fitting algorithm to be employed. The sky fitting options are:
<p>

<dl>
<dt><b>none</b>
<dd>Use 0.0 for the sky background.
<p>
<dt><b>constant</b>
<dd>Use the current value of the sconstant parameter for the sky background.
<p>
<dt><b>mean</b>
<dd>Estimate the mean of the sky pixel distribution.
<p>
<dt><b>median</b>
<dd>Estimate the median of the sky pixel distribution.
<p>
<dt><b>mode32</b>
<dd>Estimate the mode of the sky pixel distribution using the
mode = 3 * median - 2 * mean algorithm.
<p>
<dt><b>hcentroid</b>
<dd>Estimate the intensity-weighted mean or centroid of the sky pixel histogram.
This algorithm is equivalent to estimating the mode of the histogram.
<p>
<dt><b>hgauss</b>
<dd>Fit a Gaussian function to the sky pixel histogram using non-linear
least-squares techniques.
<p>
<dt><b>hofilter</b>
<dd>Estimate the sky using the optimal filtering algorithm, a triangular
weighting function, and the histogram of the sky pixels.
<p>
<dt><b>hcrosscor</b>
<dd>Estimate the sky value using the cross-correlation function of the sky pixel
histogram and a Gaussian noise function with a sigma equal to the
computed sigma of the sky pixel distribution.
<p>
</dl>
If the sky fitting algorithm is "zero" or "constant" then the computed
standard deviation of the sky pixels is set to the value of the impars
iskysigma parameter.

<dt><b>sconstant</b>
<dd>The constant used by the "constant" sky fitting algorithm.
<p>

<dt><b>shwidth = 3.0 (sigma)</b>
<dd>The ksigma clipping factor for computing the histogram of the sky pixels.
Shwidth is in units of the computed sky sigma.  The computed histogram will
be 2.0 * shwidth * sigma wide.
<p>

<dt><b>shbinsize = 0.20 (sigma)</b>
<dd>The resolution of the sky pixel histogram in units of the computed sky
sigma.  The number of histogram bins will be 2 * shwidth / shbinsize + 1.
<p>

<dt><b>shmooth = yes</b>
<dd>Boxcar smooth the sky histogram before computing a sky value?
<p>

<dt><b>smaxiter = 10</b>
<dd>The maximum number of iterations performed by the "hgauss" and "hofilter"
sky fitting algorithms.
<p>

<dt><b>sloclip = 0.0 (percent)</b>
<dd>The low-side clipping factor in percentage points of the total number of
sky pixels.
<p>

<dt><b>shiclip = 0.0 (percent)</b>
<dd>The high-side clipping factor in percentage points of the total number of
sky pixels.
<p>

<dt><b>snreject = 50</b>
<dd>The maximum number of sky pixel rejection cycles.
<p>

<dt><b>sloreject = 3.0 (sigma)</b>
<dd>The ksigma low-side clipping factor for the pixel rejection  phase of the
sky fitting algorithm in units of the computed sky sigma.
<p>

<dt><b>shireject = 3.0 (sigma)</b>
<dd>The ksigma high-side clipping factor for the pixel rejection  phase of the
sky fitting algorithm in units of the computed sky sigma.
<p>

<dt><b>srgrow = 0.0  (iscale units)</b>
<dd>The region growing radius for sky pixel rejection in units of iscale.
When a bad sky pixel is detected, all pixels within srgrow / iscale
pixels will be rejected. If srgrow is 0.0 region growing is not performed.
<p>

<dt><b>skymark = yes</b>
<dd>Mark the sky region on the displayed image ?
<p>

<dt><b>scolormark = "yellow"</b>
<dd>The color of the marked sky region. The options are "red", "blue", "green",
and "yellow".
<p>
</dl>
<hr>

<h2><a name=photpars>The Photpars Parameter Set</a></h2>

The photpars parameters control the action of the photometry
algorithms.  The default values have been chosen for efficiency and to
give reasonable results in common cases.  The photometry
apertures scale with the image scale defined by the
<a href="#impars">impars</a> <i>iscale</i> parameter.
Magnitudes for objects with data outside the good data limits defined
by the <a href="#impars">impars</a> <i>imindata</i> and <i>imaxdata</i>
parameters are set to INDEF although the sums and fluxes are still computed.

<dl>
<dt><b>pgeometry = "circle"</b>
<dd>The default geometry of the object region. The options are "circle",
"ellipse", "rectangle", or "polygon".
<p>

<dt><b>papertures = "10" (iscale units)</b>
<dd>The semi-major axes of the photometry apertures in units of the
impars iscale
parameter or the file name containing the list of semi-major axes. Individual
aperture axes may be separated by whitespace or commas, e.g "3,5,10".
A ranges syntax of the form ap1:apN:apstep, e.g. "1:10:0.5" is also
supported. The maximum number of photometry apertures is 100.
<p>

<dt><b>paxratio = 1.0</b>
<dd>The default ratio of minor to major axes of the object region.  This
parameter does not apply to polygons.
<p>

<dt><b>pposangle = 0.0 (degrees)</b>
<dd>The default position angle of the object region in degrees counter-clockwise
from the positive x axis. This parameter does not apply to polygons.
<p>

<dt><b>pzmag = 25.00 (magnitudes)</b>
<dd>The zero point of the magnitude scale.
<p>

<dt><b>photmark = yes</b>
<dd>Mark the photometry apertures on the displayed image ?
<p>

<dt><b>pcolormark = "red"</b>
<dd>The color of the marked apertures. The options are "red", "blue", "green",
and "yellow".
<p>
</dl>
<hr>

<h2><a name=cplotpars>The Cplotpars Parameter Set</a></h2>

The cplotpars parameter set controls the contouring algorithms used by
the Xguiphot object and sky viewing routines. Users can display contour plots
of the object and sky regions or contour plots overlaid on the object
and sky regions.
<p>

<dl>
<dt><b>enx = 31 (pixels), eny = 31 (pixels)</b>
<dd>The default width of the region to be contoured in pixels. Enx and eny
are only used if for some reason the code cannot figure out the size of the
object or sky regions.
<p>

<dt><b>ez1 = INDEF (ADU)</b>
<dd>The minimum pixel value to be contoured. If ez1 = INDEF, the data minimum is
used for the minimum.
<p>

<dt><b>ez2 = INDEF (ADU)</b>
<dd>The maximum pixel value to be contoured. If ez2 = INDEF, the data maximum
is used for the maximum.
<p>

<dt><b>ez0 = INDEF (ADU)</b>
<dd>The intensity value of the zero contour, i.e., the value of a zero point
shift to be applied to the image data before plotting.  The value of ez0 does
not affect the values of the ez1 and ez2 parameters. The default value of ez0
is 0.0.
<p>

<dt><b>encontours = 5</b>
<dd>The number of contours to be drawn. If encontours is INDEF
then the value of edz determines the number of contours.
<p>

<dt><b>edz = INDEF (ADU)</b>
<dd>The contour interval used if encontours is INDEF. If encontours and edz
are both undefined then between 20 and 30 contours spanning the data
range are drawn.
<p>

<dt><b>ehilomark = "none"</b>
<dd>The high / low contour marking options. The choices are:
<p>
<dl>
<dt><b>"none"</b>
<dd>The highs and lows are not marked.
<p>
<dt><b>"hilo"</b>
<dd>The highs and lows are marked on the plot.
<p>
<dt><b>"pixel"</b>
<dd>The intensity of each pixel is marked on the plot.
<p>
</dl>

<dt><b>edashpat = 528</b>
<dd>The dash pattern for negative contours.
<p>

<dt><b>elabel = no</b>
<dd>Label the major contours in the contour plot ?
<p>

<dt><b>ebox = no</b>
<dd>Draw a box around the plot ?
<p>

<dt><b>eticklabel = no</b>
<dd>Label the tick marks ?
<p>

<dt><b>exmajor = 5, exminor = 0</b>
<dd>The number of major and minor axis divisions along the x axis.
<p>

<dt><b>eymajor = 5, eyminor = 0</b>
<dd>The number of major and minor axis divisions along the y axis.
<p>

<dt><b>eround = no</b>
<dd>Round the axes limits to nice values ?
<p>

<dt><b>efill = no</b>
<dd>Fill the output viewport or enforce unity aspect ratio ?
<p>
</dl>
<hr>

<h2><a name=splotpars>The Splotpars Parameter Set</a></h2>

The splotpars parameter set controls the surface plotting algorithms used by
the Xguiphot object and sky region viewing routines. Users can display
surface plots of the object and sky regions.
<p>

<dl>
<dt><b>anx = 31 (pixels), any = 31 (pixels)</b>
<dd>The default width of the region to be plotted in pixels. Anx and any
are only used if for some reason the code cannot figure out the size of the
object or sky apertures.
<p>

<dt><b>az1 = INDEF (ADU)</b>
<dd>The minimum value to be plotted. If az1 = INDEF, the data minimum is
used for the minimum value.
<p>

<dt><b>az2 = INDEF (ADU)</b>
<dd>The maximum value to be plotted. If az2 = INDEF, the data maximum
is used for the maximum value.
<p>

<dt><b>alabel = no</b>
<dd>Draw and label the axes ?
<p>

<dt><b>angv = 25 (degrees)</b>
<dd>The vertical viewing angle in degrees.
<p>

<dt><b>angh = -33 (degrees)</b>
<dd>The horizontal viewing angle in degrees.
<p>
</dl>
<hr>

<h1><a name=guirun>Running Xguiphot with the GUI</a></h1>
<p>

<h2><a name=xstart>Starting Xguiphot</a></h2>

To start Xguiphot, cd to your working directory,
type xguiphot at the xapphot package prompt, and enter the
input image list, the input objects file list, and the output
results lists, as shown below.
<PRE>

<b>xa&gt; cd [<i>mydir</i>]</b>
<b>xa&gt; xguiphot</b>
List of images to be analyzed (*): 
List of input objects files (default): 
List of output results files (default): 

</PRE>
After a few seconds the <a href="#guipanel">xguiphot control panel</a> 
activates, the first image is displayed in the
<a href="#gimwindow">image display window</a>, the <a href="#gimcursor">image
display cursor</a> activates, and Xguiphot is ready to accept user commands.
<p>

If an error condition is detected when Xguiphot starts up 
a warning message will be displayed in the <a href="#gimstatmarker">status
line </a> at the bottom of the image display window.
<p>

<h2><a name=xquit>Quitting Xguiphot</a></h2>

To quit Xguiphot press the Quit button in the <a href="#guipanel">Xguiphot
control panel</a></li>.  The quit command tells Xguiphot to shut down
all the open windows, terminate task execution, and return control
to the IRAF cl.
<p>

<h2><a name=xhelp>Getting On-Line Help</a></h2>

To access the Xguiphot on-line help activate the
<a href="#hpanel">help panel</a> by: pressing the Help Button in the
<a href="#guipanel">Xguiphot control panel</a>, typing ? in the
<a href="#gimwindow">image display window</a>,
pressing any Help button in any active Xguiphot panel.
<p>

The text displayed in the help panel is part of the HTML document
<i>xapphot$doc/xguiphot.html</i>, which can be browsed while Xguiphot
is running or viewed and printed off-line with your standard
web browser.
<p>
<hr>

<h2><a name=xcurdir>Dealing with Directories </a></h2>

The default Xguiphot current directory is the directory in which Xguiphot
is started. This is also the default directory from which images and
objects files are read and into which results files are written.
<p>

To display the current directory and subdirectory structure bring up the
<a href="#fpanel">files panel</a> using the <a href="#gfmenu">files menu</a>
as shown below.

<ul>
<li>move the mouse to the Files menu button</li>
<li>select the "Files panel ..." option</li>
</ul>

The current directory is displayed in the "Current Directory Listing" section of
the files panel in the "Current Dir" entry box. The current directory
subdirectory structure is listed below.
<p>

To set a new current directory using the Files panel:

<ul> 
<li>move the mouse to the "Current Directory Listing" section "Current Dir" entry box</li>
<li>type Ctrl k to delete the existing directory specification</li>
<li>enter the new directory specification</li>
<li>hit return or move to and press the Apply button</li>
</ul>

To browze the subdirectory structure using the Files panel:

<ul>
<li>move the mouse to the "Current Directory Listing" section </li>
<li>click the left mouse button on the desired subdirectory </li>
<li>the new current directory will appear in the "Current Dir" box</li>
<li>"Current Dir" box text will change to white</li>
<li>hit Return in the "Current Dir" box</li>
</ul>

<hr>

<h2><a name=ximages>Dealing with Images</a></h2>

<h2><a name=ximdir>Setting the Image Directory</a></h2>

The default Xguiphot image directory is the directory in which Xguiphot
is started. If the Xguiphot task parameter <i>images</i> includes a directory
specification, e.g. "/u2/davis/may31/* then the directory specification,
e.g. "/u2/davis/may31/" becomes the default image directory and overrides
the <a href="#xcurdir">current directory</a>.
<p>

To display the current image file directory bring up the
<a href="#fpanel">files panel</a> using the <a href="#gfmenu">files menu</a>
as shown below.

<ul>
<li>move the mouse to the Files menu button</li>
<li>select the "Files panel ..." option</li>
</ul>

The current image directory is displayed in the "Input Images" section of
the files panel in the "Dir" entry box. If the Xguiphot <i>images</i>
parameter includes a directory specification, it
is displayed in the "Images" entry box not the "Dir" entry box.
<p>

To enter a new images file directory using the Files panel:

<ul> 
<li>move the mouse to the "Input Images" section "Dir" entry box</li>
<li>type Ctrl k to delete the existing directory specification</li>
<li>enter the new directory specification</li>
<li>press the Apply button</li>
</ul>

To enter a new global default directory using the Files panel:

<ul>
<li>move the mouse to the "Input Images" section "Dir" entry box</li>
<li>type Ctrl k to delete the existing directory specification</li>
<li>enter the new directory specification and hit Return</li>
<li>press the Apply button</li>
</ul>

The new image directory specification is prepended to the current
images template defined by the <i>images</i> parameter, and new images,
input objects file, and output results file lists are generated.
The current image, current objects file, and default output file names
are displayed in the Files panel, and the first image in the new
image list is displayed in the <a href="#gimwindow">image display window</a>.


<h2><a name=ximtemplate>Setting the Image Template</a></h2>

The default Xguiphot image template is the value of the <i>images</i>
parameter. The default value of <i>images</i> is "*" which selects for
all images of all types in the current working directory. For more
information about image templates, image names, and root image names
see the <a href="#bimages">Input Images</a> section.
<p>

To display the current image file directory using the
<a href="#fpanel">Files panel</a> and <a href="#gfmenu">Files menu</a>
as shown below.

<ul>
<li>move the mouse to the Files menu button</li>
<li>select the "Files panel ..." option</li>
</ul>

The current image directory, image template, and image list are displayed
in the "Input Images" section of the files panel. The current image name
is highlighted in the image list and should match the image name displayed
in the <a href="#gfmarker">Files marker</a> in the image display window.
<p>

To quickly display the current image template, image name,
and image sequence number without using the Files panel use
the builtin <a href="#gcoloncmds">colon commands</a> as shown below.

<ul>
<li>move the mouse to the image display window</li>
<li>type :images to display the current image template
<li>type :imname to display the current image name</li>
<li>type :imnumber to display the current image number</li>
</ul>

To enter a new image template using the Files panel:

<ul>
<li>move the mouse to the "Input Images" section "Images" entry box</li>
<li>type Ctrl k to delete the existing images template specification</li>
<li>enter the new image template and hit Return</li>
<li>or press the Apply button</li>
</ul>

New images, input objects file, and output results file lists are generated.
The current image, current objects file, and default output file names
are displayed in the Files panel, and the first image in the new
image list is displayed in the <a href="#gimwindow">image display window</a>.
<p>

To quickly define a new image template and load a new image
list without bringing up the Files panel using the builtin
<a href="#gcoloncmds">colon commands</a>.

<ul>
<li>move the mouse to the image display window</li>
<li>type :images [newtemplate] to load a new image template</li>
</ul>

<h2><a name=xbimlist>Browsing the Image List</a></h2>

To browse the current image list in any order using the
<a href="#fpanel">Files panel</a>:

<ul>
<li>move the mouse to the Files menu button</li>
<li>select the "Files panel ..." option</li>
<li>move the "Input Images" section scrollbar to view the image list</li>
</ul>

The image currently displayed  in the image display window is highlighted
in the image list.
<p>

To select a new image using the Files panel:
<ul>
<li>position the mouse to the desired image name in the image list</li>
<li>click the left mouse button</li>
</ul>

Now the new image name is highlighted in the image list and displayed in
the image display window. A new default input objects file is selected
and highlighted in the input objects file list, and a new default output
file is selected.
<p>

To quickly change images using the builtin <a href="#gcoloncmds">colon
commands</a>:

<ul>
<li>move the mouse to the image display window</li>
<li>type :imname [newimage] to select a new image</li>
</ul>
<p>

To move backwards and forwards sequentially in the image list without
bringing up the Files panel:

<ul>
<li>move the mouse to the Files menu button</li>
<li>select the "Next image" or "Previous image" items
</ul>

or use the builtin <a href="#gkeycmds">keystroke commands</a> as shown below.

<ul>
<li>move the mouse to the image display window</li>
<li>type the n or p keystroke commands</li>
</ul>

<h2><a name=xbheaders>Browsing the Image Headers</a></h2>

To view the current image header using the
<a href="#hdrpanel">image header panel</a>:

<ul>
<li>move the mouse to the Images menu button</li>
<li>select the "Display header ..." item</li>
<li>scroll the header text</li>
</ul>

To bring up the image header panel using a simple keystroke command:

<ul>
<li>move the mouse to the image display window</li>
<li>type the h keystroke command</li>
</ul>

The image header panel displays the current image name, size, pixel type,
title, creation and modification dates, and keywords.
<p>

To browse the image headers use the image header panel Next and Prev
buttons.
<p>

The image header browsing facilities can be used to check whether
critical keywords defining the gain, readout noise, exposure time, filter,
airmass, and time of the observation are present and correct in the image
headers, and whether these keywords match the expected keywords defined
by the <a href="#impars">impars</a> parameters <i>ikgain</i>,
<i>ikreadnoise</i>, <i>ikexptime</i>, <i>ikairmass</i>, <i>ikfilter</i>,
and <i>ikobstime</i>. Missing keywords will generate an error message
in the <a href="#gimstatmarker">status line</a> at the bottom of
the image display window.
<p>

<h2><a name=ximdisplay>Interacting with the Image Display</a></h2>

To view and / or modify the image display options using the
<a href="#gimenu">Images menu</a>:

<ul>
<li>move the mouse to the Images menu button</li>
<li>select the Options submenu</li>
<li>select the desired option</li>
</ul>
<p>

To pan the image:

<ul>
<li>move the mouse to the desired position</li>
<li>click once on the middle mouse button</li>
</ul>
<p>

To zoom the image display:

<ul>
<li>move the mouse to the desired position</li>
<li>click the middle mouse button twice to zoom in</li>
<li>hold down the Shift key and click the middle mouse button to zoom out</li>
<li>hold down the Control key and click the middle mouse button to unzoom</li>
</ul>
<p>

To window the image display:

<ul>
<li>hold down the 3rd mouse button and move the mouse</li>
</ul>
<p>

To use the builtin task specific <a href="#gkeycmds">keystroke commands</a>:

<ul>
<li>move the mouse to the desired position in the image display window</li>
<li>type the keystroke, e.g. i to redisplay the image</li>
</ul>

The builtin IRAF <a href="#gcurkeycmds">cursor mode keystroke commands</a>
are also supported. Users should be aware of the following:

<ul>
<li>C  print the coordinates of the cursor</li>
<li>E  expand the plot, 2 keystrokes</li> 
<li>M  pan</li>
<li>Z  zoom in</li>
<li>P  zoom out</li>
<li>R  redraw the screen</li>
<li>0  reset and redraw the screen</li>
</ul>

To redisplay the current image:

<ul>
<li>press the Images menu button</li>
<li>select the "Current image" item</li>.
</ul>

or use the i keystroke command as shown below.
<p>

To access the <a href="#gmousemenu">image display menu</a>:

<ul>
<li>move to the desired position in the image display window</li>
<li>press the left mouse button</li>
<li>select the desired menu item</li>
</ul>

<h2><a name=xedispars>Setting the Dispars Parameters</a></h2>

Occasionally neither the default image display parameters nor  the
image display windowing capabilities do a satisfactory job of displaying the
image. In this case the user must alter the default display spatial and
intensity mapping algorithms by editing the <a href="#dispars">dispars</a>
parameter set.
<p>

To edit the dispars parameters using the dispars <a href="#pedpanel">parameter
editing panel</a>:

<ul>
<li>move the mouse to the Images menu button</li>
<li>select the "Dispars pset ..." item</li>
</ul>

A panel appears which describes each dispars parameter, and lists
its current value and name. The parameter values can be edited as
follows.

<ul>
<li>move mouse to the parameter entry box</li>
<li>if box highlights</li> 
    <ul>
    <li>click left mouse button to toggle boolean parameters</li>
    <li>or press left mouse button and select menu item</li>
    </ul>
<li>if caret appears in box</li>
    <ul>
    <li>position cursor to beginning of old entry</li>
    <li>type Ctrl k to delete the existing parameter value</li>
    <li>enter the new value and hit Return</li>
    </ul>
<li>press the Apply button to enter changes</li>
<li>press the Display button to redisplay the image</li>
<li>press the Dismiss button</li>
</ul>

To edit a dispars parameter without bringing up the dispars parameter
editing panel type in the appropriate <a href="#gcoloncmds">colon command</a>
as shown below for the case of the dispars <i>ztransform</i> parameter. 

<ul>
<li>move mouse to the image display window</li>
<li>type in the command :ztransform log followed by return</li>
<li>type in the command :ztransform to check the new value</li>
<li>type the i keystroke command to redisplay the image
</ul>
<p>

<h2><a name=xhwhmpsf>Estimating the Hwhm of the Psf</a></h2>

Xguiphot users can obtain an accurate estimate of the half-width at
half-maximum of the stellar psf by fitting an elliptical Gaussian function
to one or more stellar objects.
<p>

To compute and print the model fit parameters using the
<a href="#gmousemenu">image display menu</a> and / or a
<a href="#gkeycmds">keystroke command</a>:

<ul>
<li>move the mouse to a star in the image display window</li>
<li>press the left mouse button</li>
<li>select the "Compute model fit..." item</li>
<li>repeat last 3 commands for new objects, or type x instead</li>
</ul>

The fitted x and y center, amplitude, half-width at half-max, axis ratio,
position angle, sky background, and sky sigma are printed in the
<a href="#gimstatmarker">status line</a> for each measured object.
<p>

To compute, plot and print the model fit using the
<a href="#modfitpanel">Model fitting panel</a>:

<ul>
<li>move the mouse to a star in the image display window</li>
<li>press the left mouse button</li>
<li>select the "Show model fit ..." item, or type y</li>
<li>move mouse to new object of interest</li>
<li>press the left mouse button</li>
<li>select the "Compute model fit ..." item, or type x</li>
</ul>

Note that the plot is not a radial profile plot but a major
axis plot where the intensity of each point is plotted against its
major axis.
<p>

To store the new value of the hwhm in <a href="#impars">impars</a>
parameter <i>ihwhmpsf</i> using the Model fitting panel.

<ul>
<li>move the mouse to the Model fitting panel</li>
<li>press the Activate button</li>
<li>press the Setwidth button</li>
<li>press the Refit button to check stability of fit</li>
<li>press the Deactivate command button</li>
</ul>

To check that the impars <i>ihwhmpsf</i> parameter has been correctly updated
being up the impars <a href="#pedpanel">parameter editing panel</a>
as shown below:

<ul>
<li>move the mouse to the Images menu button</li>
<li>select the "Impars pset ..." item</li>
<li>check the displayed ihwhmpsf parameter value</li>
</ul>

or use the builtin <a href="#gcoloncmds">colon commands</a> as shown below.

<ul>
<li>move the mouse to the image display window</li>
<li>type :ihwhmpsf to display the current parameter value</li>
</ul>

<h2><a name=xedimpars>Setting the Impars Parameters</a></h2>

The <a href="#impars">impars</a> parameters should normally be checked and
edited before doing any serious photometry. Although reasonable default
values have been chosen for all the impars parameters, the performance of
some of some algorithms will be improved, and future analysis simplified
if the impars parameters are set appropriately for the data.
<p>

Most users should set the impars parameters <i>ihwhmpsf</i>, <i>imindata</i>,
<i>imaxdata</i>, <i>ikreadnoise</i>, <i>ikgain</i>, and <i>ikexptime</i>
parameters to values appropriate for their entire data set. The
<i>ikairmass</i>, <i>ikfilter</i>, and <i>ikobstime</i> keywords
should be set if the user plans to do photometric calibrations of
the measurements. The remaining parameters can normally be left at
their default values.
<p>

To edit the impars parameters using the impars
<a href="#pedpanel">parameter editing panel</a>:

<ul>
<li>move the mouse to the Images menu button</li>
<li>select the "Impars pset ..." item</li>
</ul>

A parameter editing panel appears which describes each impars parameter and
lists its current value and name. The parameter values can be edited as
described below.

<ul>
<li>move mouse to the parameter entry box</li>
<li>if box highlights</li> 
    <ul>
    <li>click left mouse button to toggle boolean parameters</li>
    <li>or press left mouse button to activate menu and select item</li>
    </ul>
<li>if caret appears in box</li>
    <ul>
    <li>position cursor to beginning of existing string</li>
    <li>type Ctrl k to delete the existing parameter value</li>
    <li>enter the new value and hit Return</li>
    </ul>
<li>press the Apply button to enter the changes</li>
<li>press the Dismiss button</li>
</ul>
<p>

To edit an impars parameter without bringing up the impars parameter
editing panel, type in the appropriate <a href="#gcoloncmds">colon command</a>
as shown below for the case of the impars <i>imaxdata</i> parameter. 

<ul>
<li>move mouse to the image display window</li>
<li>type in the command :imaxdata 32000 followed by return</li>
<li>type in the command :imaxdata to check the new value</li>
</ul>
<p>

Users can check that Xguiphot is reading in correct values for the
keywords <i>ikgain</i>, <i>ikreadnoise</i>, <i>ikexptime</i>, 
<i>ikairmass</i>, <i>ikfilter</i>, and <i>ikobstime</i> from the
image header by displaying both the <a href="#hdrpanel">image header panel</a>
and the impars <a href="#pedpanel">parameter editing panel</a> as they
browse the image list. If the header keywords are read in correctly the
correct values of gain, readout noise, exposure time, airmass, filter id,
and time of observation should appear opposite the <i>igain</i>,
<i>ireadnoise</i>, <i>ietime</i>, <i>iairmass</i>, <i>ifilter</i>,
and <i>iotime</i> impars parameters in the parameter editing panel.
<p>
<hr>

<h2><a name=xobjects>Dealing with Objects Files</a></h2>

<h2><a name=xodir>Setting the Objects File Directory</a></h2>

The default Xguiphot objects file directory is the directory in which Xguiphot
is started. If the Xguiphot task parameter <i>objects</i> includes a directory
specification, e.g. "/u2/davis/may31/default then the directory specification,
e.g. "/u2/davis/may31/" becomes the default objects file directory and overrides
the <a href="#xcurdir">current directory</a>.
<p>

To display the current objects file file directory activate the
<a href="#fpanel">Files panel</a> using the <a href="#gfmenu">Files menu</a>
as shown below.

<ul>
<li>move the mouse to the Files menu button</li>
<li>select the "Files panel ..." option</li>
</ul>

The current objects file directory is displayed in the "Input Objects Files"
section of
the Files panel in the "Dir" entry box. If the Xguiphot <i>objects</i>
parameter includes a directory specification, this directory specification
is displayed in the "Objects" entry box not the "Dir" entry box.
<p>

To enter a new objects file directory using the Files panel:

<ul> 
<li>move the mouse to the "Input Objects Files" section "Dir" entry box</li>
<li>position the mouse to the beginning of the existing entry
<li>type Ctrl k to delete the existing entry </li>
<li>enter the new directory specification and press Return</li>
<li>move to the "Input Objects Files" section "Objects" entry box </li>
<li>press Return</li>
</ul>

The new objects file directory specification is prepended to the current
objects file template defined by the <i>objects</i> parameter and a new
input objects file list is generated.  The current objects file is highlighted
in the Files panel and displayed in the 
<a href="#gfmarker">Files marker</a> in the image display window.
<p>

<h2><a name=xotemplate>Setting the Objects File Template</a></h2>

The default Xguiphot objects file template is the value of the <i>objects</i>
parameter. The default value of <i>objects</i>, "default", defines
names of the form "root.obj.version", where root is the root image
name, "obj" is an extension identifying the file as an objects file, and
version is the highest version number. For more information about
object file templates see the <a href="#bobjects">Input Objects Files</a>
section.
<p>

To display the current objects file directory bring up the
<a href="#fpanel">Files panel</a> using the <a href="#gfmenu">Files menu</a>
as shown below.

<ul>
<li>move the mouse to the Files menu button</li>
<li>select the "Files panel ..." item</li>
</ul>

The current objects file directory, objects file template, and objects file
list are displayed in the "Input Objects File" section of the Files panel.
The current objects file name is highlighted in the objects file list
and matches the objects file name displayed in the
<a href="#gfmarker">Files marker</a>.
<p>

To display the current objects file template, objects file name,
and objects file sequence number without bringing up the Files panel use
the builtin <a href="#gcoloncmds">colon commands</a> as shown below.

<ul>
<li>move the mouse to the image display window</li>
<li>type :objects to display the current objects file template
<li>type :olname to display the current objects file name</li>
<li>type :olnumber to display the current objects file number</li>
</ul>
<p>

To enter a new objects file template using the Files panel:

<ul>
<li>bring up the files panel as shown above</li>
<li>move to the "Input Objects Files" section "Objects" entry box</li>
<li>position mouse to beginning of existing entry</li>
<li>type Ctrl k to delete the existing entry </li>
<li>enter the new objects file template and hit Return</li>
</ul>

A new input objects file list is generated and a new current input objects
file is selected.
<p>

To define a new objects file template and load a new objects file
list without bringing up the files panel use the builtin
<a href="#gcoloncmds">colon commands</a> as shown below.

<ul>
<li>move the mouse to the image display window</li>
<li>type :objects [newtemplate] to load a new objects file template</li>
</ul>


<h2><a name=xboflist>Browsing the Objects File List</a></h2>

To browse the current objects file list in any order using the
<a href="#fpanel">Files panel</a>:

<ul>
<li>move the mouse to the Files menu button</li>
<li>select the "Files panel ..." option</li>
<li>use the "Input Objects Files" scrollbar to view the objects file list</li>
</ul>

The current objects file in the objects file list is highlighted and
displayed in the <a href="#gfmarker">Files marker</a>.
<p>

To select a new current objects file using the Files panel:
<ul>
<li>position to the desired objects file name in the objects file list</li>
<li>click the left mouse button</li>
</ul>
<p>

The same operation can be performed using
the builtin <a href="#gcoloncmds">colon commands</a> as shown below:

<ul>
<li>move the mouse to the image display window</li>
<li>type :olname [newobjectsfile] to select a new objects file</li>
</ul>
<p>

To move backwards and forwards sequentially in the objects file list without
bringing up the Files panel:

<ul>
<li>move the mouse to the Files menu button</li>
<li>select the "Next objects file" or "Previous objects file" items
</ul>

or use <a href="#gkeycmds">keystroke commands</a> as shown below.

<ul>
<li>move the mouse to the image display window</li>
<li>type the ] or [ keystroke commands</li>
</ul>
<p>
<hr>

<h2><a name=xolists>Dealing with Objects Lists</a></h2>

Xguiphot supports facilities for creating, viewing, editing, and saving
objects lists. Objects lists are  maintained by Xguiphot as internal
data  structures and should not be confused with object files on disk.
The latter are described in the <a href="#bobjects">Input Objects Files</a>
and the <a href="#aoformats">Object File Formats</a> sections of this document.
<p>

<h2><a name=xrfmklist>Creating Object Lists from Object Files</a></h2>

If the objects file specified by the Xguiphot <i>objects</i> parameter exists 
and the current objects list is undefined, then Xguiphot will automatically
create the objects list when a command requiring it is issued.
<p>

To create an objects list from the current objects file using the
<a href="#glmenu">List menu</a>:

<ul>
<li>move the mouse to the Lists menu button</li>
<li>select the "Current file" item</li>
<li>next select the "Mark list" item</li>
</ul>

A message will appear in the <a href="#gimstatmarker">status line</a>
stating how many objects were read from the file and marked on the
image display.
<p>

To perform the same functions using the <a href="#lpanel">List panel</a>:

<ul>
<li>move the mouse to the Lists menu button</li>
<li>select the "List panel ..." item</li>
<li>move to the Create New List section of the List panel</li>
<li>press the Reread button to make sure the list is current</li>
<li>move to the View and Edit section of the List panel</li>
<li>press the Show button to mark the object list on the image display</li>
</ul>
<p>

To perform the same functions using the builtin <a href="#gkeycmds">cursor
keystroke commands</a>:

<ul>
<li>move the mouse to the image display window</li>
<li>type r to read the current objects file into an object list</li>
<li>type m to mark the object list on the image display</li>
</ul>
<p>

<h2><a name=xamklist>Creating Object Lists Automatically</a></h2>

Object lists can be created automatically from the image using
Xguiphot's builtin object detection algorithm. The current algorithm is
optimized for detecting stellar objects. Before running the detection algorithm
users should set the <a href="#impars">impars parameters</a> <i>ihwhmpsf</i>
to a value appropriate  for the current image as described in the section
<a href="#xhwhmpsf">Setting the Hwhm of the Psf</a>. Image data outside
the bad limits defined by the impars <i>imindata</i> and <i>imaxdata</i>
parameters will be ignored by the detection algorithms, although
objects with enough remaining good data inside the region of interest
will still be detected. 
<p>

To create an object list for an image using the
<a href="#glmenu">List menu</a>:

<ul>
<li>move the mouse to the Lists menu button</li>
<li>select the "Find list" item</li>
<li>next select the "Mark list" item</li>
</ul>

A message will appear in the <a href="#gimstatmarker">status line </a>
stating how many objects were found and marked on the image display.
<p>

To perform the same functions using the <a href="#lpanel">List panel</a>:

<ul>
<li>move the mouse to the Lists menu button</li>
<li>select the "List panel ..." item</li>
<li>move to the Create New List section of the List panel</li>
<li>press the Find button to create the list</li>
</ul>

Note that the detected objects have been assigned an INDEF geometry
even though a rough estimate for the axis ratio and the position angle has
been computed. This means that Xguiphot will use the values of the
<a href="#photpars">photpars</a> and <a href="#skypars">skypars</a> parameters
to assign a geometry to each object.
<p>

To perform the same functions using the builtin <a href="#gkeycmds">cursor
keystroke commands</a>:

<ul>
<li>move the mouse to the image display window</li>
<li>type @ to create the objects list</li>
</ul>
<p>

<h2><a name=xedfindpars>Setting the Findpars Parameters</a></h2>

The <a href="#findpars">findpars</a> parameters control the action of
the automatic detection algorithm. Although reasonable default
values have been chosen for most of the findpars parameters, most
users will need to adjust the <i>fthreshold</i> parameter to a value
suitable for their scientific goals. The default value of 320 counts
was chosen to be 1% of the typical maximum good value of 16 bit
signed integer data ~32000 counts. The remaining parameters have been
set to select for stellar objects. Users should also be aware that
image data outside the good data range defined by the
<a href="#impars">impars</a> parameters <i>imindata</i> and <i>imaxdata</i>
will be ignored by the detection algorithm even if it falls with the
region defined by the findpars <i>fradius</i>
parameter. If insufficient good data remains the object will be eliminated
from the list.
<p>

To edit the findpars parameters using the findpars
<a href="#pedpanel">parameter editing panel</a>:

<ul>
<li>move the mouse to the Lists menu button</li>
<li>select the "Findpars pset ..." item</li>
</ul>

A parameter editing panel appears which describes each findpars parameter,
and lists its current value and name. To edit the parameter values:

<ul>
<li>move mouse to the parameter entry box</li>
<li>if box highlights</li> 
    <ul>
    <li>click left mouse button to toggle boolean parameters</li>
    <li>or press left mouse button to activate menu and select item</li>
    </ul>
<li>if caret appears in box</li>
    <ul>
    <li>move cursor to beginning of existing entry</li>
    <li>type Ctrl k to delete the existing parameter value</li>
    <li>enter the new value and hit Return</li>
    </ul>
<li>press the Apply button to enter changes</li>
<li>press the Dismiss button</li>
</ul>
<p>

To edit a findpars parameter without bringing up the findpars parameter
editing panel type in the appropriate <a href="#gcoloncmds">colon command</a>
as shown below for the case of the findpars <i>fthreshold</i> parameter. 

<ul>
<li>move mouse to the image display window</li>
<li>type in :fthreshold 32.0 followed by return</li>
<li>type in :fthreshold to check the new value</li>
</ul>
<p>

<h2><a name=xdgmklist>Creating Object Lists with the Image Cursor</a></h2>

Object lists can also be created graphically using the image display
and the image cursor. Users are prompted for the object record type, the
object position and geometry, and the sky position and geometry.
<p>

The four supported object record types  are listed below.
The most common record types  are object and object plus annular sky.
<dl>
<dt><b>Object only (key = o)</b>
<dd>The user is prompted for the object aperture position and geometry only. The
sky position and geometry default to the choices defined in the
<a href="#skypars">skypars</a> parameter set.
<dt><b>Sky only (key = s)</b>
<dd>The user is prompted for the sky aperture position and geometry only. The
object position and geometry default to the choices defined in the
<a href="#photpars">photpars</a> parameter set.
<dt><b>Object Plus Annular Sky (key = a)</b>
<dd>The user is prompted for the position and geometry of the object
aperture and the geometry of the sky aperture to be centered
on the object aperture.
<dt><b>Object Plus Offset Sky (key = b)</b>
<dd>The user is prompted for the position and geometry of the object
aperture and the position and geometry of the sky aperture which is
offset from the object aperture.
</dl>
<p>

Six object and sky geometries are supported.
<dl>
<dt><b>point (key = .)</b>
<dd>Only the aperture position is defined.
<dt><b>circle (key = c)</b>
<dd>The object or sky aperture is a circle.
<dt><b>ellipse (key = e)</b>
<dd>The object or sky aperture is an ellipse.
<dt><b>rectangle (key = r)</b>
<dd>The object or sky aperture is a rectangle.
<dt><b>polygon (key = p)</b>
<dd>The object or sky aperture is a polygon.
<dt><b>again (key = a)</b>
<dd>The object or sky aperture is set to last defined object or sky aperture.
</dl>
<p>

Xguiphot prompts for different quantities for the different geometries,
i.e. radii only for circles, semi-major and minor axes and position angle
for ellipses, etc.
<p>

The following example shows how to create a simple object list consisting
of a set of identical circular object and circular annular sky region records.

<ul>
<li>move mouse to the Lists menu button</li>
<li>select "Draw list ..." item</li>
<li>move to image display window and type a at "Object type" prompt</li>
<li>move to star and type c  at "Add object" prompt</li>
<li>move to desired radius and type c at "Mark radius of circle" prompt </li>
<li>type c to select a circular sky annulus at the "Add sky" prompt</li>
<li>move to inner sky radius and type c at "Mark inner radius of circle" prompt</li>
<li>move to outer sky radius and type c at "Mark outer radius of circle" prompt</li>
<li>move to next star and type a at "Add object" prompt to repeat the object apertures</li>
<li>type a at "Add sky" prompt to repeat the sky aperture</li>
<li>repeat last two instructions for every star to be added to the list</li>
<li>type q to quit the "Draw list ..." menu item</li>
</ul>

The following example shows how to draw an elliptical aperture on the
image display.

<ul>
<li>move mouse to the  Lists menu button</li>
<li>select "Draw list ..." item</li>
<li>move mouse to image display window and type o at "Add object" prompt</li>
<li>move to object and type e  at "Add object" prompt</li>
<li>move to desired semi-major axis and type e at "Mark semi-major axis of ellipse" prompt </li>
<li>move to desired semi-minor axis and type e at "Mark semi-minor axis of
ellipse" prompt </li>
<li>type q to quit the "Draw list ..." menu item</li>
</ul>
<p>

Note that in both cases the "Draw list ..." menu item can be replaced
with the keystroke commands z followed by a.


<h2><a name=xdmmklist>Creating Object Lists with Markers</a></h2>

Object lists can be created interactively using the
<a href="#gphotmarker">photometry marker</a>
and the <a href="#gmousemenu">main mouse menu</a> as
outlined below.
<p>

<ul>
<li>move the mouse to the Lists menu button</li>
<li>next select the "List panel ..." item</li>
<li>press the Init button to delete any existing list</li>
<li>move mouse to the image display window</li>
<li>press the left mouse button</li>
<li>select the "Show phot marker" item</li>
<li>adjust the shape, position, size, and orientation of the marker</li>
<li>move the mouse inside the object part of the marker</li>
<li>press the right mouse button</li>
<li>select the "Save to objects list" item</li>
<li>release the right mouse button</li>
</ul>

The photometry marker materializes at the position the main mouse
menu is activated. Its default object and sky region geometries
are defined in the <a href="#photpars">photpars</a> and
<a href="#skypars">skypars</a> parameter sets. Users can alter the geometry,
position, shape, and orientation of the photometry markers using
the mouse as described in the <a href="#gphotmarker">The Photometry
Region Marker</a> section.
<p>
<h2><a name=xviewlist>Viewing the Object List</a></h2>

The objects list can be viewed either by marking the objects on the
image display or by scrolling the object list .
<p>
To view the objects list using the <a href="#lpanel">List panel</a>:

<ul>
<li>move mouse to the Lists menu button</li>
<li>select "List panel ..." item</li>
<li>move to the View and Edit section of the List panel</li>
<li>press the Show button to mark the list on the image display</li>
<li>use the Scrollbars to page the object list</li>
</ul>

The format of
the object list can be can be found the <a href="#aoformats">Objects File
Format</a> section of the appendices.
Note that in order to save space object and sky region polygon
vertices are not displayed in the objects list.
<p>

To overlay the object list on the image display using the
<a href="#glmenu">List menu</a>:

<ul>
<li>move the mouse to the Lists menu button</li>
<li>next select the "Mark list" item</li>
</ul>
<p>

To perform the same operation with the builtin <a href="#gkeycmds">
keystroke</a> commands:

<ul>
<li>move the mouse to the image display window</li>
<li>type the m key</li>
</ul>
<p>


<h2><a name=xedomarkpars>Setting the Omarkpars Parameters</a></h2>

The <a href="#omarkpars">omarkpars</a> parameters control the action of
object list marking routines. By default the object list object centers
are marked with a green plus and the object list sky centers, if different,
are marked with a blue plus. For large object lists the defaults will
result in a relatively uncluttered graphics overlay, although in some especially
crowded cases users may wish to decrease the value of the <i>osizemark</i>
parameter or change the <i>ocharmark</i> parameter to "point". For
smaller object lists containing large extended objects
users may wish to set the <i>ocharmark</i> parameter to "shape" in order
to draw the outlines of the object and sky apertures on the image display.
Users should also be aware of the <i>otolerance</i> parameter which is used
by the position matching code to select objects for analysis from the object
list.
<p>

To edit the omarkpars parameters using the omarkpars
<a href="#pedpanel">parameter editing panel</a>:

<ul>
<li>move the mouse to the Lists menu button</li>
<li>select the "Omarkpars pset ..." item</li>
</ul>

A parameter editing panel appears describing each omarkpars parameter, and
listing its current value and name. To edit the omarkpars parameters: 

<ul>
<li>move mouse to the parameter entry box</li>
<li>if box highlights</li> 
    <ul>
    <li>click left mouse button to toggle boolean parameters</li>
    <li>press left mouse button to activate menu and select item</li>
    </ul>
<li>if caret appears in box</li>
    <ul>
    <li>move cursor to beginning of existing entry</li>
    <li>type Ctrl k to delete the existing entry </li>
    <li>enter the new value and hit Return</li>
    </ul>
<li>press the Apply button to enter the changes</li>
<li>press the Dismiss button</li>
</ul>
<p>

To edit an omarkpars parameters without bringing up the omarkpars parameter
editing panel type in the appropriate <a href="#gcoloncmds">colon command</a>,
as shown below for the case of the omarkpars <i>otolerance</i> and
<i>ocharmark</i> parameters. 

<ul>
<li>move mouse to the image display window</li>
<li>type in the command :otolerance 8.0 followed by return</li>
<li>type in the command :otolerance to check the new value</li>
<li>type in the command :ocharmark shape followed by return</li>
<li>type in the command :ocharmark to check the new value</li>
</ul>
<p>

<h2><a name=xbolist>Browsing the Objects List</a></h2>

The object list can be browsed sequentially using the <a href="#lpanel">List
panel</a> and the <a href="#gobjmarker">object list marker</a> as shown below
<p>

<ul>
<li>move mouse to Edit menu button</li>
<li>select the "List panel ..." item</li>
<li>move to "View and Edit List" section of the List panel</li>
<li>press the Rewind button to rewind object list</li>
<li>press the Show Marker button to activate the object list marker</li>
<li>repeatedly press the Next button to select the next object</li>
<li>press the Dismiss Marker button to activate the object list marker</li>
</ul>

As each new object is selected the object marker is moved and the object
is highlighted in the object list in the List panel.
<p>

The same function can be performed using the <a href="#gemenu">Edit menu</a>
as shown below.

<ul>
<li>move mouse to Edit menu button</li>
<li>select the "Show object marker" item</li>
<li>select the "Rewind list" item</li>
<li>repeatedly select the "Next object" item</li>
</ul>

Typing the ^ and f <a href="#gkeycmds">keystroke commands</a> in the
image display window can also be used to rewind and step forward
sequentially through the image list.
<p>

If the <a href="#gobjmarker">object list marker</a> is active, users
can also select the "Next object" item from the object list marker
menu by pressing
the right mouse button inside the object list marker, or by typing
the f keystroke command inside the object list marker.

To browse the object list randomly or locate a specific object in the
object list on the image display using the List panel:

<ul>
<li>press the Show Marker button to activate the object list marker</li>
<li>move to object of interest in the object list</li>
<li>press the left mouse button to select an object</li>
<li>press the Dismiss marker button</li>
</ul>

The selected object in the object list will highlight and the object marker
will display the object and sky aperture in the image display window. If
the object or sky aperture geometries are undefined in the object list, then
the values in the <a href="#photpars">photpars</a> and <a href="#skypars">
skypars</a> parameter sets are used.
<p>

To browse the object list randomly or to locate a specific object in the
object list using the image display and <a href="#gmousemenu">image
display menu</a>:

<ul>
<li>move mouse to the image display window</li>
<li>move to object of interest</li>
<li>press the left mouse button</li>
<li>select the "Find nearest in list" item</li>
<li>examine the status line and List panel</li>
</ul>

If the status line states that the object was not found this might mean
that it is truly not in the object list or that the mouse was positioned
too far away from the object. Try repositioning the cursor. The 
matching tolerance is controlled by the <a href="#omarkpars">omarkpars</a>
parameter <i>otolerance</i>.
<p>

<h2><a name=xdulist>Deleting and Undeleting Objects from the Objects List</a></h2>

To delete or undelete and object from the object list using the
<a href="#lpanel">List panel</a>. 

<ul>
<li>move mouse to Edit menu button</li>
<li>Select the "List panel ..." item</li>
<li>move to "View and Edit List" section of the list panel</li>
<li>press the Show marker button to active the object list marker </li>
<li>move to object to be deleted in object list</li>
<li>press left mouse button</li>
<li>press the Delete or Undelete button</li>
<li>press the Dismiss marker button to active the object list marker </li>
</ul>

When an object has been successfully deleted its sequence number in the
object list will be replaced by the letters DEL and it will be marked
with a cross on the image display. When an object as been successfully
undeleted its sequence number will be restored and the cross marking
its position erased.
<p>

To perform the same functions using the image cursor and
<a href="#gmousemenu">image display menu</a>.

<ul>
<li>move to the star to be deleted/undeleted in the image display</li>
<li>press the left mouse button</li>
<li>select the "Delete/Undelete nearest ..." item</li>
</ul>

The d and u
<a href="#gkeycmds">keystroke commands</a> typed directly in the image
display window can also be used to delete / undelete objects.
<p>

If the <a href="#gobjmarker">object list marker</a> is active then the
current object can be deleted or undeleted by pressing the right mouse
button inside the object marker and selecting the "Delete current object" or
"Undelete current object" items, or by typing the d and u keys
inside the object marker.
<p>


<h2><a name=xaddlist>Adding Objects to the Objects List</a></h2>

To add objects to an existing list using the <a href="#lpanel">List panel</a>:

<ul>
<li>move mouse to Edit menu button</li>
<li>select the "List panel ..." item</li>
<li>move to "View and Edit List" section of the list panel</li>
<li>press the Draw button and move mouse to image display window</li>
<li>follow instructions at the prompt</li>
</ul>

The drawing instructions are described in the <a href="#xdgmklist">Creating
Object Lists with the Image Cursor</a> section.
The same functions can be performed without being up the List panel by
selecting the "Add object(s) ..." item from the
<a href="#gemenu">Edit menu</a>, or by typing the
a <a href="#gkeycmds">keystroke command</a> in the image display window. 
<p>

The object and sky position and geometries can also be added to the objects
list by typing them into "Enter object geometry" entry box and hitting
the Enter button. The required object formats are described in the
<a href="#aoformats">Objects File
Format</a> section of the appendices. For small numbers of objects
the model fitting code described
in the <a href="#xhwhmpsf">Estimating the Hwhm of the Psf</a> section can
be used to determine good values for the x and y coordinates, axis ratios,
and position angles.
<p>

The <a href="#gphotmarker">photometry marker</a> can also be used
to add objects to an existing list as described in the
<a href="#xdmmklist">Creating Object Lists with Markers</a> section.


<h2><a name=xsavelist>Saving the Objects List</a></h2>

To save the current object list to a file using the <a href="#lpanel">List
panel</a>.

<ul>
<li>move mouse to Lists menu button</li>
<li>select the "List panel ..." item</li>
<li>move to the Save list section of the List panel</li>
<li>press the Save button</li>
</ul>

A message listing the output file name and number of objects written
will appear in the image display window status line.
<p>

To save the objects list to a file using the builtin
<a href="#gcoloncmds">colon commands</a>:

<ul>
<li>move the mouse to the image display window</li>
<li>type :osave default</li>
</ul>
<p>
<hr>

<h2><a name=xresults>Dealing with Results Files</a></h2>

<h2><a name=xrdir>Setting the Results File Directory</a></h2>

The default Xguiphot results file directory is the directory in which Xguiphot
is started. If the Xguiphot task parameter <i>results</i> includes a directory
specification, e.g. "/u2/davis/may31/default then the directory specification,
e.g. "/u2/davis/may31/" becomes the default results file directory overiding
<a href="#xcurdir">the current directory</a>.
<p>

To display the current results file directory bring up the
<a href="#fpanel">Files panel</a> using the <a href="#gfmenu">Files menu</a>
as shown below.

<ul>
<li>move the mouse to the Files menu button</li>
<li>select the "Files panel ..." option</li>
</ul>

The current results file directory is displayed in the "Output Results Files"
section of the Files panel in the "Dir" entry box. If the Xguiphot
<i>results</i> parameter includes a directory specification, this directory
specification is displayed in the "Results" entry box not the "Dir" entry
box.
<p>

To enter a new results file directory using the Files panel:

<ul> 
<li>move the mouse to the "Output Results Files" section "Dir" entry box</li>
<li>position the cursor to the beginning of the existing entry</li>
<li>type Ctrl k to delete the existing entry</li>
<li>enter the new directory specification and press Return</li>
<li>move the "Output Results Files" section "Results" entry box</li>
<li>press Return</li>
</ul>

The new results file directory specification is prepended to the 
results file template specified by the <i>results </i> parameter, and the
new results file is displayed beneath the results entry box.
<p>

<h2><a name=xrtemplate>Setting the Results File Template</a></h2>

The Xguiphot results file template is the value of the <i>results</i>
parameter. The default value of <i>results </i> is "default". It defines
a name of the form "root.mag.version", where root is the root image
name, "mag" is the extension, and
version is the next available version number. For more information about
results file templates see the <a href="#bresults">Output Results Files</a>
section.
<p>

To display the current results file template using the
<a href="#fpanel">Files panel</a> and <a href="#gfmenu">files menu</a>;

<ul>
<li>move the mouse to the Files menu button</li>
<li>select the "Files panel ..." option</li>
</ul>

The current results file directory, results file template, and results file
are displayed in the "Output Results File" section of the Files panel.
The current results file name should match the results file name displayed
in the <a href="#gfmarker">Files marker</a> in the image display window.
<p>

To display the current results file template, results file name,
and results file sequence number using the
the builtin <a href="#gcoloncmds">colon commands</a>:

<ul>
<li>move the mouse to the image display window</li>
<li>type :results to display the current results file template</li>
<li>type :rlname to display the current results file name</li>
<li>type :rlnumber to display the current results file number</li>
</ul>
<p>

To enter a new results file template using the Files panel:

<ul>
<li>move to the "Output Results File" section "Results" entry box</li>
<li>move cursor to beginning of existing entry</li>
<li>type Ctrl k to delete the existing entry</li>
<li>enter the new results file template and hit Return</li>
</ul>
<p>

To define a new results file template using the builtin
<a href="#gcoloncmds">colon commands</a>: 

<ul>
<li>move the mouse to the image display window</li>
<li>type :results [newtemplate] to load a new results file template</li>
</ul>
<p>

<h2><a name=xlogresults>Logging the Results</a></h2>

Results logging is disabled by default. The user
must set the <i>logresults</i> parameter to "yes" to enable it.
This allows the user time set the parameters and make a few experimental
measurements before beginning serious work.
<p>

Users can check or change the results file logging status using
the <a href="#gfmenu">Files menu<a>, the <a href="#fpanel">Files panel</a>,
the <a href="#gfmarker">Files marker and Files marker menu</a>, the "Logresults"
command buttons in the <a href="#lpanel">List panel</a>,
the <a href="#ptpanel">Photometry table panel</a>,
the <a href="#pgpanel">Photometry plots panel</a>, or by typing
the ":logresults"
<a href="#gcoloncmds">colon command</a> in the image display window.
<p>

For example to enable / disable results file logging:

<ul>
<li>move mouse to the Files menu</li>
<li>select the Disable / Enable logging item</li>
</ul>
<p>

or

<ul>
<li>move mouse to the image display window</li>
<li>type :logresults to check status</li>
<li>type :logresults yes or :logresults no to set status</li>
</ul>
<p>
<hr>


<h2><a name=xphot>Doing Photometry</a></h2>

This section describes how to use Xguiphot set the centering, sky fitting, and
photometry algorithm parameters, and use it to make photometric measurements. 
<p>

<h2><a name=xxedimpars>Setting the Impars Parameters</a></h2>

The behavior of the centering, sky fitting, and photometry algorithms
depend on parameters in the impars parameter set. Users should review
the section <a href="#xedimpars">Setting the Impars Parameters</a> and
before proceeding.
<p>

<h2><a name=xedcenpars>Setting the Cenpars Parameters</a></h2>

The <a href="#cenpars">cenpars</a> parameters should be reviewed
before beginning serious photometric work. Although reasonable default
values have been chosen for all the cenpars parameters, the performance of
some of some algorithms may be improved if parameter settings are optimized 
for the data.
<p>

Users should review the recentering algorithm parameter <i>calgorithm</i>
The most useful options are "none" which disables recentering, and
and the default value "centroid1d".
<p>

Users check the values of <i>cradius</i> and set it to a reasonable value,
usually something like 2-3 times the hwhm of the psf, but never less than
2.5 pixels.
<p>

By default center marking is disabled (<i>ctrmark</i> is "no"), while
object and sky marking is enabled. In crowded regions
users may wish to turn on center marking, and disable object and
sky aperture marking, in order to avoid drawing a lot of confusing
graphics on the image display.
<p>

To edit the cenpars parameters using the cenpars
<a href="#pedpanel">parameter editing panel</a> as follows:

<ul>
<li>move the mouse to the Phot menu button</li>
<li>select the "Cenpars pset ..." item</li>
</ul>

A parameter editing panel appears describing each cenpars parameter,
and listing its current value and name. The parameter values can be
edited as shown below.

<ul>
<li>move mouse to the parameter entry box</li>
<li>if box highlights</li> 
    <ul>
    <li>click left mouse button to toggle boolean parameters</li>
    <li>or press left mouse button to activate menu and select item</li>
    </ul>
<li>if caret appears in box</li>
    <ul>
    <li>move cursor to beginning of existing entry</li>
    <li>type Ctrl k to delete the existing entry</li>
    <li>enter the new value and hit Return</li>
    </ul>
<li>press the Apply button to enter the changes</li>
<li>press the Dismiss button</li>
</ul>
<p>

To edit a cenpars parameter by typing in the appropriate
<a href="#gcoloncmds">colon command</a> follow the example 
shown below for the <i>cradius</i> and <i>ctrmark</i> parameters. 

<ul>
<li>move mouse to the image display window</li>
<li>type in :cradius 3.5 followed by return</li>
<li>type in :cradius to check the new value</li>
<li>type in :ctrmark yes followed by return</li>
<li>type in :ctrmark to check the new value</li>
</ul>
<p>

<h2><a name=xedskypars>Editing the Skypars Parameters</a></h2>

The <a href="#skypars">skypars</a> parameters should be reviewed
before doing any serious photometric work. Although reasonable default
values have been chosen for all the skypars parameters, the performance of
some of some algorithms will be improved, if the parameters are
optimized for the data.
<p>

Users should check and set the sky geometry parameters <i>smode</i>,
<i>sgeometry</i>, <i>srannulus</i>, <i>swannulus</i>, <i>saxratio</i>,
and <i>sposangle</i>. For bright stellar objects mode is usually "concentric",
srannulus is usually ~10 * hwhm of the psf and swannulus is 5-10 pixels.
<p>

Users should check the sky fitting algorithm parameter
<i>salgorithm</i>. The most useful options are usually "constant",
"mean", "median", "mode32", and "hcentroid". The remaining algorithm
parameters should normally be left at their default values.
<p>

By default sky aperture marking is enabled (<i>skymark</i> is "yes"),
and the default sky aperture marking color is different from the photometry
aperture marking color. Users should normally leave sky marking enabled
if they are measuring objects interactively, and disable it if they are
measuring large numbers of objects automatically.
<p>

To edit the skypars parameters using the skypars
<a href="#pedpanel">parameter editing panel</a>:

<ul>
<li>move the mouse to the Phot menu button</li>
<li>select the "Skypars pset ..." item</li>
</ul>

A parameter editing panel appears which lists each skypars parameter,
its current value, and its name. To edit the parameter values:

<ul>
<li>move mouse to the parameter entry box</li>
<li>if box highlights</li> 
    <ul>
    <li>click left mouse button to toggle boolean parameters</li>
    <li>or press left mouse button to activate menu and select item</li>
    </ul>
<li>if caret appears in box</li>
    <ul>
    <li>move cursor to beginning of existing entry</li>
    <li>type Ctrl k to delete the existing entry</li>
    <li>enter the new value and hit Return</li>
    </ul>
<li>press the Apply button to enter the changes</li>
<li>press the Dismiss button</li>
</ul>
<p>

To edit a skypars parameter by typing in the appropriate
<a href="#gcoloncmds">colon command</a> follow the example shown below
for the <i>srannulus</i>, <i>swannulus</i> and <i>skymark</i> parameters. 

<ul>
<li>move mouse to the image display window</li>
<li>type in :srannulus 15.0 followed by return</li>
<li>type in :srannulus to check the new value</li>
<li>type in :swannulus 5.0 followed by return</li>
<li>type in :swannulus to check the new value</li>
<li>type in :skymark yes followed by return</li>
<li>type in :skymark to check the new value</li>
</ul>
<p>


<h2><a name=xedphotpars>Editing the Photpars Parameters</a></h2>

The <a href="#photpars">photpars</a> parameters should be reviewed
before doing serious photometric work. Although reasonable default
values have been chosen for all the photpars parameters, the performance of
some of some algorithms will be improved if the photpars parameters are
optimal for the data.
<p>

Users should check and set the object geometry parameters
<i>pgeometry</i>, <i>papertures</i>, <i>paxratio</i>,
and <i>pposangle</i>. Multiple apertures lists or ranges may be specified as
follows, i.e. <i>papertures</i> = "3,5,7,10,15" or "1:15:1.0" 
<p>

Users may also wish to change the default value of the magnitude zero
point <i>pzmag</i>. The most useful choices are 0.0 and 25. The former
value provides a direct conversion to flux, and the latter
value agrees with the task defaults in the digiphot package and the imexamine
task (except for the effects of exposure time normalization).
<p>

By default photometry aperture marking enabled (<i>photmark</i>
is "yes"), and the default photometry aperture marking color is different
from the sky aperture marking color. Users should leave photometry aperture
marking enabled if they are measuring objects interactively, and disable it if
they are measuring a large number of objects automatically.
<p>

To edit the photpars parameters using the photpars
<a href="#pedpanel">parameter editing panel</a>:

<ul>
<li>move the mouse to the Phot menu button</li>
<li>select the "Photpars pset ..." item</li>
</ul>

A parameter editing panel describing each photpars parameter, and listing
its current value and name. To edit the parameter values:

<ul>
<li>move mouse to the parameter entry box</li>
<li>if box highlights</li> 
    <ul>
    <li>click left mouse button to toggle boolean parameters</li>
    <li>or press left mouse button to activate menu and select item</li>
    </ul>
<li>if caret appears in box</li>
    <ul>
    <li>move cursor to beginning of the existing entry</li>
    <li>type Ctrl k to delete the existing entry</li>
    <li>enter the new value and hit Return</li>
    </ul>
<li>press the Apply button to enter the changes</li>
<li>press the Dismiss button</li>
</ul>
<p>

To edit a photpars parameter by typing in the appropriate 
<a href="#gcoloncmds">colon command</a>
as shown below for the case of the photpars <i>papertures</i>,
and <i>photmark</i> parameters: 

<ul>
<li>move mouse to the image display window</li>
<li>type in :papertures 1:10:1 followed by return</li>
<li>type in :papertures to check the new value</li>
<li>type in :photmark yes followed by return</li>
<li>type in :photmark to check the new value</li>
</ul>
<p>

<h2><a name=xcmeasure>Measuring Objects with the Image Cursor</a></h2>

The simplest way to measure an objects interactively is to use the
image display and image cursor and the default object and
sky geometries defined in the <a href="#photpars">photpars</a> and
<a href="#skypars">skypars</a> parameter sets.
<p>

To measure an object using the <a href="#gmousemenu">image display menu</a>:

<ul>
<li>move the mouse to an object in the image display window</li>
<li>press down the left mouse button</li>
<li>select the "Point and measure item</li>
<li>release the left mouse button</li>
</ul>

or alternatively

<ul>
<li>move the mouse to an object in the image display window</li>
<li>press the Spacebar key</li>
</ul>
<p>

By default the object and sky apertures are marked on the image
display in different colors, and quick-look results are printed
in the <a href="#gimstatmarker">status line</a> in the following format.

<ul>
<li>fitted x center in pixels</li>
<li>fitted y center in pixels</li>
<li>fitted sky value in counts</li>
<li>fitted sky sigma in counts</li>
<li>moments analysis hwhm through largest aperture in iscale units</li>
<li>moments analysis axis ratio through largest aperture</li>
<li>moments analysis position angle through largest aperture in degrees</li>
<li>object flux through largest aperture in counts</li>
<li>magnitude through largest aperture</li>
<li>magnitude error through largest aperture</li>
<li>error code through largest aperture, 0 means no error</li>
</ul>

If the sky fitting mode parameter <i>smode</i> is "offset" instead
of the default "concentric", the user must make two "Point and measure"
menu selections, or type Spacebar twice, once at the position of the
object and once at the position of the sky, and the message Again:
will appear on the terminal between the two measurements.
<p>

If either the photometry or sky aperture geometry parameters,
<i>pgeometry</i> or <i>sgeometry</i> are "polygon" the user
must define the polygonal apertures interactively before doing photometry.
This is done by using either the "Mark polygons ..." item in the
<a href="#gpmenu">Phot menu</a> or the v <a href="#gkeycmds">keystroke
command</a> in the image display window. In either case
the user must mark the vertices of the desired polygon by moving to
each vertex in order and typing v to mark the vertex, followed by 
the q keystroke to quit the polygon marking menu. Xguiphot
will automatically close the polygon. The user can redefine the
polygon at any time. Xguiphot  will
use the stored aperture only when the <i>pgeometry</i> parameter is set to
"polygon". If the value of the <i>smode</i> parameter
is "concentric" and the sky geometry is "polygon", then Xguiphot will
construct an annular polygonal sky region using the object polygon and
the values of the <i>srannulus</i> and
<i>swannulus</i> parameters to define a polygonal sky annulus. If
the sky fitting mode is "offset" then the
user is prompted for and must draw a separate sky polygon, which will
be annular or filled depending on the value of <i>swannulus</i>.

<h2><a name=xpmmeasure>Measuring Objects Through the Photometry Marker</a></h2>

Measuring objects through the photometry marker is similar to measuring them
with the image cursor, except that the marker provides the ability to 
alter the object and sky geometries before making measurements,
and without editing the <a href="#skypars">skypars</a> and
<a href="#photpars">photpars</a> parameter sets. 
The photometry marker is fully described in the
<a href="#gphotmarker"> The Photometry Region Marker</a> section. This
section outlines how it can be used to make simple photometry measurements.
<p>

To measure an object using the default photometry marker and mouse:

<ul>
<li>move to an object in the image display window</li>
<li>press down the left mouse button</li>
<li>select the "Show phot marker" item</li>
<li>move the mouse into the object part of the photometry marker</li>
<li>press down the right mouse button</li>
<li>select the "Measure" item</li>
</ul>

The measured object will be marked on the display, although
the measurement aperture may be shifted from the photometry marker aperture
due to the effects of centering was enabled.
<p>

Users should be aware that measuring an object through the default photometry
marker is not quite that same as point at it with the mouse and typing
Spacebar, because in the former case the measurement geometry is read from
the marker itself, and in the latter case it is read from the photpars
and skypars parameter sets. Due to the finite precision of the image
display window these two geometries will not exactly equal.
<p>

To redefine the measurement apertures interactively and do the measurement
through the photometry marker in "concentric" sky mode:

<ul>
<li>move the mouse to an object in the image display window</li>
<li>press the left mouse button</li>
<li>select the "Show phot marker" item</li>
<li>move, resize, and rotate the object part of the marker</li>
<li>resize and rotate the inner sky part of the marker</li>
<li>resize the outer part of the sky marker</li>
<li>move the mouse into the object part of the marker</li>
<li>press the right mouse button</li>
<li>select the "Measure" item</li>
</ul>

To redefine the measurement apertures interactively
and do the measurement using the photometry marker in "offset" sky mode:

<ul>
<li>move the mouse to an object in the image display window</li>
<li>press the left mouse button</li>
<li>select the "Show phot marker" item</li>
<li>move the mouse to the sky region</li>
<li>press the left mouse button</li>
<li>select the "Offset sky marker" item</li>
<li>move, resize, and rotate the object part of the marker</li>
<li>move, resize, and rotate the inner part of the sky marker</li>
<li>resize the outer part of the sky marker</li>
<li>move the mouse into the object part of the marker</li>
<li>press the right mouse button</li>
<li>select the Measure item</li>
</ul>
<p>

The default sky fitting mode can be changed quickly from "concentric" to
"offset" by:

<ul>
<li>move mouse to the image display window</li>
<li>press the left mouse button</li>
<li>select the "Offset sky" or "Annular sky" item</li>
</ul>
<p>

A list of objects can be saved for later measurement by repeating
any of the above recipes and selecting the "Save to objects list" item from
the Photometry marker menu, instead of the "Measure" item.
<p>

Each time the photometry marker is dismissed and reactivated
it is redrawn using the default object and sky geometries specified
in the skypars and photpars parameters, and any user changes are lost.
To make the current photometry marker geometry the default geometry:

<ul>
<li>move mouse to the object part of the photometry marker</li>
<li>press the right mouse button</li>
<li>select the "Save to psets" item</li>
<li>edit the photpars and skypars parameter sets to round the numbers</li>
</ul>
<p>

After each measurement the object and sky apertures will be marked on the image
display in different colors, and the quick-look results will be printed
in the <a href="#gimstatmarker">status line</a> in the following format.

<ul>
<li>fitted x center in pixels</li>
<li>fitted y center in pixels</li>
<li>fitted sky value in counts</li>
<li>fitted sky sigma in counts</li>
<li>moments analysis hwhm through largest aperture in iscale units</li>
<li>moments analysis axis ratio through largest aperture</li>
<li>moments analysis position angle through largest aperture in degrees</li>
<li>object flux through largest aperture in counts</li>
<li>magnitude through largest aperture</li>
<li>magnitude error through largest aperture</li>
<li>error code through largest aperture, 0 means no error</li>
</ul>
<p>


<h2><a name=xdmeasure>Finding and Measuring Objects Automatically</a></h2>

Objects can be detected and measured automatically using the builtin
object finding algorithm described in the <a href="#xamklist">Creating
Objects Lists Automatically</a> and <a href="#xedfindpars">Setting the
Findpars Parameters</a> sections, and the current values of the
<a href="#impars">impars</a>, <a href="#cenpars">cenpars</a>,
<a href="#skypars">skypars</a>, and <a href="#photpars">photpars</a>
parameters.
<p>

To find and measure objects automatically using the
<a href="#gpmenu">Phot menu</a>:

<ul>
<li>move the mouse to the Phot menu button</li>
<li>select the "Find and measure list" item</li>
</ul>
<p>

or alternatively type the <a href="#gkeycmds">keystroke command</a>
* in the image display window.
<p>

By default the sky and photometry apertures will be marked on the image
display as the objects are detected and measured. In crowded fields
users may wish to disable the object and sky marking options, and enable
the center marking option instead. When the measurements are complete 
a message stating the number of detected objects will appear in
the status line.
<p>

<h2><a name=xomeasure>Measuring Objects in the Objects List</a></h2>

To measure all the object in the object list using the
<a href="#gpmenu">Phot menu</a>:

<ul>
<li>move the mouse to the Phot menu button</li>
<li>select the "Measure list" item</li>
</ul>

or alternatively type the <a href="#gkeycmds">keystroke command</a>
# in the image display window.
<p>

To measure the objects in the list sequentially using the Phot menu:

<ul>
<li>move the mouse to the Phot menu button</li>
<li>select the "Rewind list" item</li>
<li>select the "Measure next" item</li>
<li>repeat last command for remaining list objects</li>
</ul>
<p>

To select and measure objects in the objects list using the
<a href="#lpanel">List panel</a>:

<ul>
<li>move the mouse to the Phot menu button</li>
<li>select the "List panel ..." item</li>
<li>move to the Measure List section of the list panel</li>
</ul>

The commands buttons Next, Prev, Restof, All can be used to measure the
next list object, the previous list object, the remaining list objects,
or the entire list. To select a particular object from the list, click
on the object in the list and press the Current button.
<p>

The function of the objects list panel Next, Prev, Restof, and
All commands buttons are duplicated by the o, -, +, and # keystroke
commands executed in the image display window. The list object nearest
the image cursor can be selected and measured using the
. keystroke command.
<p>

To select and measure the list object nearest the image cursor using
the <a href="#gmousemenu">image display menu</a>:

<ul>
<li>move to the image display window</li>
<li>press the left mouse button</li>
<li>select the "Measure nearest in list" item</li>
</ul>
<p>

<h2><a name=xommeasure>Measuring Objects Through the Objects List Marker</a></h2>

The <a href="#gobjmarker">object marker</a> can be used to simultaneously
visualize and measure objects in the object list. To use the object
marker and <a href="#gpmenu">Phot menu</a> to measure objects from the
object list.

<ul>
<li>move the mouse to the Phot menu button</li>
<li>select the "Show object marker" item</li>
<li>select the "Measure next" item</li>
<li>move the mouse to the object part of the object marker</li>
<li>press the right mouse button </li>
<li>select the "Measure next" item</li>
<li>or type the o keystroke</li>
<li>move the mouse to the Phot menu button</li>
<li>select the "Dismiss object marker" item</li>
</ul>
<p>
<hr>

<h2><a name=xrview>Viewing the Results</a></h2>
<p>

<h2><a name=xrstatusline>The Status Line</a></h2>

As individual objects are measured the following quantities
are printed in the image display window status line.

<ul>
<li>fitted x center in pixels</li>
<li>fitted y center in pixels</li>
<li>fitted sky value in counts</li>
<li>fitted sky sigma in counts</li>
<li>moments analysis hwhm in iscale through largest aperture</li>
<li>moments analysis axis ratio through largest aperture</li>
<li>moments analysis position angle in degrees through largest aperture</li>
<li>object flux in counts through largest aperture</li>
<li>magnitude through largest aperture</li>
<li>magnitude error through largest aperture</li>
<li>error code through largest aperture, 0 means no error</li>
</ul>

The last measurement can be recalled at any time by selecting the
"Display last result" item from the <a href="#grmenu">Results menu</a>,
or by typing the ; <a href="#gkeycmds">keystroke command</a> in the
image display window.
<p>

The status line cn be cleared by selecting the "Clear status line" item
from the Results menu or by typing the ; keystroke command in the
image display window.
<p>

If several objects in the object list are measured with a single command,
then only the results of last measurement are printed in the status line.
<p>

The results of the automatic detection and measuring command are not
printed to the status line. Instead a message stating the number of
object that were detected and measured is printed. The last measurement
may still be recalled and printed as described above.
<p>


<h2><a name=xrgoverlay>Graphics Overlay of Measured Objects</a></h2>

By default the sky and photometry apertures of the measured objects are
marked on the image display. The default colors of the measurement colors
are yellow and red, different from the colors blue and green
colors used to mark the object list sky and object apertures.
<p>

To disable sky and photometry aperture marking and enable center marking
instead using the <a href="#grmenu">Results menu</a>: 

<ul>
<li>move to the Results menu button</li>
<li>select the "Enable ctrmark" item</li>
<li>select the "Disable skymark" item</li>
<li>select the "Disable photmark" item</li>
</ul>

or edit the appropriate parameters in the <a href="#cenpars">cenpars</a>,
<a href="#skypars">skypars</a>, and <a href="#photpars">photpars</a>
parameter sets. The default colors for all 3 marks can also be changed
by editing the above parameter sets.
<p>

If the object list is detected and measured automatically, then the
initial object list centers are also marked if the 
<a href="#omarkpars">omarkpars</a> parameter <i>objmark</i> is enabled.
<p>

<h2><a name=xrptable>The Quick-Look Photometry Table</a></h2>

Xguiphot provides capabilities for displaying the quick-look results in
tabular via a quick-look photometry table. To enable the photometry
table using the <href="#grmenu">Results menu</a>:

<ul>
<li>move to the Results menu button</li>
<li>select the "Photometry table ..." item</li>
</ul>

or alternatively, type the t <a href="#gkeycmds">keystroke command</a>
in the image display window.
<p>

If the table is enabled when a measurement is made then the following
quantities are printed to the table where they can be examined. 

<ul>
<li>the image name
<li>fitted x center in pixels</li>
<li>fitted y center in pixels</li>
<li>fitted sky value in counts</li>
<li>fitted sky sigma in counts</li>
<li>moments analysis hwhm in iscale through largest aperture</li>
<li>moments analysis axis ratio through largest aperture</li>
<li>moments analysis position angle in degrees through largest aperture</li>
<li>object flux in counts through largest aperture</li>
<li>magnitude through largest aperture</li>
<li>magnitude error through largest aperture</li>
<li>filter id</li>
<li>exposure time</li>
<li>airmass</li>
<li>time of observation</li>
<li>logging status</li>
</ul>

If the quick-look photometry table is disabled at the time
of measurements the results are not written to the table,
although the last result may be recalled by select the "Display last result"
item from the Results menu or by typing the ; keystroke command in the
image display window.
<p>

The quick-look table is photometry table is most useful for making comparative
measurements, e.g. repeated measurements of the same object with different
parameter settings, or repeated measurements of the same object taken
at different times, in different observing conditions, etc. 
<p>

For reasons of efficiency it is a good idea to disable the quick-look
table when making measurements of large numbers of objects simultaneously,
and to clear the table using the Clear button when it becomes too large.
<p>

<h2><a name=xrplots>The Quick-Look Photometry Plots</a></h2>

Xguiphot provides capabilities for displaying the quick-look results in
graphical via quick-look photometry plots. To enable the photometry
plots panel using the <href="#grmenu">Results menu</a>:

<ul>
<li>move to the Results menu button</li>
<li>select the "Photometry plots ..." item</li>
</ul>

or alternatively, type the g <a href="#gkeycmds">keystroke command</a>
in the image display window.
<p>

If the plotting panel is enabled when a measurement is made then the following
quantities are displayed by default in the plots panel:

<ul>
<li>a multi-aperture analysis of the object</li>
<li>the object region overlayed by the largest photometry aperture</li>
<li>a major-axis plot of the object region</li>
<li>the sky region overlayed by the sky aperture</li>
<li>a histogram of the sky region</li> 
</ul>

Each plot has an associated menu button which can be used change the default
plot type. For example, it is possible to display the object or sky region
in the from of a data subraster (with or without an object aperture or contour
plot overlay), a contour plot, or a mesh plot; the sky analysis plot
in the form of a histogram, a position angle profile, or a semi-major axis
profile; and the object analysis plot in the form of a major-axis profile or
a position angle profile. It is also possible to display the results of
the moments analysis versus aperture radius.
<p>

Each plot has an associated Activate button. Pressing the Activate
button activates IRAF cursor mode; pressing the Deactivate button
deactivates it. In cursor mode the user can select different plots with
the associated menu button; and use the builtin IRAF
<a href="#gcurkeycmds">cursor mode keystroke</a> commands to display
the plot in various ways.
<p>

The multi-aperture analysis includes the following quantities:

<ul>
<li>the x and y coordinates of the object aperture</li>
<li>the x and y coordinates of the sky aperture</li>
<li>the sky value, sky standard deviation, and number of good sky pixels</li>
<li>the aperture radius in scale units</li>
<li>the moments analysis hwhm in scale units as a function of radius</li>
<li>the moments analysis axis ratio as a function of radius</li>
<li>the moments analysis position angle in degrees as a function of radius</li>
<li>the effective area of the aperture as a function of radius</li>
<li>the object flux as a function of radius</li>
<li>the object magnitude as a function of radius</li>
<li>the object magnitude error as a function of radius</li>
</ul>

If the quick-look photometry plots panel is disabled at the time
of measurement the results are not displayed in the panel,
although the last result may be recalled by select the "Display last result"
item from the Results menu or by typing the ; keystroke command in the
image display window.
<p>

The quick-look photometry plots panel is most useful for examining the
object and sky region in detail as measurements are made, for examining
the often critical sky measurements more closely, and for examining the
results of any multi-aperture analysis.
<p>

For reasons of efficiency it is a good idea to disable the quick-look
photometry plots panel when making measurements of large numbers of objects
simultaneously.
<p>
<hr>

<h1><a name=gui>The Xguiphot Default GUI</a></h1>

The GUI defined by the Xguiphot task parameter <i>guifile</i> whose default
value is the builtin GUI file <i>xapphot$gui/guifile.gui</i>. The elements
of the GUI are described below.
<p>

<h2><a name=guipanel>The Xguiphot Control Panel</a></h2>

The Xguiphot control panel is the most important element of the Xguiphot
GUI. The Xguiphot control panel is automatically activated when Xguiphot
starts up, is visible at all times when Xguiphot is running, and is the
last panel to deactivate when Xguiphot terminates:
The Xguiphot control panel consists of the following elements:

<dl>
<dt><b>The Main Menu and Command Bar</b>
<dd> The main menu and command bar consists of 7 menu buttons: Files, Images,
Lists, Edit, Phot, Results, and Psets, and 2 command buttons: Help and Quit,
which define the <a href="#gmenus">main menus and commands</a>,
<p>

<dt><b>The Image Display Window</b>
<dd>The <a href="#gimwindow">image display window</a> displays the current
image and accepts user commands in the form
Four markers are associated with the image
display window: the <a href="#gfmarker">files marker</a>,
the <a href="#gcmarker">coordinates marker</a>,
the <a href="#gimstatmarker">status line</a>,
the <a href="#gobjmarker">objects list marker</a> and the
<a href="#gphotmarker">photometry marker</a>.
<p>

</dl>
<hr>

<h2><a name=gmenus>The Main Menus and Commands</a></h2>

The 7 main menus are: the <a href="#gfmenu">Files menu</a>,
the <a href="#gimenu">Images menu</a>, the <a href="#glmenu">Lists menu</a>,
the <a href="#gemenu">Edit menu</a>, <a href="#gpmenu">the Phot menu</a>,
the <a href="#grmenu">Results menu</a>, and the <a href="#gpsmenu">Psets
menu </a>.
<p>

To select an item from one of the the main menus:

<ul>
<li>move the mouse to the menu button</li>
<li>press the left mouse button</li>
<li>move the mouse to the desired menu item</li>
<li>release the left mouse button</li>
</ul>
<p>

The function of a menu item preceded by a characters, e.g. item

<PRE>
n | Next image
</PRE>

in the Files menu, can be duplicated by typing the character, i.e. the
character n in the preceding example, in the image display window.
<p>

Menu items with trailing periods, e.g. item

<PRE>
  | Help ...
</PRE>

in the Files menu, either bring up a new panel or demand further
action from the user.

Menu items with a trailing solid right caret, e.g. item

<PRE>
  Edit &gt; 
</PRE>

in the Psets menu bring up a submenu.
<p>

The 2 main command buttons are: the <a href="#ghelp">Help button</a> and
the <a href="#gquit">Quit button</a>.
<p>

To use activate a command button:

<ul>
<li>move the mouse to the command button</li>
<li>press and release the left mouse button</li>
</ul>
<p>

<h3><a name=gfmenu>The Files Menu</a></h3>

The Files menu provides a selection of common file management functions.
The following menu items are currently available.

<PRE>
$ | Files panel ...                    # Activate the files panel
n | Next image                         # Select next image
p | Previous image                     # Select previous image
] | Next objects file                  # Select next objects file
[ | Previous objects file              # Select previous objects file
  | Enable / Disable file logging      # Toggle output file logging 
  | Help ...                           # Display help for files menu
</PRE>
<p>

More on selecting files can be found in the
<a href="#ximdir">Setting the Image Directory</a>, 
<a href="#ximtemplate">Setting the Image Template</a>, 
<a href="#xbimlist">Browsing the Image List</a>, 
<a href="#xbheaders">Browsing the Image Headers</a>, 
<a href="#xodir">Setting the Objects File Directory</a>, 
<a href="#xotemplate">Setting the Objects File Template</a>,
<a href="#xboflist">Browsing the Objects File List</a>,
<a href="#xrdir">Setting the Results File Directory</a>, 
<a href="#xrtemplate">Setting the Output File Template</a>, and
<a href="#xlogresults">Logging the Results</a> sections.
<p>

<h3><a name=gimenu>The Images Menu</a></h3>

The Images menu contains a selection of common image display and image
browsing functions. The following menu items are currently available.
<p>

<PRE>
n | Next image                        # Display next image
p | Previous image                    # Display previous image
  | Dispars pset ...                  # Activate dispars pset editing panel
i | Current image                     # Redisplay current image
  | Impars pset ...                   # Activate impars pset editing panel
h | Display header ...                # Toggle image header display panel
x | Compute model fit ...             # Print model fit results
y | Show model fit ...                # Toggle model fit display panel
  | Options &gt;                      # Display options submenu
  | Help ...                          # Display help for images menu
</PRE>
<p>

The options sub-menu contains the following choices.
<PRE>
    Show / Dismiss crosshair          # Toggle crosshair cursor
    Dismiss / Showfiles marker        # Toggle files marker
    Dismiss / Show coords marker      # Toggle coords marker
    Clear status line                 # Erase status line
</PRE>
<p>

Further information on browsing images and image headers can be found in the
<a href="#xbimlist">Browsing the Image List</a>,
<a href="#xedimpars">Setting the Impars Parameters</a>, and
<a href="#xbheaders">Browsing the Image Headers</a> sections
<p>

Further information on interacting with the image display window and changing
the default image display parameters can be found the sections
on <a href="#xedispars">Setting the Dispars Parameters</a> and
<a href="#ximdisplay">Interacting with the Image Display</a>.
<p>

Information on modeling objects and determining a good value for
the impars <i>ihwhmpsf</i> parameter
can be found in the section <a href="#xhwhmpsf">Estimating the
Hwhm of the Psf</a>.
<p>

More about the crosshair cursor, files marker, coordinates marker,
and status line can
be found in the <a href="#gimcursor">Image Display Cursor</a>,
the <a href="#gfmarker">Files Marker</a>,
the <a href="#gcmarker">Coordinates Marker</a>,
and the <a href="#gimstatmarker">Status Line </a> sections.
<p>

<h3><a name=glmenu>The Lists Menu</a></h3>

The object list creation menu contains a selection of object list creation
and viewing functions. The following menu items are currently currently.
<p>

<PRE>
l | List panel ...                Activate the list editing and viewing panel
] | Next file                     Select the next input objects file
[ | Previous file                 Select the previous input objects file
r | Current file                  Reread the current objects file
  | Impars pset ...               Activate the impars pset editing panel
  | Findpars pset ...             Activate the findpars pset editing panel
@ | Find list                     Find objects and write to list
  | Draw list ...                 Activate the list drawing code
  | Omarkpars pset ...            Activate the omarkpars pset editing panel
m | Mark list                     Mark list on the image display
e | Erase list                    Erase marked list from the image display
e | Help ...                      Display help for the lists menu
</PRE>

Further information on creating object lists can be found 
in the <a href="#xrfmklist">Creating Objects Lists from Object Files</a>,
<a href="#xamklist">Creating Objects Lists Automatically</a>,
<a href="#xedfindpars">Setting the Findpars Parameters</a>, 
<a href="#xdgmklist">Creating Objects Lists with the Image Cursor</a>, and.
<a href="#xdmmklist">Creating Objects Lists with the Photometry
Marker</a> sections.
<p>
More information on overlaying the object list on the image
display can be found in the
<a href="#xviewlist">Viewing the Image List</a>, and
<a href="#xedomarkpars">Setting the Omarkpars Parameters</a>
sections.
<p>


<h3><a name=gemenu>The Edit Menu</a></h3>

The Edit menu contains a selection of object list editing and viewing functions.
The following menu items are currently available.
<p>

<PRE>
l | List panel ...             Activate the list viewing and editing panel
  | Show object marker         Show / dismiss the object marker
^ | Rewind list                Rewind the objects list
f | Next object                Select next object in list
b | Previous object            Select previous object in list
~ | Nearest object ...         Select list object nearest cursor
a | Add object(s) ...          Add objects to list graphically
d | Delete object(s) ...       Delete objects from the list
u | Undelete object(s) ...     Undelete deleted list objects
z | Delete list                Delete entire list
  | Help ...                   Display help for lists menu
</PRE>
<p>

Further information on browsing, viewing, and  editing objects lists can be
found in the
<a href="#xbolist">Browsing the Objects List</a>,
<a href="#xdulist">Deleting and Undeleting Objects from the Objects List</a>,
<a href="#xaddlist">Adding Objects to the Objects List</a>,
and <a href="#xsavelist">Saving Objects Lists ti Objects Files</a>,
sections.

<h3><a name=gpmenu>The Phot Menu</a></h3>

The Phot menu contains a selection of object measuring functions.
The following menu items are currently available.
<p>

<PRE>
   | Impars pset ...             # Activate impars pset editing panel
   | Cenpars pset ...            # Activate cenpars pset editing panel
   | Skypars pset ...            # Activate skypars pset editing panel
   | Photpars pset ...           # Activate photometry parameters editing panel
v  | Draw polygons ...           # Draw object or object / sky polygons
Sp | Point and measure ...       # Measure object(s) nearest the cursor
   | Findpars pset ...           # Activate detection parameters editing panel
*  | Find and measure            # Find and measure objects automatically
#  | Measure list                # Measure existing object list
l  | List panel ...              # Activate list panel
   | Show/Dismiss object marker  # Show / Dismiss object list marker
^  | Rewind list                 # Rewind objects list
o  | Measure next                # Measure next in list
+  | Measure rest of             # Measure rest of list
-  | Measure previous            # Measure previous in list
.  | Measure nearest             # Measure nearest in list
   | Help ...                    # Display help for phot menu
</PRE>
<p>

More information on setting the algorithm parameters can be found
in the <a href="#xedimpars">Setting the Impars Parameters</a>,
<a href="#xedcenpars">Setting the Cenpars Parameters</a>,
<a href="#xedskypars">Setting the Skypars Parameters</a>,
and <a href="#xedphotpars">Setting the Photpars Parameters</a> sections.
<p>

More on the various modes of making photometry measurements can be
found in the
<a href="#xcmeasure">Measuring Objects with the Image Cursor</a>,
<a href="#xpmmeasure">Measuring Objects Through the Photometry Marker</a>,
<a href="#xdmeasure">Detecting and Measuring Objects Automatically</a>,
<a href="#xomeasure">Measuring Objects in the Objects List</a>, and
<a href="#xommeasure">Measuring Objects Through the Object List Marker</a>
sections.
<p>

<h3><a name=grmenu>The Results Menu</a></h3>

The results menu contains a selection of results viewing functions
The following menu items are currently available.

<PRE>
   | Enable / Disable logging    # Toggle results file logging
CR | Clear status line           # Clear status line
;  | Display last result         # Display last result
   | Enable / Disable ctrmark    # Toggle object center marking
   | Disable / Enable skymark    # Toggle sky aperture marking
   | Disable / Enable photmark   # Toggle photometry aperture marking
t  | Photometry table ...        # Display the photometry table panel
g  | Photometry plots ...        # Display the photometry plots panel
   | Cplotpars ...               # Activate cplotpars pset editing panel
   | Splotpars ...               # Activate splotpars pset editing panel
   | Help ...                    # Display help for results menu
</PRE>
<p>

More on view the results can be found in the
<a href="#xrstatusline">The Status Line</a>,
<a href="#xrgoverlay">The Graphics Overlay</a>,
<a href="#xrptable">The Quick-Look Photometry Table</a></li>,
and<a href="#xrplots">The Quick-Look Photometry Plots</a>
sections.
<p>


<h3><a name=gpsmenu>The Psets Menu</a></h3>

The Psets menu contains a selection of parameter editing functions.
The following menu items are currently available.
<p>

<PRE>
    Edit                        # Edit the selected psets
    Apply                       # Apply parameter changes to selected psets
    Cancel                      # Cancel parameter changes to selected psets
    Unlearn                     # Return selected psets to their default state
    Update                      # Update selected psets on disk
    Dismiss                     # Dismiss selected pset editing panels
    Help                        # Display help for psets menu
</PRE>
<p>

Each menu item above is actually a submenu of the following form:

<PRE>
    All
    <a href="#impars">Impars</a>
    <a href="#dispars">Dispars</a>
    <a href="#findpars">Findpars</a>
    <a href="#omarkpars">Omarkpars</a>
    <a href="#cenpars">Cenpars</a>
    <a href="#skypars">Skypars</a>
    <a href="#photpars">Photpars</a>
    <a href="#cplotpars">Cplotpars</a>
    <a href="#splotpars">Splotpars</a>
</PRE>
<p>

More about parameter editing using the parameter editing panel can
be found in the <a href="#pedpanel">The Parameter Set Editing Panel</a>
section. The equivalent colon commands are listed in the
<a href="#gcoloncmds">Colon Commands</a> section.
<p>

Information about setting the parameters to their optimal values can be
found in the
in the <a href="#xedimpars">Setting the Impars Parameters</a>,
in the <a href="#xedispars">Setting the Dispars Parameters</a>,
in the <a href="#xedfindpars">Setting the Findpars Parameters</a>,
in the <a href="#xedomarkpars">Setting the Omarkpars Parameters</a>,
<a href="#xedcenpars">Setting the Cenpars Parameters</a>,
<a href="#xedskypars">Setting the Skypars Parameters</a>,
and <a href="#xedphotpars">Setting the Photpars Parameters</a> sections.
sections.

<h3><a name=ghelp>The Help Command</a></h3>

The Help command is accessed from the Help command button in the main command
bar. Hitting the help button beings up the Help panel, hitting the Help
button again dismisses the Help panel. The ? <a href="#gkeycmds">keystroke
command</a> in the
image display window performs the same function. When the help panel
is activated from the main menu before, the help document comes up
point to the <a href="#guirun">Running Xguiphot with the GUI</a> section
<p>

<h3><a name=gquit>The Quit Command</a></h3>

The Quit command is accessed from the Quit command button in the main
command bar. Hitting the quit button will terminate the Xguiphot task
immediately.
<p>
<hr>

<h2><a name=gimwindow>The Image Display Window</a></h2>

The image display window is the most important window in Xguiphot. It
displays the current input and output files in the
<a href="#gfmarker">files marker</a>, the current image
image in the graphics window, the current cursor position in the
<a href="#gcmarker">coordinates marker</a>  and current status messages
if any in the <a href="#gimstatmarker">status line</a>.
<p>

When the <a href="#gimcursor">image display cursor</a> activates, the
image display window is ready to accept user commands in the form of
<a href="#gmousemenu">mouse clicks</a>,
task specific <a href="#gkeycmds">keystroke commands</a>,
IRAF builtin <a href="#gcurkeycmds">keystroke commands</a>,
task specific <a href="#gcoloncmds">colon commands</a>, and
IRAF builtin <a href="#gcurcoloncmds">colon commands</a>.
<p>

<h3><a name=gfmarker>The Files Marker</a></h3>

The files marker is normally displayed in the upper left corner of the
image display window. The files marker displays the current
image name, the current objects file name, the results logging status,
and the current output results file name. The displayed values cannot
be altered by the user but will automatically update as the user browses
the image list or input objects file list, or changes the default
output results file.
<p>

To move the files marker:

<ul>
<li>move the mouse into the files marker</li>
<li>wait until cursor changes to small cross</li>
<li>press the left mouse button</li>
<li>drag the mouse to the new position</li>
<li>release the left mouse button</li>
</ul>

To resize the files marker:

<ul>
<li>move the mouse to the lower right corner of the files marker</li>
<li>wait till cursor changes to box with 2 arrows</li>
<li>press left mouse button to grab marker</li>
<li>move mouse in or out to resize marker</li>
</ul>

To bring up the files marker menu and select an item:

<ul>
<li>move the mouse into the files marker</li>
<li>wait until cursor changes to small cross</li>
<li>press the right mouse button</li>
<li>select an item</li>
<li>release the right mouse button</li>
</ul>

The current files marker menu is:

<PRE>
    Enable / Disable logging             # Enable / Disable results logging
    Help ...                             # Display help for files marker
    Dismiss marker                       # Delete the files marker
</PRE>
<p>

To delete the files marker:

<ul>
<li>move the mouse into the files marker</li>
<li>wait until cursor changes to small cross</li>
<li>press the delete key</li>
</ul>

or select the "Dismiss marker" command from the files marker menu.
<p>


To reactivate the files marker:

<ul>
<li>move the mouse to the Images menu button</li>
<li>press the left mouse button</li>
<li>select the Options submenu</li>
<li>select the "Show files marker" item</li>
</ul>
<p>

For more on displaying the current input and output file names using
the <a href="#fpanel">Files panel</a> or <a href="#gkeycmds">colon
commands</a> see the
<a href="#ximtemplate">Setting the Image Template</a>,
<a href="#xotemplate">Setting the Objects Files Template</a>,
and <a href="#xrtemplate">Setting the Results Files Template</a> sections.
<p>

<h3><a name=gcmarker>The Coordinates Marker</a></h3>

The coordinates marker is normally displayed in the lower right corner of the
image display window. The coordinates marker tracks the position of the
<a href="#gimcursor">image display cursor</a> in the image display window.
If the cursor is in the part of the image display window containing the
displayed image, the coordinate units are image pixels, otherwise they are
in screen coordinates.  Image pixel coordinates begin at 0.5,0.5 at the
edge of the lower left corner of the image. Screen coordinates begin at
0,0 in the upper left hand corner of the image.
<p>

To move the coordinates marker around:

<ul>
<li>move the mouse into the coordinates marker</li>
<li>wait until cursor changes to small cross</li>
<li>press the left mouse button</li>
<li>drag the mouse to the new position</li>
<li>release the left mouse button</li>
</ul>

To resize the coordinates marker:

<ul>
<li>move the mouse to the lower right corner of the coordinates marker</li>
<li>wait till cursor changes to box with 2 arrows</li>
<li>press left mouse button to grab marker</li>
<li>move mouse in or out to resize marker</li>
</ul>

To bring up the coordinates marker menu and select an item:

<ul>
<li>move the mouse into the coordinates marker</li>
<li>wait until cursor changes to small cross</li>
<li>press the right mouse button</li>
<li>select an item</li>
<li>release the right mouse button</li>
</ul>

The current coordinates marker menu is:

<PRE>
    Help ...                             # Display help for coordinates marker
    Dismiss marker                       # Delete the coordinates marker
</PRE>
<p>

To delete the coordinates marker:

<ul>
<li>move the mouse into the coordinates marker</li>
<li>wait until cursor changes to small cross</li>
<li>press the delete key</li>
</ul>

or select the "Dismiss marker" item from the coordinates marker menu.
<p>

To reactivate the coordinates marker:

<ul>
<li>move the mouse to the Images menu button</li>
<li>press the left mouse button</li>
<li>select the Options submenu</li>
<li>select the "Show coords marker" item</li>
</ul>
<p>

<h3><a name=gimstatmarker>The Status Line</a></h3>

The status line is an area the width of the image display window
and several pixels high located at the bottom of the
image display window.  Normally invisible it highlights when a warning
message is printed, when Xguiphot issues a prompt string, when the
user types a colon command, or and when quick-look results are printed.
<p>

To erase the status line:

<ul>
<li>move the mouse to the Images menu button</li>
<li>press the left mouse button</li>
<li>select the Options submenu</li>
<li>select the "Clear status line" item</li>
</ul>

or

<ul>
<li>move the mouse to the Results menu button</li>
<li>press the left mouse button</li>
<li>select the "Clear status line" item</li>
<li>release the left mouse button</li>
</ul>

or

<ul>
<li>move the mouse into the image display window</li>
<li>press the Return key</li>
</ul>
<p>

To recall the last photometric measurement to the status line:

<ul>
<li>move the mouse to the Results menu button</li>
<li>press the left mouse button</li>
<li>select the "Redisplay last result" item</li>
<li>release the left mouse button</li>
</ul>

or

<ul>
<li>move the mouse into the image display window</li>
<li>press the ; key</li>
</ul>
<p>

To input a <a href="#gcoloncmds">colon command</a> from the status line:

<ul>
<li>move the mouse into the image display window</li>
<li>type : followed  by the command, e.g. :imname</li>
</ul>
<p>


<h3><a name=gimcursor>The Image Display Cursor</a></h3>

When the image display cursor is active and ready to accept user commands
in the image display window it is displayed as a small white open circle.
When the image display cursor is busy or deactivated it is displayed as
a small filled in black cross.
<p>

In some cases a crosshair cursor can be more useful that the default circle.
To change the default image display cursor from a circle to a crosshair:

<ul>
<li>move the mouse to the Images menu button</li>
<li>press the left mouse button</li>
<li>select the "Options" submenu </li>
<li>select the "Show crosshair" menu item</li>
<li>release the left mouse button</li>
</ul>

To recall the default cursor repeat the above commands, replacing
the "Show crosshair" menu item with the "Dismiss crosshair" item.
<p>

To track the cursor coordinates in image pixel units

<ul>
<li>move the mouse to image display window</li> 
<li>move to the object of interest in the displayed image</li> 
</ul>

The pixel coordinates are displayed in the <a href="#gcmarker">coordinates
marker</a>. If the coordinates marker has been dismissed, it
it can be reactivated by selecting the "Show coords marker" item in the
Images menu Options submenu.
<p>

To print the current position of the image display cursor in the status
line:

<ul>
<li>move the mouse into the image display window</li>
<li>position the image cursor</li>
<li>type the C keystroke command</li>
</ul>
<p>

<h3><a name=gmousemenu>The Image Display Menu</a></h3>

The mouse can be used to perform several important image display functions.
<p>

To window the image display:

<ul>
<li>move the mouse into the image display</li> 
<li>press the right mouse button</li>
<li>drag the mouse around</li>
<li>release the right mouse button</li>
</ul>

To pan the image:

<ul>
<li>move the mouse to the desired position in the the image display</li> 
<li>click the middle mouse button</li>
</ul>

To zoom up:

<ul>
<li>move the mouse to the desired position in the the image display</li> 
<li>click the middle mouse button twice</li>
</ul>

To zoom down:

<ul>
<li>move the mouse to the desired position in the the image display</li> 
<li>hold down the Shift key</li>
<li>click the middle mouse button</li>
</ul>
<p>

To return to the default zoom: 

<ul>
<li>move the mouse to the desired position in the image display window</li> 
<li>hold down the Control key</li>
<li>click the middle mouse button</li>
</ul>

More displaying images can be found in the
<a href="#ximdisplay">Interacting with the Image Display</a> and
<a href="#xedispars">Setting the Dispars Parameters</a> sections.
<p>

To activate the image display menu:

<ul>
<li>move the mouse to the image display window</li> 
<li>press the left mouse button</li>
<li>select the desired menu item</li>
<li>release the left mouse button</li>
</ul>

The following menu items are currently available.

<PRE>
Sp | Point and measure                 # Measure object nearest the cursor
 . | Measure nearest in list           # Measure list object nearest the cursor
 ~ | Find nearest in list              # Locate list object nearest the cursor
 d | Delete nearest in list            # Delete list object nearest the cursor
 u | Undelete nearest in list          # Undelete list object nearest the cursor
   | Show / Dismiss phot marker        # Activate / deactivate the phot marker
   | Align / Offset photsky marker     # Align / offset the photsky marker
   | Set offset / concentric sky       # Toggle the sky fitting mode
 x | Compute model fit                 # Fit gaussian to nearest object
 y | Show / Dismiss model plot ...     # Toggle model fit plotting
</PRE>

Note that most of these commands use the current cursor position as an initial
position in some way, e.g. the measure, list editing, and model fit commands
use the the cursor x and y position as an initial position. The photometry
marker commands activate or move the marker to the position of the
cursor.
<p>

For more about selecting and measuring objects with the cursor go to
the <a href="#xcmeasure">Measuring Objects with the Image Cursor</a> and
<a href="#xomeasure">Measuring Objects in the Objects List</a> 
sections.
<p>

For more about locating objects in the objects list and
deleting or undeleting objects from the objects list go to the
<a href="#xbolist">Browsing the Objects List</a> and
<a href="#xdulist">Deleting and Undeleting Objects from the Objects List</a>
sections.
<p>

For more about creating and manipulating the photometry marker go to the
<a href="#gphotmarker">The Photometry Marker</a> section. For information
on using the  photometry marker to create objects lists see the
<a href="#xdmmklist">Creating Objects Lists with the Photometry Marker</a> and
<a href="#xaddlist">Adding Objects to the Objects List</a> sections.
<p>

For information on how to use the photometry marker to make quick-look
measurements go to the
<a href="#xpmmeasure">Measuring Objects Through the Photometry Marker</a>
section.
<p>


<h3><a name=gkeycmds>The Xguiphot Keystroke Commands Summary</a></h3>

Many Xguiphot functions have associated keystroke accelerator commands.
To execute these functions using the keystroke accelerators rather than
the using the main menus, move to the image display window and type the
keystroke.  The following Xguiphot keystroke accelerators are defined:
<p>

<PRE>
General commands
    ?  Toggle help panel            Q  Quit task
    $  Toggle files panel           :  Colon command
   CR  Erase status line	

Image display commands
    i  Redisplay current image      h  Toggle image header panel
    n  Display next image           p  Display previous image
    x  Model nearest object         \X Refit previous object
    y  Toggle model fitting panel

Object list creation and display Commands
    l  Toggle objects list panel    r  Reread current objects file
    ]  Read next objects file       [  Read previous objects file
    @  Autofind objects list      z,a  Draw objects list
    m  Mark objects list            e  Erase objects list

Object list editing commands
    ^  Rewind object list           ~  Move to nearest list object
    f  Move to next list object     b  Move to previous list object
    z  Delete entire objects list   d  Delete nearest list object
    u  Undelete nearest list object a  Add object to list

Object measurement commands
   SP  Measure nearest object       v  Draw object and sky polygons
    *  Find and measure objects     #  Measure object list
    o  Measure next list object     -  Measure previous list object
    +  Measure rest of list         .  Measure nearest list object

Results display commands
    t  Toggle tables panel
    g  Toggle plots panel           G  Replot
   CR  Erase status line            ;  Display last measurement


</PRE>
<p>


<h3><a name=gcurkeycmds>The Cursor Mode Keystroke Commands</a></h3>

The IRAF builtin cursor mode keystroke commands are
available in any active graphics window including the image display.
To execute the command move to the graphics window and type the keystroke.
The following builtin cursor keystrokes are currently available. 

<p>
<PRE>
    A  Draw and label axes          B  Backup over last instruction
    C  Print the cursor position    D  Draw a line segment
    E  Expand the plot              F  Set fast cursor
    H  Step cursor left             J  Step cursor down
    K  Step cursor up               J  Step cursor right
    M  Pan                          P  Zoom out
    R  Redraw                       T  Draw text at cursor
    U  Undo last edit               V  Set slow cursor
    W  Set wcs at cursor            X  Zoom in in x
    Y  Zoom in in y                 Z  Zoom in
    &lt;  Set lower limit of plot to y &gt;  Set upper limit of plot to y 
    \  Escape next character        :. Cursor mode colon command
    =  Draw a plot                  0  Reset and redraw

</PRE>

Users should be aware that not all the keys are yet fully functional for
the image display window and the zoomed up image displays of the object
and sky region in the photometry plots panel. In particular it is not yet
possible to produce hardcopies of the image display with the = keystroke.
<p>

<h3><a name=gcoloncmds>The Xguiphot Colon Commands</a></h3>

Many Xguiphot commands have associated colon commands.
Most but not all of these are parameter showing and setting commands.
To execute these commands using colon commands rather using menu items
or the parameter editing panels move to the image display window and type the
command.  The following Xguiphot colon commands are defined:
<p>

<PRE>

File Management Colon Commands

    :images   [template]    Show / Set a new image template
    :objects  [template]    Show / Set a new objects file template
    :results  [template]    Show / Set a new results file template
    :robjects [template]    Show / Set a new output objects file template
    :imname   [name]        Show / Select the current image
    :olname   [name]        Show / Select the current objects file
    :rlname                 Show the current results file
    :glname                 Show the current output objects file
    :imnumber [number]      Show / Select the current image number
    :olnumber [number]      Show / Select the current objects file number
    :rlname                 Show the current results file number
    :glname                 Show the current output objects file number
    :logresults [yes/no]    Log the results to the results file ?

Object List Management Commands

    :oselect   number      Select the current object
    :odelete   number      Delete the current object
    :oundelete number      Undelete the current object
    :oadd      geometry    Add object to object list
    :osave     file        Save current object list to objects file


Impars Parameter Colon Commands

   :iscale      [value]    Show / Set the image scale
   :ihwhmpsf    [value]    Show / Set the hwhm of the psf
   :iemission   [yes/no]   Show / Set emission features switch
   :iskysigma   [value]    Show / Set the sigma of the background
   :imindata    [value]    Show / Set the minimum good data value
   :imaxdata    [value]    Show / Set the maximum good data value

   :inoisemodel [name]     Show / Set the noise model
   :ikgain      [value]    Show / Set the CCD gain keyword
   :ikreadnoise [value]    Show / Set the CCD readout noise keyword
   :igain       [value]    Show / Set the CCD gain in e-/ADU
   :ireadnoise  [value]    Show / Set the CCD readout noise in e-

   :ikexptime   [value]    Show / Set the exposure time keyword
   :ikairmass   [value]    Show / Set the airmass keyword
   :ikfilter    [value]    Show / Set the ifilter id keyword
   :ikobstime   [value]    Show / Set the time of observation keyword
   :ietime      [value]    Show / Set the exposure time
   :iairmass    [value]    Show / Set the airmass value
   :ifilter     [value]    Show / Set the ifilter id
   :iotime      [value]    Show / Set the time of observation

   *Permitted values of inoisemodel are: "poisson".


Dispars Parameter Colon Commands

   :derase      [yes/no]   Show / Set the erase status
   :dfill       [yes/no]   Show / Set the fill status
   :dxviewport  [value]    Show / Set the x viewport
   :dyviewport  [value]    Show / Set the y viewport
   :dxmag       [value]    Show / Set the x magnification
   :dymag       [value]    Show / Set the y magnification

   :dztransform [name]     Show / Set the intensity transform
   :dzlimits    [name]     Show / Set the intensity limits algorithm
   :dzcontrast  [value]    Show / Set the intensity contrast
   :dznsample   [value]    Show / Set the number of sample lines
   :dz1         [value]    Show / Set the minimum intensity level
   :dz2         [value]    Show / Set the maximum intensity level
   :dlutfile    [value]    Show / Set the user lookup table file
   :drepeat     [yes/no]   Show / Set repeat status

   *Permitted values of dztransform are: "linear", "log", and "none".
   *Permitted values of dzlimits are: "median", "image", and "user".


Findpars Parameter Colon commands

   :fthreshold  [value]    Show / Set the detection threshold
   :fradius     [value]    Show / Set the fitting radius
   :fsepmin     [value]    Show / Set the minimum separation
   :froundlo    [value]    Show / Set the lower ellipticity limit
   :froundhi    [value]    Show / Set the upper ellipticity limit
   :fsharplo    [value]    Show / Set the lower sharpness limit
   :fsharphi    [value]    Show / Set the upper sharpness limit

Omarkpars Parameter Colon Commands

   :objmark     [yes/no]   Show / Set the object marking switch
   :otolerance  [value]    Show / Set the object matching tolerance
   :ocharmark   [value]    Show / Set the object marking parameter
   :onumber     [yes/no]   Show / Set the object numbering switch
   :opcolormark [value]    Show / Set the object mark color
   :oscolormark [value]    Show / Set the sky mark color
   :osizemark   [value]    Show / Set the mark size

   *Permitted values of ocharmark are: "point", "box", "cross", "plus",
   "circle", "diamond", and "shape".
   *Permitted values of opcolormark and oscolormark are: "red", "blue",
   "green", and "yellow".


Cenpars Parameter Colon Commands

    :calgorithm [value]    Show / Set the centering algorithm
    :cradius    [value]    Show / Set the centering radius
    :cthreshold [value]    Show / Set the centering threshold
    :cminsnrati [value]    Show / Set the minimum signal-to-noise ratio
    :cmaxiter   [value]    Show / Set the maximum number of iterations
    :cxyshift   [value]    Show / Set the maximum x or y coordinate shift

    :ctrmark    [yes/no]   Show / Set the center marking switch
    :ccharmark  [value]    Show / Set the center marking character
    :ccolormark [value]    Show / Set the center mark color
    :csizemark  [value]    Show / Set the center mark size

    *Permitted values of calgorithm are: "none", "centroid1d", "gauss1d",
    and "ofilter1d".
    *Permitted values of ccharmark are: "point", "box", "cross", "plus",
    "circle", and "diamond".
    *Permitted values of ccolormark are: "red", "blue", "green" and
    "yellow".

Skypars Parameter Colon Commands

    :smode      [value]    Show / Set the sky fitting mode
    :sgeometry  [value]    Show / Set the sky fitting geometry
    :srannulus  [value]    Show / Set the inner radius of sky annulus
    :saxratio   [value]    Show / Set the sky annulus axis ratio
    :sposangle  [value]    Show / Set the sky annulus p.a. in degrees

    :salgorithm [value]    Show / Set the sky fitting algorithm
    :sconstant  [value]    Show / Set the constant for constant sky fitting
    :shwidth    [value]    Show / Set the half-width of histogram in sigma
    :shbinsize  [value]    Show / Set the resolution of histogram in sigma
    :shsmooth   [yes/no]   Show / Set the histogram smoothing switch
    :smaxiter   [value]    Show / Set the max number of fitting iterations

    :sloclip    [value]    Show / Set the lower clipping factor in %
    :shiclip    [value]    Show / Set the upper clipping factor in %
    :snreject   [value]    Show / Set the max number of rejection iterations
    :sloreject  [value]    Show / Set the lower k-sigma rejection limit
    :shireject  [value]    Show / Set the upper k-sigma rejection limit
    :srgrow     [value]    Show / Set the region growing radius

    :skymark    [yes/no]   Show / Set the sky marking switch
    :scolormark [value]    Show / Set the sky aperture mark color

    *Permitted values of smode are: "concentric" and "offset".
    *Permitted values of sgeometry are: "circle", "ellipse", "rectangle",
    and "polygon".
    *Permitted values of salgorithm are: "zero", "constant", "mean",
    "median", "mode32", "hcentroid", "hgauss", "hofilter", "hcrosscor".
    *Permitted values of scolormark are: "read", "blue", "green", and
    "yellow".

Photpars Parameter Colon Commands

    :pgeometry  [value]    Show / Set the photometry aperture geometry
    :papertures [value]    Show / Set the photometry apertures
    :paxratio   [value]    Show / Set the photometry aperture axis ratio
    :pposangle  [value]    Show / Set the aperture position angle in degrees
    :pzmag      [value]    Show / Set the photometry zero point
    :photmark   [yes/no]   Show / Set the photometry aperture marking switch
    :pcolormark [value]    Show / Set the photometry aperture mark color

    *Permitted values of pgeometry are: "circle", "ellipse", "rectangle",
    and "polygon".
    *Permitted values of pcolormark are: "red", "blue", "green", and
    "yellow".

Cplotpars Parameter Colon Commands

    :enx        [value]    Show / Set number of columns to be contoured
    :eny        [value]    Show / Set number of lines to be contoured
    :ez1        [value]    Show / Set minimum greylevel to be contoured
    :ez2        [value]    Show / Set maximum greylevel to be contoured
    :ez0        [value]    Show / Set the greylevel of the zero contour
    :encontours [value]    Show / Set the number of contours to be plotted
    :edz        [value]    Show / Set the contour greylevel interval
    :ehilomark  [value]    Show / Set the high / low contour marking option
    :edashpat   [value]    Show / Set the bit pattern for drawing lines
    :elabel     [yes/no]   Show / Set the major contours labeling switch
    :ebox       [yes/no]   Show / Set the box drawing switch
    :eticklabel [yes/no]   Show / Set the tick mark labeling switch
    :exmajor    [value]    Show / Set the number of major x axis divisions
    :exminor    [value]    Show / Set the number of minor x axis divisions
    :eymajor    [value]    Show / Set the number of major y axis divisions
    :eyminor    [value]    Show / Set the numver of minor y axis divisions
    :eround     [yes/no]   Show / Set the axis rounding switch
    :efill      [yes/no]   Show / Set viewport filling switch

    *Permitted values of ehilomark: "none", "hilo", and "pixel".


Splotpars Parameter Colon Commands

    :anx        [value]    Show / Set number of columns to be plotted
    :any        [value]    Show / Set number of lines to be plotted
    :az1        [value]    Show / Set minimum greylevel to be plotted
    :az2        [value]    Show / Set maximum greylevel to be plotted
    :alabel     [yes/no]   Show / Set the axes drawing switch
    :angv       [value]    Show / Set the vertical viewing angle
    :angh       [value]    Show / Set the horizontal viewing angle

</PRE>
<p>


<h3><a name=gcurcoloncmds>The Cursor Mode Colon Commands Summary</a></h3>

The IRAF builtin cursor mode colon commands are
available in any active graphics window including the image display.
To execute the command move to the graphics window and type the colon
command.  The following builtin colon commands are currently available. 
<p>

<PRE>
:.axes[+-]              Draw axes of viewport whenever screen is redrawn
:.case[+-]              Enable case sensitivity for keystrokes
:.clear                 Clear alpha memory (e.g, this text)
:.cursor n              Select cursor
:.gflush                Flush plotter output
:.help                  Print help text for cursor mode
:.init                  Initialize the graphics system
:.markcur[+-]           Mark cursor position after each cursor read
:.off [keys]            Disable selected cursor mode keys
:.on [keys]             Enable selected cursor mode keys
:.page[+-]              Enable screen clear before printing help text
:.read file             Fill frame buffer from a file
:.show                  Print cursor mode and graphics kernel status
:.snap [device]         Make hardcopy of graphics display
:.txqual qual           Set character generator quality (normal,l,m,h)
:.txset format          Set text drawing parameters (size,up,hj,vj,etc)
:.xres=value            Set X resolution (stdgraph only)
:.yres=value            Set Y resolution (stdgraph only)
:.viewport x1 x2 y1 y2  Set workstation viewport in world coordinates
:.write[!][+] file      Save frame buffer in a spool file
:.zero                  Set viewport and redraw frame

</PRE>

Users should be aware that not all the commands are yet fully functional for
the image display window and the zoomed up image displays of the object
and sky region in the photometry plots panel. In particular it is not yet
possible to produce hardcopies of the image display with the :.snap
command.
<p>


<h3><a name=gobjmarker>The Object List Marker</a></h3>

The object list marker is used to mark the object and sky apertures
of the current object in the object list. The object
list marker can be created, redrawn, and destroyed by the user, but cannot be
moved to an arbitrary position, resized, rotated or have its native
geometry changed. The geometry of the object list marker is defined
by the object list. If the object list entry is incomplete
the geometry parameters in the <a href="#photpars">photpars</a> and
<a href="#skypars">skypars</a> parameter sets are used to draw the
marker.
<p>

To activate the object list marker:

<ul>
<li>move the mouse to Edit or Phot menu button</li>
<li>press the left mouse button</li>
<li>select the "Show object marker" item</li>
<li>release the left mouse button</li>
</ul>

or

<ul>
<li>move the mouse to the Edit menu</li>
<li>press the left mouse button</li>
<li>select the "List panel ..." item</li>
<li>release the left mouse button</li>
<li>move the mouse to the "View and Edit" section of the List panel</li>
<li>press the Show object marker button</li>
</ul>

The marker will remain invisible if the current object is undefined, i.e.
the object list pointer is located at the beginning or end of the list,
but will appear as soon as a current object
is defined, e.g if the f key is typed in the image display window or
the "Next object" item is selected from the <a href="#gemenu">Edit menu</a>.
By default the object and sky parts of the marker take on the colors
specified by the <a href="#omarkpars">omarkpars</a> <i>opcolormark</i>
and <i>oscolormark</i> parameters.
<p>

Every attempt has been made to ensure that the object list marker resizes
and redraws correctly if the image display window is resized manually,
or if the displayed image is zoomed, panned, etc.
<p>

The object list marker menu contains a selection of single object object
list viewing, editing, and measuring functions, plus a small number of
marker manipulation functions.
<p>

To use the object marker menu:

<ul>
<li>move the mouse into the object part of the object marker</li>
<li>press the right mouse button</li>
<li>select the desired menu item</li>
<li>release the right mouse button</li>
</ul>

The following menu items are currently available.

<PRE>

f | Select next object                # Move to next object in object list
b | Select previous object            # Move to previous object list object
~ | Select current object             # Select current object list object
d | Delete current object             # Delete current object list object
u | Undelete current object           # Undelete deleted object list object
o | Measure next object               # Measure next object in object list
- | Measure previous object           # Measure previous object in object list
. | Measure current object            # Measure current object in object list
  | Object region colors              # Set object region marker colors
  | Sky region colors                 # Set sky region marker colors
  | Redraw marker                     # Redraw the marker
  | Dismiss the marker                # Dismiss the marker

</PRE>

Note that the keystroke accelerators associated with the menu items
are the same as those that would be typed directly in the image display window,
i.e. typing d in the object marker is the same as moving to the same object
in the image display window and typing d if the marker were not there.
<p>

To delete the object marker:

<ul>
<li>move the mouse into the object part of the object marker</li>
<li>press the delete key</li>
</ul>

or alternatively select the "Dismiss marker" item in the object
marker menu, select the "Dismiss object marker" item from the
Edit or Phot menus, or press Dismiss marker button in the
List panel.
<p>

More about using the object list marker to browse and measure objects
in the object list can be found in the
<a href="#xbolist">Browsing the Objects List</a>
and <a href="#xommeasure">Measuring Objects Through the Object List
Marker</a> sections.
<p>

<h3><a name=gphotmarker>The Photometry Marker</a></h3>

The photomery marker can be used to view and edit the default object and
sky aperture geometry. Unlike the object list marker
the photometry marker may be created, relocated,
resized, rotated, redrawn, and destroyed by the user.
The default geometry of the photometry marker is 
the geometry defined by the <a href="#photpars">photpars</a>
and <a href="#skypars">skypars</a> object and sky geometry parameters.
If the default object or sky geometry is polygonal,
the user must define the object and sky polygons
using either select the "Draw polygons ..." item in the
Phot menu or type the v keystroke command in the image display window,
before attempting to activate the marker. Otherwise the marker geometry
will default to rectangular.
<p>

If the sky fitting mode is concentric the sky portion of the photometry
marker will activate concentric with the object portion; otherwise only
the object portion will activate. To quickly toggle between concentric
and offset sky fitting mode:

<ul>
<li>move the mouse to the image display window</li>
<li>press the left mouse button</li>
<li>select the "Set offset / annular sky" item</li>
<li>release the left mouse button</li>
</ul>

or either edit the <i>smode</i> parameter in the <a href="#skypars">skypars</a>
parameter set, or type the colon command ":smode offset" or ":smode concentric"
in the image display window.
<p>

To activate the photometry marker:

<ul>
<li>move the mouse to the desired position in the image display window</li>
<li>press the left mouse button</li>
<li>select the "Show phot marker"</li>
<li>release the left mouse button</li>
</ul>
<p>

To activate the offset sky marker if the photometry marker was
created in offset sky mode or if the sky fitting mode was changed
from concentric to offset while the marker was active:

<ul>
<li>move the mouse to the desired sky position in the image display window</li>
<li>press the left mouse button</li>
<li>select the "Offset photsky marker" item</li>
<li>release the left mouse button</li>
</ul>
<p>

To realign the sky marker if the the sky fitting mode was changed
from offset to concentric while the marker was active and offset:

<ul>
<li>move the mouse to the image display window</li>
<li>press the left mouse button</li>
<li>select the "Align photsky marker"</li>
<li>release the left mouse button</li>
</ul>
<p>

The marker is active and ready to accept commands when its border highlights
and the cursor changes as the mouse is moved in and out of the marker. If
several markers are stacked together as is often the case for the photometry
marker, then the one whose border is highlighted is the one ready to accept
commands. If the desired marker is not currently the active marker and moving
into does not make it so, then click the middle
mouse button to lower the current marker to the bottom of the stack
until the desired marker is active, or the click left mouse button to 
raise the current marker to the top of the stack until the desired marker is
active.
<p>

To move the photometry marker from one place to another:

<ul>
<li>move the mouse into the object part of the photometry marker</li>
<li>wait until the marker highlights and the cursor changes to a cross</li>
<li>press down on the left mouse button</li>
<li>drag the object marker to the new position</li>
<li>release the left mouse button</li>
</ul>

If the sky fitting mode is concentric the sky markers will automatically
shift to the new position along with the object region, otherwise only
object marker will shift. The sky
markers can be moved in the same fashion if the sky fitting mode is
offset. If the inner sky region marker is moved the outer sky marker will
automatically shift with it and vice versa.
<p>

To rotate the photometry marker:

<ul>
<li>move the mouse to the boundary of the object marker</li>
<li>wait until it changes shape to a box containing a . or a box with arrows</li>
<li>press down on the Shift key</li>
<li>press down on the left mouse button</li>
<li>rotate the object marker to the new position by moving the mouse</li>
<li>release the left mouse button</li>
</ul>

If the sky fitting mode is concentric that the sky region markers will
rotate to match the new orientation of the object marker, otherwise
only the object marker will rotate. The sky markers can be rotated
in the same manner. If the inner sky region marker is rotated the outer
sky region marker will be rotated to match it and vice versa.
<p>

To resize the photometry marker:

<ul>
<li>move the mouse to the boundary of the object marker</li>
<li>wait until it changes shape to a box containing a . or a box with arrows</li>
<li>press down on the left mouse button</li>
<li>drag the object marker to its new shape</li>
<li>release the left mouse button</li>
</ul>

If the sky fitting mode is concentric then the sky markers will resize
so as to try and preserve the distances between the object
marker and the inner sky marker and the inner and outer sky markers, otherwise
only the object marker will resize. The sky markers can be resized in the
the same manner. If the inner sky marker is resized the outer will
resize so as to try and preserve the distance between them. If the outer
sky marker is resized it is restricted to being larger than the
inner sky marker, and the inner sky marker is unaltered.
<p>

Polygon markers are currently a special case. They must be drawn and
stored by the user using the Phot menu "Draw polygons ..." item
or the v keystroke command prior to activating the photometry marker. If
a polygon marker is requested but none has been defined then a rectangular
marker will be created instead. Polygon markers can be moved, rotated, and
resized just like any other marker. However at present the user cannot
add and subtract vertices from the polygon marker interactively, although
the IRAF Xgterm widget does provide support for this operation.
<p>

Every attempt has been made to ensure that the photometry marker resizes
and redraws correctly
if the image display window is resized manually or the displayed image
is zoomed, panned, etc.
<p>

To select and item from the photometry marker menu:

<ul>
<li>move the mouse into the object part of the marker</li>
<li>wait until the marker changes to a small cross</li>
<li>press the right mouse button</li>
<li>select the desired item</li>
<li>release the right mouse button</li>
</ul>
<p>

<PRE>
    Measure                        Measure object at marker position
    Object geometry                Set the object region marker geometry
    Sky geometry                   Set the sky region marker geometry
    Object colors                  Set the object region marker colors
    Sky colors                     Set the sky region marker colors
    Redraw marker                  Redraw the marker
    Save to object list            Save marker x,y,geometry to objects list
    Save to psets                  Save marker geometry to skypars and photpars
    Help ...                       Display help
    Dismiss marker                 Dismiss marker
</PRE>

The menu Measure item measures the object at the position of the
photometry marker using the geometry defined by the marker not the
geometry in the skypars and photpars parameter sets. Note that even if
the marker was created using that geometry, there will still be minor
differences because of precision problems in reading back the marker
geometry.
<p>

The object and sky marker geometries can be modified using the "Object geometry"
and "Sky geometry" menu items. Markers can be transformed to and from
the shapes "circle", "ellipse", "rectangle", and "polygon". However if a polygon
was not defined by the user prior to requesting a polygonal marker
a rectangular marker will  be created.
<p>

By default the object and sky parts of the marker take on the colors
specified by the <a href="#photpars">photpars</a> <i>pcolormark</i>
parameter and the <a href="#skypars">skypars</a> and <i>scolormark</i>
parameters. The default colors can be changed by
selecting the "Object colors" and "Sky colors" submenus.
<p>

To delete the photometry marker:

<ul>
<li>move the mouse into the object part of the marker</li>
<li>hit the Delete key</li>
</ul>

or select the "Dismiss marker" item from the
the photometry marker menu, or select the "Dismiss phot marker"
from the image display menu.
<p>

More about how to use the photometry marker to create and edit the objects
list and to make photometry measurements can be found in the
<a href="#xdmmklist">Creating the Objects List with the Photometry Marker</a>,
<a href="#xaddlist">Adding Objects to the Objects List</a>,
and <a href="#xpmmeasure">Measuring Objects Through the Photometry Marker</a>
sections.

<hr>

<h2><a name=panels>The Control Panels</a></h2>
<p>

<h3><a name=hpanel>The Help Panel</a></h3>

The help panel permits the user to view the on-line help document while
Xguiphot is running. The help panel can be activated by pressing the
help command button in any Xguiphot panel, by selecting the "Help ..."
item from and Xguiphot menu, or by typing the ? keystroke
command in the image display window. The help panel consists of the
the help command button bar and the help display window which are described
below.
<p>

<dl>
<dt><b>The Help Command Button Bar</b>
<dd>The command button bar contains the following command buttons.
<p>

<dl>
<dt><b>The Back Command Button</b>
<dd>Pressing the Back command button moves backwards through the
previously visited
links.
<p>
<dt><b>The Forward Button</b>
<dd>Pressing the Forward command button moves forward through the
list of visited links.
<p>
<dt><b>The Home Button</b>
<dd>Pressing the Home command button sets the help display window to
the "Running Xguiphot with the GUI" section.
<p>
<dt><b>The Toc Button</b>
<dd>Pressing the TOC command button sets the help display window to the
Table of Contents section.
<p>
<dt><b>The Reset Button</b>
<dd>Pressing the Reset command button erases the list of visited links.
<p>
<dt><b>The Help Button</b>
<dd>Pressing the Help command button sets the help display window
to the "The Help Panel" section. 
<p>
<dt><b>The Dismiss Button</b>
<dd>Pressing the Dismiss command button deactivates the help panel.
<p>
</dl>
<p>

<dt><b>Help Display Window</b>
<dd>The help display window consists of a single HTML widget.
Users can scroll through the text, click on the scrollbars, or click
on the high-lighted links in the usual manner.
</dl>
<hr>

<h3><a name=fpanel>The Files Panel</a></h3>

The files panel permits the user to view and  edit the current input and
output data directories and the current input and output image
and file name templates, and select the current input image, the current
input objects file, and the current results file. 
The files can be activated by selecting the "Files panel ..." item
in the <a href="#gfmenu">Files menu</a>, or by typing the $
<a href="#gkeycmds">keystroke command</a> in the image display window.
The files panel is divided into 5 sections: the current directory listing
section, the input images section, the input objects file section, the
output results file section, and the files command button bar.
<p>

<dl>
<dt><b>The Current Directory Listing Section</b>
<dd>The current directory listing section consists of the following 2 elements:
<p>
<dl>
<dt><b>The Current Dir Entry Box</b>
<dd>Entering a new current directory specification into the Current Dir
entry box and hitting Return sets the new directory and re-expands
the input image, input object file, and results file templates.
<p>
<dt><b>The Subdirectory Listing</b>
<dd> Clicking on a new subdirectory item expands the subdirectory listing
but does not re-expand the input image, input object file, or results file
template. The text of the Current Dir entry box values changes from 
black to white to indicate that the current directory listing is
out of date.
<p>
</dl>

<dt><b>The Input Images Section</b>
<dd>The input images section consists of the following 3 elements:
<p>
<dl>
<dt><b>The Dir Entry Box</b>
<dd>Entering a new directory specification into the Dir entry box and
hitting Return enters the new directory specification in all the
files panel Dir entry boxes. The new directory specification will be
prepended to the current Images, Objects, Results, and Robjects entry
box values when the Apply button is pressed.
<p>
<dt><b>The Images Entry Box</b>
<dd>Entering a new images template into the Images entry box and hitting
return updates the input image, the input objects file, and output
results file lists and selects a new current image, a new current input
objects file, and new current output results files.
<p>
<dt><b>The Image List</b>
<dd>Clicking on a new image name in the image list selects a new current image,
displays the selected image in the image display window, and selects
new default input objects and output results files. The builtin scroll bars
can be used to scroll through the images list.
</dl>
<p>
More on defining the default global and / or image directories, defining
the image list, and selecting the current image can be found in
the <a href="#ximdir">Setting the Image Directory</a>,
<a href="#ximtemplate">Setting the Image Template</a>,
<a href="#xbimlist">Browsing the Image List Sections</a>,
<a href="#xbheaders">Browsing the Image Headers</a>,
section.
<p>

<dt><b>The Input Objects File Section</b>
<dd>The input objects file section consists of the following 3 elements:
<p>
<dl>
<dt><b>The Dir Entry Box</b>
<dd>Entering a new directory specification into the Dir entry box and
hitting Return will enter a new input objects file directory specification.
The new directory specification will be prepended to the current Objects
entry box value when the Apply button is pressed.
<p>
<dt><b>The Objects Entry Box</b>
<dd>Entering a new input objects file template into the Objects entry box
and hitting return updates the input objects file list and selects a new
current input objects file.
<p>
<dt><b>The Input Objects File List</b>
<dd>Clicking on a new objects file name in the objects file list selects a new
current input objects file.  The builtin scroll bars can be used to scroll
through the input objects file list.
<p>
</dl>
More on defining the default objects file directory, defining the
object file list, and selecting the current input objects file can be found in 
the <a href="#xodir">Setting the Objects File Directory</a>,
<a href="#xotemplate">Setting the Objects File Template</a>,
and <a href="#xboflist">Browsing the Objects File List</a> sections.
<p>

<dt><b>The Output Results File Section</b>
<dd>The output results file section consists of the following 7 elements.
<p>
<dl>
<dt><b>The Log Results Command Button</b>
<dd>Pressing the log results command button toggles results file logging.
<p>
<dt><b>The Results Dir Entry Box</b>
<dd>Entering a new directory specification into the Results Dir entry box and
hitting Return enters a new global results directory specification. The new
directory specification will be prepended to the current Results and
Robjects entry box values when the Apply button is pressed.
<p>
<dt><b>The Robjects Dir Entry Box</b>
<dd>Entering a new directory specification into the robjects Dir entry box and
hitting Return will enter a new robjects file directory specification.
The new directory specification will be prepended to the current Robjects
entry box value when the Apply button is pressed.
<p>
<dt><b>The Results Entry Box</b>
<dd>Entering a new results file template into the Results entry box
and hitting return updates the results file list and
selects a new current output results file.
<p>
<dt><b>The Robjects Entry Box</b>
<dd>Entering a new robjects file template into the Robjects entry box
and hitting return updates the robjects file list and
selects a new current output objects file.
<p>
<dt><b>The Current Results File</b>
<dd>The current output results file is displayed in the deactivated entry
box under the results entry box.
<p>
<dt><b>The Current Robjects File </b>
<dd>The current output robjects file is displayed in the deactivated entry
box under the robjects entry box.
<p>
</dl>
More on defining the default results file directory, defining the
results file list, setting the current output results file, and
enabling and disabling results file logging can be found in 
the <a href="#xrdir">Setting the Results File Directory</a>,
<a href="#xrtemplate">Setting the Results File Template</a>,
and <a href="#xlogresults">Logging the Results</a> sections.
<p>

<dt><b>The Files Command Button Bar</b>
<dd>The command button bar contains the following command buttons:
<p>
<dl>
<dt><b>The Apply Button</b>
<dd>Pressing the Apply button updates the input image, the input
objects file, and output results file lists and selects a new
current image, input objects file, and output results files.
<p>
<dt><b>The Cancel Button</b>
<dd>Pressing the Cancel button cancels all changes since the last Apply
button press. 
<p>
<dt><b>The Defaults Button</b>
<dd>Pressing the Defaults button resets the directory and image and
file templates to their default settings, updates the input image,
the input objects file, and output results file lists, and selects a new
current image, a new current input objects file, and new current
output results files.
<p>
<dt><b>The Help Button</b>
<dd>Pressing the Help button activates the help panel and sets the help
text to the "Files Panel" section.
<p>
<dt><b>The Dismiss Button</b>
<dd>Pressing the Dismiss button deactivates the files panel.
<p>
</dl>
</dl>
<p>

<hr>

<h3><a name=hdrpanel>The Image Header Panel</a></h3>

The image header panel permits the user to scroll through the header of the
currently displayed image. The image header panel can be activated by
selecting the "Display header ..." item from the <a href="#gimenu">Images
menu</a> or by typing the h <a href="#gkeycmds">keystroke command</a>
in the image display window. The image header panel consists of:
<p>

<dl>
<dt><b>The Title Bar</b>
<dd>The title bar displays the name of the current image.
<p>
<dt><b>The Header Display Window</b>
<dd>The header display window consists of 2 scrollbars and a text area.
<p>
<dt><b>The Command Button Bar</b> 
<dd>The command button bar contains 4 command buttons:
<p>

<dl>
<dt><b>The Next Button</b>
<dd>Pressing the Next button displays the next image and image header.
<p>
<dt><b>The Prev Button</b>
<dd>Pressing the Prev button displays the previous image and image header.
<p>
<dt><b>The Help Button</b>
<dd>Pressing the Help button points the help text to the "Image Header
Panel" section 
<p>
<dt><b>The Dismiss Button</b>
<dd>Pressing the Dismiss button deactivate the image header panel.
<p>
</dl>
</dl>
<p>

More information on examining the image headers can be found in the
<a href="#xbheaders">Browsing the Image Headers</a> and 
<a href="#xedimpars">Setting the Impars Parameters</a> sections.
<hr>

<h3><a name=pedpanel>The Parameter Editing Panel</a></h3>

The parameter editing panel permits the user to view and / or edit the
a parameter set. Parameter editing panels can activated
from selected main menu buttons, e.g. the findpars pset can be activated
from the Lists or Phot main menus. Any parameter set can be viewed, edited,
and dismissed from the <a href="#gpsmenu">Psets menu</a>.
<p>

The parameter editing panel consists of the
following elements:
<dl>
<dt><b>The Title Bar</b>
<dd>The title bar displays the title of the parameter set
being edited.
<p>
<dt><b>The Parameter Groups</b>
<dd>The parameters in a pset may be divided into subgroups for ease of
interpretation. Each subgroup has a title and is surrounded by a frame. For
example the image display parameters <a href="#dispars">dispars</a> are
subdivided into two groups, one describing the spatial transformation, and
the other describing the intensity transformation.
Each parameter within a group  is defined by a descriptive phrase,
a data entry box, and a name. There are 3 types of data entry boxes:
<p>
<dl>
<dt><b>Boolean</b>
<dd>Boolean parameters have yes or no values. When the boolean data entry
box is ready to accept input it highlights. Clicking the left mouse button
on a boolean entry box toggles the parameter value. An example of a
boolean parameter in the dispars parameter set is the <i>dfill</i> parameter.
<p>
<dt><b>Enumerated</b>
<dd>Enumerated parameters have a finite list of permitted values. When an
enumerated parameter data entry box is ready to accept input it
highlights. Clicking
the left mouse button on an enumerated entry box will bring up a menu
of permitted values. Moving to the new value and releasing the left mouse
button will select the new value.  An example of an enumerated parameter
in the dispars parameter set is the <i>dztransform</i> parameter.
<p>
<dt><b>Text</b>
<dd>Text parameters are character strings, usually but not necessarily
representing a numerical value. When a text entry box is ready to accept
input the caret appears at the position of the cursor. Deleting the
existing value, typing in a
new value, and pressing Return will enter the new value. Existing values
can be deleted by moving the caret to the beginning of the value and
typing Control K key, or by moving the caret to the end of
the existing string and typing BackSpace or Delete to delete characters
one at a time. Example of text parameters are the dispars parameters
<i>dz1</i> and <i>dz2</i>.
</dl>
<p>
If one or more new parameter values have been entered into the pset editing
panel, but not yet entered into memory with the Apply button, the
Apply button label and the new parameter values will be white instead
of black and in order to alert the user that the new parameter values are
not the current values.
<p>
<dt><b>The Command Button Bar</b>
<dd>The command button bar contains 6 required command buttons and may contain
0 or more pset specific command buttons. The required command buttons are:
<p>
<dl>
<dt><b>The Apply Button</b>
<dd>Pressing the Apply button writes any new parameter values to memory.
<p>
<dt><b>The Cancel Button</b>
<dd>Pressing the Cancel button cancels changes made since the last Apply.
<p>
<dt><b>The Unlearn Button</b>
<dd>Pressing the Unlearn button restores the parameter values to their
default state.
<p>
<dt><b>The Update Button</b>
<dd>Pressing the Update button copies the current parameter values in memory to
their corresponding parameter files on disk. Users need to be aware of
possible conflicts with the Xguiphot task <i>update parameter</i>
which if activated automatically updates the parameter sets on disk
termination. More on updating psets to disk can be found in the
<a href="#bepsets">Editing the Xguiphot Task Parameter Sets</a> and
<a href="#bupsets">Updating the Xguiphot Parameter Sets</a>
<p>
<dt><b>The Help Button</b>
<dd>Pressing the Help button activates the help panel and moves the help
text to the section describing the current parameter set.
<p>
<dt><b>The Dismiss Button</b>
<dd>Pressing the Dismiss button deactivates the parameter set editing
panel.
<p>
<dt><b>The Parameter Set Specific Buttons</b>
<dd>These buttons if any are specific to a particular parameter set editing
panel. For example the dispars parameter set editing panel contains
a Display command button which lets the user redisplay the image
quickly after editing a few parameters.
<p>
</dl>
</dl>
<p>
More on setting good values for the various pset parameters can be found
in the
<a href="#xedispars">Setting the Dispars Parameters</a>,
<a href="#xedimpars">Setting the Impars Parameters</a>,
<a href="#xedfindpars">Setting the Findpars Parameters</a>,
<a href="#xedomarkpars">Setting the Omarkpars Parameters</a>,
<a href="#xedcenpars">Setting the Cenpars Parameters</a>,
<a href="#xedskypars">Setting the Skypars Parameters</a>,
and <a href="#xedphotpars">Setting the Photpars Parameters</a>
sections.
<p>
Detail descriptions of the parameter sets can be found
in the
<a href="#dispars">The Dispars Parameters</a>,
<a href="#impars">The Impars Parameters</a>,
<a href="#findpars">The Findpars Parameters</a>,
<a href="#omarkpars">The Omarkpars Parameters</a>,
<a href="#cenpars">The Cenpars Parameters</a>,
<a href="#skypars">The Skypars Parameters</a>,
<a href="#photpars">The Photpars Parameters</a>,
<a href="#cplotpars">The Cplotpars Parameters</a>,
and <a href="#splotpars">The Splotpars Parameters</a>
sections.
<p>
<hr>

<h3><a name=modfitpanel>The Model Fitting Panel</a></h3>

The model fitting panel is used to display the results of fitting an
elliptical gaussian function to an object in order to determine reasonable
initial guesses for quantities like the hwhm of the psf, the shape and
orientation of an object, the  background sky value, and the standard
deviation of the sky background. The model fitting panel can be activated
by moving to an object in the image display window and either selecting
the "Show model plot ..." item from the <a href="#gmousemenu">Image display
menu</a> or typing the y <a href="#gkeycmds">keystroke command</a>. The
latter option is also available by selecting the "Show model plot ..."
item from the <a href="#gimenu">Images menu</a>. The model fitting panel
consists of:

<dl>
<dt><b>The Model Fit Display Window</b>
<dd>The model fit display window displays a major axis plot of the fitted
object, the best fit model, the fitted hwhm of the psf and the fitted model
parameters.
<p>
<dt><b>The Command Button Bar</b>
<dd>The command button bar consists of 8 command buttons:
<p>
<dl>
<dt><b>The Activate / Deactivate Button</b>
<dd>Pressing the Activate / Deactivate button activates or deactivates
cursor mode in the model fitting panel. When cursor mode
is active the user can access the Setwidth, Refit, Replot, Results,
and Moments Command Buttons and interact with the plot via the usual
builtin IRAF <a href="#gcurkeycmds">cursor keystroke</a> and
<a href="#gcurcoloncmds">cursor colon commands</a>.
<p>
<dt><b>The Setwidth Button</b>
<dd>Pressing the Setwidth button stores the computed hwhmpsf values
in the <a href="#impars">impars</a> <i>ihwhmpsf</i> parameter. <i>Ihwhmpsf</i>
controls the data region used
to compute the model fit, so users should immediately execute a Refit
after every Setwidth to check that the fit is stable.
<p>
<dt><b>The Refit Button</b>
<dd> Pressing the Refit button refits the data using the current value
of the impars <i>ihwhmpsf</i> parameter.
<p>
<dt><b>The Replot Button</b>
<dd>Pressing the Replot Button replots the results of the current fit.
<p>
<dt><b>The Results Button</b>
<dd>Pressing the Results button prints the results of the current
model fit in the bottom of the model fit display window.
<p>
<dt><b>The Moments Button</b>
<dd>Pressing the Moments button prints the results of the current moments
analysis in the bottom of the model fit display window instead of the
results of the current model fit. This can be useful if for some reason
the model fit fails to converge.
<p>
<dt><b>The Help Button</b>
<dd>Pressing the Help button activates the help panel and moves the help
text to the "Model Fitting Panel" section.
<p>
<dt><b>The Dismiss Button</b>
<dd>Pressing the Dismiss button deactivates the model fitting panel.
<p>
</dl>
</dl>
<p>

More information on using the model fitting panel to examine stellar
objects and estimate the hwhm of the psf can be found in the
section on <a href="#xhwhmpsf">Setting the Hwhm of the Psf</a>.
<p>
<hr>


<h3><a name=lpanel>The Object List Panel</a></h3>

The object list panel permits the user to create, examine, edit, and save
object lists. The object list panel can be activated by
selecting the "List panel ..." item from the <a href="#glmenu">Lists
menu</a>, the <a href="#gemenu">Edit menu</a>, or
<a href="#gpmenu">Phot menu</a>, or by typing the l
<a href="#gkeycmds">keystroke command</a> in the image display window.
The list panel consists of the following sections:

<dl>
<dt><b>The Create New List Group</b>
<dd>The create new list section allows the user to create a new object
list by, reading objects from an objects file, finding the objects
automatically using an object detection algorithm, or creating the
list interactively with the image display and the image cursor. This
section duplicates much of the functionality of the <a href="#glmenu">Lists
menu</a>.  The create new list section consists of the following
elements.
<p>

<dl>
<dt><b>The Input Objects File Entry Box</b>
<dd>The input objects file entry box displays the current object file which must
be an item in the input objects file list. A new object file can be entered
by removing the existing entry with the BackSpace or Control k keys, typing in
a new value, and pressing Return. If the new value is in the object files
list a new object list will be generated.
<dt><b>The Reread Button</b>
<dd> Pressing the Reread button causes the current objects file to
be reread and the objects list to be recreated.
<dt><b>The Next Button</b>
<dd>Pressing the Next command button causes the next objects file to be
read into the objects list.
<dt><b>The Prev Button</b>
<dd>Pressing the Prev command button causes the previous objects file to
be read into the objects list.
<dt><b>The Find Button</b>
<dd>Pressing the Find command button causes a new objects list to
be created automatically from the current image using the current values
of the Impars and Findpars parameters.
<dt><b>The Impars Button</b>
<dd>Pressing the Impars command button will bring up the impars parameter
editing panel. Users should make sure that the values of the <i>ihwhmpsf</i>,
<i>imindata</i>, and <i>imaxdata</i> parameters are reasonable for the
current image.
<dt><b>The Findpars Command Button</b>
<dd>Pressing the Findpars command button will bring up the findpars parameter
editing panel. Users should make sure that the value of the <i>fthreshold</i>
parameter is reasonable for the current image.
<dt><b>The Draw Command Button</b>
<dd>Pressing the Draw command button will activate the object list drawing
routine.
</dl>
<p>
More about creating object lists can be found in the
<a href="#xrfmklist">Creating Objects Lists From Objects Files</a>,
<a href="#xamklist">Creating Objects Lists Automatically</a>,
<a href="#xedimpars">Setting the Impars Parameters</a>,
<a href="#xedfindpars">Setting the Findpars Parameters</a>,
<a href="#xdgmklist">Creating an Objects List with the Image Cursor</a>, and
<a href="#xdmmklist">Creating an Objects List with the Photometry Marker</a>
sections.
<p>

<dt><b>The View and Edit List Section</b>
<dd>The view and edit section allows the user to browse the object list,
to mark the object list on the image display, and to edit the object list.
Most of the functionality in this section of the panel is duplicated
in the <a href="#glmenu">Lists menu</a> and the <a href="#gemenu">Edit menu</a>.
The view and edit section consists of the following elements:
<p>

<dl>
<dt><b>The Rewind Button</b>
<dd>Pressing the Rewind button rewinds the object list and sets the
current object to BOF.
<dt><b>The Next Button</b>
<dd>Pressing the Next button selects the next object in the object list.
<dt><b>The Prev Button</b>
<dd>Pressing the Prev button selects the previous object in the object list.
<dt><b>The Show / Dismiss Marker Button</b>
<dd>Pressing the Show / Dismiss Marker button activates / deactivates the
<a href="#gobjmarker">object list marker</a>.
<dt><b>The Show Button</b>
<dd>Pressing the Show button marks the object list on the image display
window.
<dt><b>The Erase Button</b>
<dd>Pressing the Erase button erases the object list from the image display
window.
<dt><b>The Omarkpars Button</b>
<dd>Pressing the Omarkpars command button activates the
<a href="#omarkpars">omarkpars</a> parameter editing panel.
<dt><b>The Init Button</b>
<dd>Pressing the Init command button deletes the current object list.
<dt><b>The Delete Button</b>
<dd>Pressing the Delete command button deletes the currently selected object.
<dt><b>The Undelete Button</b>
<dd>Pressing the Undelete command button undeletes the currently selected
object.
<dt><b>The Draw Button</b>
<dd>Pressing the Draw command button enters the interactive object
drawing routine. The Draw button in the View and Edit section differs
from the action of the Draw button in the Create List section, in that in the
former case new objects are added to the end of the existing object list, while
in the latter they are entered in a new list.
<dt><b>The Object Geometry Entry Box</b>
<dd>Entering the object geometry in the object geometry entry box
and pressing Return will add the object to the current object list.
The simplest object is an x and y value separated by whitespace. 
More complicated object formats are more described in  the 
<a href="#aoformats">Object Files Format</a> section of the appendices.
<dt><b>The Clear Button</b>
<dd>Pressing the Clear command button deletes the text in the object geometry
entry box.
<dt><b>The Enter Button</b>
<dd>Pressing the Enter command button adds the object defined in the object
geometry entry box to the current object list.
</dl>
<p>
More about viewing, browsing, and editing the objects list can be found in the
<a href="#xviewlist">Viewing the Objects List</a>,
<a href="#xedomarkpars">Setting the Omarkpars Parameters</a>,
<a href="#xbolist">Browsing the Objects List</a>, 
<a href="#xdulist">Deleting and Undeleting Objects from the Objects List</a>,
and <a href="#xaddlist">Adding Objects to the Objects List</a>
sections.
</p>

<dt><b>The Measure List Group</b>
<dd> The measure list section permits the user to do photometry on one
or more of the objects in the objects list. Most of the
functions in the measure list section are duplicated in the
<a href="#gpmenu">Phot menu</a> and the <a href="#gobjmarker">object
marker</a> menu.  The measure list section consists of the following
elements:
<p>
<dl>
<dt><b>The Cenpars Button</b>
<dd>Pressing the Cenpars command button activates the cenpars parameter
editing panel. The cenpars parameters should be examined and edited before doing
serious photometry,
<dt><b>The Skypars Button</b>
<dd>Pressing the Skypars command button activates the skypars parameter
editing panel. These parameters should be examined and edited before doing
serious photometry,
<dt><b>The Photpars Button</b>
<dd>Pressing the Photpars command button activates the photpars parameter
editing panel. These parameters should be examined and edited before doing
serious photometry,
<dt><b>The Log Results Button</b>
<dd>Pressing the log results command button will toggle the output results
file logging.
<dt><b>The Current Button</b>
<dd>Pressing the current command button measures the current object in the
object list.
<dt><b>The Next Button</b>
<dd>Pressing the Next command button measures the next object in the
object list.
<dt><b>The Prev Button</b>
<dd>Pressing the Prev command button measures the previous object in the
object list.
<dt><b>The Restof Button</b>
<dd>Pressing the Restof command button measures all the list objects
from the current object on.
<dt><b>The All Button</b>
<dd>Pressing the All command button measures the entire list regardless
of which object is the current object. 
</dl>
<p>

More about measuring the objects in the object list can be found
in the
<a href="#xomeasure">Measuring Objects in the Objects List</a> and
<a href="#xommeasure">Measuring Objects Through the Object List
Marker</a> sections.
<p>

<dt><b>The Save List Section</b>
<dd>The save list section permits the user to save the current object list,
i.e. the list currently displayed in the object list window minus any
deleted objects, to a file . It also includes the
Help and Dismiss command buttons. The save list section consists of the
following elements:
<p>

<dl>
<dt><b>The Dir Entry Box</b>
<dd>Entering the output objects file path and pressing
Return will specify the directory for the output objects file.
<dt><b>The File Entry Box</b>
<dd>Entering the output objects file name and pressing
Return will save the current objects list to the specified file. A
message will appear in the status line telling the user how many
objects were written to the specified file. By default a file of the
form imname.obj.# is written.
<dt><b>The Save Button</b>
<dd>Pressing the save button saves the current object to the file
specified by the Dir and File entry box values.  A
message will appear in the status line telling the user how many
objects were written to the specified file.
<dt><b>The Help Button</b>
<dd>Pressing the Help button activates the help panel and displays the
help text for the list panel.
<dt><b>The Dismiss Button</b>
<dd>Pressing the Dismiss button will deactivate the list panel.
</dl>
</dl>

More on saving objects lists to objects file can be found in the
<a href="#xsavelist">Saving the Objects List</a> section.
<p>

<h3><a name=ptpanel>The Photometry Table Panel</a></h3>

The photometry table lists the quick-look photometry results for all objects
measured while the panel is activated. The photometry table panel can be
activated by selecting the "Photometry table ..." item from the
<a href="#grmenu">Results menu</a>or by typing the t
<a href="#gkeycmds">keystroke command</a> in the image display window.
The results for the last measured object can be recalled to the table
by selecting the "Display last result" item from the Results menu
or by typing the ; keystroke command in the image display window.
The photometry table panel consists of the following elements:
<p>

<dl>
<dt><b>Text widget</b>
<dd>The text widget displays the results of all object measurements
made while the window is active in the form of a table. The recorded
measurements are those for the largest aperture defined by the
photpars <i>papertures</i> parameter. The only way to clear the table
is to press the Clear button.
<p>

<dt><b>Command Button Bar</b>
<dd>The command button bar consists of:
<p>
<dl>
<dt><b>The Log Results Button</b>
<dd>Pressing the Logresults button enables or disables results file logging.
The logging status of each measurement is recorded in the photometry table.
<dt><b>The Clear Button</b>
<dd>Pressing the Clear button clears the text from the photometry table.
<dt><b>The Help Button</b>
<dd>Pressing the Help button activates the Help panel and moves to the
help text for the photometry panel.
<dt><b>The Dismiss Button</b>
<dd>Pressing the Dismiss button deactivates the quick-look photometry table
and disables writing to the table.
</dl>
</dl>
More about viewing the results with the photometry table panel can be
found in the <a href="#xrptable">The Quick-Look Photometry Table</a>
section.
<p>
<hr>

<h3><a name=pgpanel>The Photometry Plots Panel</a></h3>

The photometry plots panel displays plots of the object and sky regions
and of the results of the object and sky analysis while the panel is
activated. The photometry plots panel can be
activated by selecting the "Photometry plots ..." item from the
<a href="#grmenu">Results menu</a>or by typing the g
<a href="#gkeycmds">keystroke command</a> in the image display window.
The last item measured can be recalled and displayed in the panel by selecting
the "Display last result" item from the Results menu or by typing the
; keystroke command in the image display window.
<p>

A variety of object and sky region displays are available including
simple image display, image display with contour overlay, image display
with object or sky aperture overlay, contour plots, or surface mesh plots.
Different plots can be selected using the Objdisplay and Skydisplay
buttons. The default object and sky displays are image display with
object or sky aperture overlays.
<p>

A variety of object and sky analysis plots are available, including
major axis and position angle profile plots of the object and sky
region, histogram plots of the sky region, and curve-of-growth and
moments analysis plots for multi-aperture measurements.
Different plots can be selected  using the Objplots and Skyplots
menu buttons. The defaults are major axis and histogram plots for the
object and sky analysis respectively.
<p>

Cursor mode can be switched from the default image display window to any
one of the plots windows in the photometry plots panel hitting the appropriate
Activate button. In cursor mode users have access to all the usual
IRAF builtin <a href="#gcurkeycmds">cursor keystroke</a> and
<a href="#gcurcoloncmds">colon commands</a>.

<p>

The photometry plots panel consists of the following elements:

<dl>
<dt><b>Results text area</b>
<dd>The complete single object analysis results are printed in the text
area including multi-aperture results if any.
<dt><b>Object region display window</b>
<dd>A zoomed up view of the last object measured is displayed in the object
region display window.
<dt><b>Object analysis plot window</b>
<dd>The results of the object analysis are plotted in the object analysis
plot window. The default plot is a semi-major axis plot.
<dt><b>Object analysis menu bar</b>
<dd> The object analysis menubar consists of:
<dl>
<dt><b>The Objdisplay Button</b>
<dd>Pressing the Objdisplay button will activate the object display menu.
<dt><b>The Activate Button</b>
<dd>Pressing the Active button will activate cursor mode for the object
display region plot. Press again to deactivate.
<dt><b>The Objplots Button</b>
<dd>Pressing the Objplots button will activate the object plots menu.
<dt><b>The Activate Button</b>
<dd>Pressing the Activate button will activate cursor mode for the object
analysis plot. Press again to deactivate.
</dl>
<dt><b>Sky region display window</b>
<dd>A zoomed up view of the last sky region measured is displayed in the sky
region display window.
<dt><b>Sky analysis plot window</b>
<dd>The results of the last sky analysis are plotted in the sky analysis
plot window. The default plot is a histogram plot.
<dt><b>Sky analysis menu bar</b>
<dd> The sky analysis menubar consists of:
<dl>
<dt><b>The Skydisplay Button</b>
<dd>Pressing the Skydisplay button will activate the sky region display menu.
<dt><b>The Activate Button</b>
<dd>Pressing the Activate command button will activate cursor mode for the sky
display region plot. Press again to deactivate.  
<dt><b>The Skyplots Button</b>
<dd>Pressing the Skyplots button will activate the sky analysis plots menu.
<dt><b>The Activate Button</b>
<dd>Pressing the Active command button will activate cursor mode for the sky
analysis plot. Press again to deactivate.
</dl>
</dl>

More about viewing the results can be found in the
<a href="#xrplots">The Quick-Look Photometry Plots</a> section.
<p>
<hr>


<h1><a name=appendices>The Appendices</a></h1>
<p>

<h2><a name=aoformats>The Object File Format</a></h2>

The input objects file consists of a list of object definitions. Each object
definition consists of an object region definition and an optional 
sky region definition. If the sky definition is present it must
be separated from the object definition by the string " ; " as shown
below.

<PRE>
object region definition [; [sky region definition]]

e.g.

256.23 258.31 circle 25.0
256.23 258.31 circle 25.0 ;
256.23 258.31 circle 25.0 ; circle 30.0 40.0
</PRE>
<p>

Object regions may by points, circles, ellipses, rectangles, polygons, or
undefined.  Each geometry has its own syntax as shown below.

<PRE>
    point: x y
   circle: x y circle radii
  ellipse: x y ellipse radii [axratio [pa]]
rectangle: x y rectangle radii [axratio [pa]]
  polygon: x y polygon [[radii] {
           xver1 yver1
           xver2 yver2
           ...   ...
           xverN yverN
           }] 
undefined: x y INDEF [INDEF [axratio [pa]]
</PRE>

e.g.

<PRE>
256.23 258.31
256.23 258.31 circle 25.0
256.23 258.31 ellipse 25.0 0.75 33.0
256.23 258.31 rectangle 25.0 0.75 33.0
256.23 258.31 polygon 5,10,15 {
    100.0 100.0
    200.0 100.0
    200.0 200.0
    100.0 200.0
}
356.23 358.31 polygon 5,10,15
256.23 258.31 INDEF INDEF
</PRE>

The x and y coordinates are required in all cases. The radii field may
define a single radius, e.g. "10.0", a list of radii, e.g. "3,6,9,12,15,18",
or a range of radii, e.g. "1:20.0:2.0". If a polygon radii field is
present it is treated as a width, and the polygonal aperture is extended
outward by that amount. Missing or INDEF valued required
radii fields will automatically have their geometries set to INDEF. All
radii measurements are assumed to be in the units of the
<a href="#impars">impars</a> <i>iscale</i> parameter. Missing axis ratio
and position angle fields are assigned the values of 1.0 and 0.0 respectively.
If the vertices field of a polygonal object is ommitted the last defined
object polygon is used. If no object polygon has been defined by the time the
first polygonal object appears in the list, the object geometry is set to INDEF.
<p>

Sky regions may by points, circles, ellipses, rectangles, polygons, objects,
or undefined.  The object option means use the same geometry as the object
region. Each geometry has its own syntax as shown below.

<PRE>
    point: [x y INDEF]
   circle: [x y] circle srin srout
  ellipse: [x y] ellipse srin srout [axratio [pa]]
rectangle: [x y] rectangle srin srout [axratio [pa]]
  polygon: [x y] polygon [[srin srout] {
           xver1 yver1
           xver2 yver2
           ...   ...
           xverN yverN
           }] 
   object: [x y] object srin srout
undefined: 
</PRE>

e.g.

<PRE>
256.23 258.31 ; 356.23 358.31
256.23 258.31 ; circle 30. 40.
256.23 258.31 ; 356.23 358.31 circle 30. 40.
256.23 258.31 ; ellipse 30. 40.
256.23 258.31 ; 356.23 358.31 ellipse 30. 40.
256.23 258.31 ; 356.23 358.31 ellipse 30. 40. 0.75 48.2
256.23 258.31 ; rectangle 30. 40.
256.23 258.31 ; 356.23 358.31 rectangle 30. 40.
256.23 258.31 ; 356.23 358.31 rectangle 30. 40. 0.75 48.2
256.23 258.31 ; 356.23 358.31 object
256.23 258.31 ; polygon 10 15 {
    100.0 100.0
    200.0 100.0
    200.0 200.0
    100.0 200.0
}
256.23 258.31 ; 356.23 358.31 polygon 10 15 {
    100.0 100.0
    200.0 100.0
    200.0 200.0
    100.0 200.0
}
</PRE>

Sky regions may be concentric with the object region, i.e. no x and y
sky region coordinates are defined, or offset, i.e. the x and y coordinates
are defined. If the sky geometry is "object", then the sky region inherits
the geometry, axis ratio, and position angle of the object region. The inner
and out sky annulus radii must be defined for all geometries except polygonal.	
Missing or undefined axis ratio and position fields are assigned values
of 1.0 and 0.0 respectively.
<p>


<h2><a name=amoments>The Moment Analysis Computation</a></h2>

The object shape analysis is performed for each aperture using the second
order moment computation shown below.

<PRE>
       dx = x - XCENTER
       dy = y - YCENTER
       dI = I - MSKY

       Mxx = sum (dI * dx * dx) / sum (I - MSKY)
       Mxy = sum (dI * dx * dy) / sum (I - MSKY)
       Myy = sum (dI * dy * dy) / sum (I - MSKY)

    HWIDTH = sqrt (log (2) * (Mxx + Myy))
       ELL = sqrt ((Mxx - Myy) ** 2 + 4 * Mxy ** 2) / (Mxx + Myy)
   AXRATIO = 1.0 - ELL
        PA = 0.5 * atan (2 * Mxy / (Mxx - Myy))
 SHARPNESS = HWIDTH / FWHMPSF
</PRE>
<p>

x, y, and I are the pixel coordinates and intensity value of each pixel
contributing to the computation.  XCENTER, YCENTER, and MSKY are the pixel
centers and best sky value produced by the centering and sky fitting routines.
Mxx, Mxy, and Myy are the second order central moments, and HWIDTH, ELL,
PA, and SHARPRAT are the estimated half-width at half-maxima, ellipticity,
position angle, and sharpness ratio respectively. The HWIDTH estimates
are exact if the object is a perfect Gaussian. The ellipticity is defined
as 1 - axratio. Position angles are measured counter-clockwise from
the positive x axis. The sharpness ratio is the ratio of the measured
HWIDTH to the value of the impars  <i>ihwhmpsf</i> parameter supplied
by the user.
<p>

<h2><a name=amags>The Magnitude Computation</a></h2>

The magnitudes are computed for each aperture in the following way.

<PRE>
MAG = 2.5 log10 (FLUX)
FLUX = SUM - AREA * MSKY
</PRE>
<p>

<h2><a name=amagerrs>The Magnitude Error Computation</a></h2>

Magnitude error estimates are computed in the following way.

<PRE>
MAG = -2.5 log10 (FLUX)
ERROR(MAG) = 1.0857 * ERROR (FLUX) / FLUX
ERROR(FLUX)^2 = FLUX / IGAIN + AREA * STDEV^2 + AREA^2 * STDEV^2 / NSKY
</PRE>
<p>

<h2><a name=aguilimits>Limitations of the Current GUI</a></h2>


The Xguiphot GUI is intended to provide a user interface for an aperture
photometry application. Although it provides limited image display and image
browsing capabilities, it is not and was not intended to be a general purpose
image display or image browser tool, and makes no attempt to duplicate the
full functionality of the XImtool image display server or the imexamine task.
Instead the xguiphot image examining functions are limited  to those most
useful for doing photometry, with the idea that more general capabilities
may be added later via the plug-in image display server currently under
development.
<p>

The object list widget has a builtin upper limit of around 2200 objects,
beyond which the scrollbars will not function correctly. Xguiphot will still
mark and measure longer lists, but functions like select, delete, and
undelete on the List panel will not be available.
<p>

Marker support for polygonal apertures is available but is not
fully general. Users can draw polygons on the image display, move them
around, and measure through them. Polygonal markers can be activated, rotated,
 and resized but it is not yet possible to alter the number of vertices from
those marked on the display, except by drawing a new polygon.
<p>

Xguiphot currently contains 6 XGterm widgets, 3 for vector graphics, and
3 for image display. The 3 vector graphics widgets behave exactly like
a normal IRAF XGterm widget, once their associated Activate button is
pushed. So do the image display widgets with the
exception that snaps and hardcopies of the displayed image do not
work and will currently produce blank plots. Any overlay graphics however
will be snapped.
<p>

The main image display window  is also an xgterm widget, and it has the same
problem with printing as the object and sky region
widgets. Cursor mode is otherwise fully functional in this window,
with the following limitation. If a cursor mode zoom or pan function,
e.g. Z, M, P, E, 0 etc is executed in the image display window when
the last graphics object displayed was not the image, then the user
will get an unpleasant surprise when one of these keystrokes is
executed. They will see the last plot appear in the image display window
rather than the redisplayed image. A simple i keystroke will fix the problem but
any overlayed graphics will be lost. This problem is due to their being
only one true graphics buffer in IRAF. The problem is solved for other
plots by redisplaying their contents when the plots are activated. However
it is inefficient and annoying to do this for images.
<p>
<hr>
</body>
</html>
